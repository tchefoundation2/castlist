"use strict";var miniapp=(()=>{var Zp=Object.create;var Mi=Object.defineProperty;var Yp=Object.getOwnPropertyDescriptor;var Jp=Object.getOwnPropertyNames;var Xp=Object.getPrototypeOf,Qp=Object.prototype.hasOwnProperty;var Ut=(r,e)=>()=>(r&&(e=r(r=0)),e);var $t=(r,e)=>()=>(e||r((e={exports:{}}).exports,e),e.exports),Qt=(r,e)=>{for(var t in e)Mi(r,t,{get:e[t],enumerable:!0})},Nf=(r,e,t,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of Jp(e))!Qp.call(r,s)&&s!==t&&Mi(r,s,{get:()=>e[s],enumerable:!(n=Yp(e,s))||n.enumerable});return r};var Sr=(r,e,t)=>(t=r!=null?Zp(Xp(r)):{},Nf(e||!r||!r.__esModule?Mi(t,"default",{value:r,enumerable:!0}):t,r)),Pa=r=>Nf(Mi({},"__esModule",{value:!0}),r);var kl=$t(Wi=>{"use strict";Wi.byteLength=Sm;Wi.toByteArray=Am;Wi.fromByteArray=Om;var yr=[],sr=[],vm=typeof Uint8Array<"u"?Uint8Array:Array,tc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(Cn=0,Al=tc.length;Cn<Al;++Cn)yr[Cn]=tc[Cn],sr[tc.charCodeAt(Cn)]=Cn;var Cn,Al;sr[45]=62;sr[95]=63;function Il(r){var e=r.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var t=r.indexOf("=");t===-1&&(t=e);var n=t===e?0:4-t%4;return[t,n]}function Sm(r){var e=Il(r),t=e[0],n=e[1];return(t+n)*3/4-n}function xm(r,e,t){return(e+t)*3/4-t}function Am(r){var e,t=Il(r),n=t[0],s=t[1],i=new vm(xm(r,n,s)),o=0,c=s>0?n-4:n,u;for(u=0;u<c;u+=4)e=sr[r.charCodeAt(u)]<<18|sr[r.charCodeAt(u+1)]<<12|sr[r.charCodeAt(u+2)]<<6|sr[r.charCodeAt(u+3)],i[o++]=e>>16&255,i[o++]=e>>8&255,i[o++]=e&255;return s===2&&(e=sr[r.charCodeAt(u)]<<2|sr[r.charCodeAt(u+1)]>>4,i[o++]=e&255),s===1&&(e=sr[r.charCodeAt(u)]<<10|sr[r.charCodeAt(u+1)]<<4|sr[r.charCodeAt(u+2)]>>2,i[o++]=e>>8&255,i[o++]=e&255),i}function Im(r){return yr[r>>18&63]+yr[r>>12&63]+yr[r>>6&63]+yr[r&63]}function km(r,e,t){for(var n,s=[],i=e;i<t;i+=3)n=(r[i]<<16&16711680)+(r[i+1]<<8&65280)+(r[i+2]&255),s.push(Im(n));return s.join("")}function Om(r){for(var e,t=r.length,n=t%3,s=[],i=16383,o=0,c=t-n;o<c;o+=i)s.push(km(r,o,o+i>c?c:o+i));return n===1?(e=r[t-1],s.push(yr[e>>2]+yr[e<<4&63]+"==")):n===2&&(e=(r[t-2]<<8)+r[t-1],s.push(yr[e>>10]+yr[e>>4&63]+yr[e<<2&63]+"=")),s.join("")}});var Ol=$t(rc=>{rc.read=function(r,e,t,n,s){var i,o,c=s*8-n-1,u=(1<<c)-1,p=u>>1,m=-7,b=t?s-1:0,x=t?-1:1,S=r[e+b];for(b+=x,i=S&(1<<-m)-1,S>>=-m,m+=c;m>0;i=i*256+r[e+b],b+=x,m-=8);for(o=i&(1<<-m)-1,i>>=-m,m+=n;m>0;o=o*256+r[e+b],b+=x,m-=8);if(i===0)i=1-p;else{if(i===u)return o?NaN:(S?-1:1)*(1/0);o=o+Math.pow(2,n),i=i-p}return(S?-1:1)*o*Math.pow(2,i-n)};rc.write=function(r,e,t,n,s,i){var o,c,u,p=i*8-s-1,m=(1<<p)-1,b=m>>1,x=s===23?Math.pow(2,-24)-Math.pow(2,-77):0,S=n?0:i-1,T=n?1:-1,I=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(c=isNaN(e)?1:0,o=m):(o=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-o))<1&&(o--,u*=2),o+b>=1?e+=x/u:e+=x*Math.pow(2,1-b),e*u>=2&&(o++,u/=2),o+b>=m?(c=0,o=m):o+b>=1?(c=(e*u-1)*Math.pow(2,s),o=o+b):(c=e*Math.pow(2,b-1)*Math.pow(2,s),o=0));s>=8;r[t+S]=c&255,S+=T,c/=256,s-=8);for(o=o<<s|c,p+=s;p>0;r[t+S]=o&255,S+=T,o/=256,p-=8);r[t+S-T]|=I*128}});var Ws=$t(_s=>{"use strict";var nc=kl(),gs=Ol(),Tl=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;_s.Buffer=N;_s.SlowBuffer=Pm;_s.INSPECT_MAX_BYTES=50;var qi=2147483647;_s.kMaxLength=qi;N.TYPED_ARRAY_SUPPORT=Tm();!N.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function Tm(){try{let r=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(r,e),r.foo()===42}catch{return!1}}Object.defineProperty(N.prototype,"parent",{enumerable:!0,get:function(){if(N.isBuffer(this))return this.buffer}});Object.defineProperty(N.prototype,"offset",{enumerable:!0,get:function(){if(N.isBuffer(this))return this.byteOffset}});function Or(r){if(r>qi)throw new RangeError('The value "'+r+'" is invalid for option "size"');let e=new Uint8Array(r);return Object.setPrototypeOf(e,N.prototype),e}function N(r,e,t){if(typeof r=="number"){if(typeof e=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return ac(r)}return Cl(r,e,t)}N.poolSize=8192;function Cl(r,e,t){if(typeof r=="string")return Lm(r,e);if(ArrayBuffer.isView(r))return Bm(r);if(r==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof r);if(_r(r,ArrayBuffer)||r&&_r(r.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(_r(r,SharedArrayBuffer)||r&&_r(r.buffer,SharedArrayBuffer)))return ic(r,e,t);if(typeof r=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');let n=r.valueOf&&r.valueOf();if(n!=null&&n!==r)return N.from(n,e,t);let s=Cm(r);if(s)return s;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof r[Symbol.toPrimitive]=="function")return N.from(r[Symbol.toPrimitive]("string"),e,t);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof r)}N.from=function(r,e,t){return Cl(r,e,t)};Object.setPrototypeOf(N.prototype,Uint8Array.prototype);Object.setPrototypeOf(N,Uint8Array);function Pl(r){if(typeof r!="number")throw new TypeError('"size" argument must be of type number');if(r<0)throw new RangeError('The value "'+r+'" is invalid for option "size"')}function Nm(r,e,t){return Pl(r),r<=0?Or(r):e!==void 0?typeof t=="string"?Or(r).fill(e,t):Or(r).fill(e):Or(r)}N.alloc=function(r,e,t){return Nm(r,e,t)};function ac(r){return Pl(r),Or(r<0?0:cc(r)|0)}N.allocUnsafe=function(r){return ac(r)};N.allocUnsafeSlow=function(r){return ac(r)};function Lm(r,e){if((typeof e!="string"||e==="")&&(e="utf8"),!N.isEncoding(e))throw new TypeError("Unknown encoding: "+e);let t=Ml(r,e)|0,n=Or(t),s=n.write(r,e);return s!==t&&(n=n.slice(0,s)),n}function sc(r){let e=r.length<0?0:cc(r.length)|0,t=Or(e);for(let n=0;n<e;n+=1)t[n]=r[n]&255;return t}function Bm(r){if(_r(r,Uint8Array)){let e=new Uint8Array(r);return ic(e.buffer,e.byteOffset,e.byteLength)}return sc(r)}function ic(r,e,t){if(e<0||r.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(r.byteLength<e+(t||0))throw new RangeError('"length" is outside of buffer bounds');let n;return e===void 0&&t===void 0?n=new Uint8Array(r):t===void 0?n=new Uint8Array(r,e):n=new Uint8Array(r,e,t),Object.setPrototypeOf(n,N.prototype),n}function Cm(r){if(N.isBuffer(r)){let e=cc(r.length)|0,t=Or(e);return t.length===0||r.copy(t,0,0,e),t}if(r.length!==void 0)return typeof r.length!="number"||fc(r.length)?Or(0):sc(r);if(r.type==="Buffer"&&Array.isArray(r.data))return sc(r.data)}function cc(r){if(r>=qi)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+qi.toString(16)+" bytes");return r|0}function Pm(r){return+r!=r&&(r=0),N.alloc(+r)}N.isBuffer=function(e){return e!=null&&e._isBuffer===!0&&e!==N.prototype};N.compare=function(e,t){if(_r(e,Uint8Array)&&(e=N.from(e,e.offset,e.byteLength)),_r(t,Uint8Array)&&(t=N.from(t,t.offset,t.byteLength)),!N.isBuffer(e)||!N.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let n=e.length,s=t.length;for(let i=0,o=Math.min(n,s);i<o;++i)if(e[i]!==t[i]){n=e[i],s=t[i];break}return n<s?-1:s<n?1:0};N.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}};N.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(e.length===0)return N.alloc(0);let n;if(t===void 0)for(t=0,n=0;n<e.length;++n)t+=e[n].length;let s=N.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){let o=e[n];if(_r(o,Uint8Array))i+o.length>s.length?(N.isBuffer(o)||(o=N.from(o)),o.copy(s,i)):Uint8Array.prototype.set.call(s,o,i);else if(N.isBuffer(o))o.copy(s,i);else throw new TypeError('"list" argument must be an Array of Buffers');i+=o.length}return s};function Ml(r,e){if(N.isBuffer(r))return r.length;if(ArrayBuffer.isView(r)||_r(r,ArrayBuffer))return r.byteLength;if(typeof r!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof r);let t=r.length,n=arguments.length>2&&arguments[2]===!0;if(!n&&t===0)return 0;let s=!1;for(;;)switch(e){case"ascii":case"latin1":case"binary":return t;case"utf8":case"utf-8":return oc(r).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return t*2;case"hex":return t>>>1;case"base64":return jl(r).length;default:if(s)return n?-1:oc(r).length;e=(""+e).toLowerCase(),s=!0}}N.byteLength=Ml;function Mm(r,e,t){let n=!1;if((e===void 0||e<0)&&(e=0),e>this.length||((t===void 0||t>this.length)&&(t=this.length),t<=0)||(t>>>=0,e>>>=0,t<=e))return"";for(r||(r="utf8");;)switch(r){case"hex":return Km(this,e,t);case"utf8":case"utf-8":return Dl(this,e,t);case"ascii":return qm(this,e,t);case"latin1":case"binary":return jm(this,e,t);case"base64":return Vm(this,e,t);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Hm(this,e,t);default:if(n)throw new TypeError("Unknown encoding: "+r);r=(r+"").toLowerCase(),n=!0}}N.prototype._isBuffer=!0;function Pn(r,e,t){let n=r[e];r[e]=r[t],r[t]=n}N.prototype.swap16=function(){let e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)Pn(this,t,t+1);return this};N.prototype.swap32=function(){let e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)Pn(this,t,t+3),Pn(this,t+1,t+2);return this};N.prototype.swap64=function(){let e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)Pn(this,t,t+7),Pn(this,t+1,t+6),Pn(this,t+2,t+5),Pn(this,t+3,t+4);return this};N.prototype.toString=function(){let e=this.length;return e===0?"":arguments.length===0?Dl(this,0,e):Mm.apply(this,arguments)};N.prototype.toLocaleString=N.prototype.toString;N.prototype.equals=function(e){if(!N.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e?!0:N.compare(this,e)===0};N.prototype.inspect=function(){let e="",t=_s.INSPECT_MAX_BYTES;return e=this.toString("hex",0,t).replace(/(.{2})/g,"$1 ").trim(),this.length>t&&(e+=" ... "),"<Buffer "+e+">"};Tl&&(N.prototype[Tl]=N.prototype.inspect);N.prototype.compare=function(e,t,n,s,i){if(_r(e,Uint8Array)&&(e=N.from(e,e.offset,e.byteLength)),!N.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(t===void 0&&(t=0),n===void 0&&(n=e?e.length:0),s===void 0&&(s=0),i===void 0&&(i=this.length),t<0||n>e.length||s<0||i>this.length)throw new RangeError("out of range index");if(s>=i&&t>=n)return 0;if(s>=i)return-1;if(t>=n)return 1;if(t>>>=0,n>>>=0,s>>>=0,i>>>=0,this===e)return 0;let o=i-s,c=n-t,u=Math.min(o,c),p=this.slice(s,i),m=e.slice(t,n);for(let b=0;b<u;++b)if(p[b]!==m[b]){o=p[b],c=m[b];break}return o<c?-1:c<o?1:0};function Ul(r,e,t,n,s){if(r.length===0)return-1;if(typeof t=="string"?(n=t,t=0):t>2147483647?t=2147483647:t<-2147483648&&(t=-2147483648),t=+t,fc(t)&&(t=s?0:r.length-1),t<0&&(t=r.length+t),t>=r.length){if(s)return-1;t=r.length-1}else if(t<0)if(s)t=0;else return-1;if(typeof e=="string"&&(e=N.from(e,n)),N.isBuffer(e))return e.length===0?-1:Nl(r,e,t,n,s);if(typeof e=="number")return e=e&255,typeof Uint8Array.prototype.indexOf=="function"?s?Uint8Array.prototype.indexOf.call(r,e,t):Uint8Array.prototype.lastIndexOf.call(r,e,t):Nl(r,[e],t,n,s);throw new TypeError("val must be string, number or Buffer")}function Nl(r,e,t,n,s){let i=1,o=r.length,c=e.length;if(n!==void 0&&(n=String(n).toLowerCase(),n==="ucs2"||n==="ucs-2"||n==="utf16le"||n==="utf-16le")){if(r.length<2||e.length<2)return-1;i=2,o/=2,c/=2,t/=2}function u(m,b){return i===1?m[b]:m.readUInt16BE(b*i)}let p;if(s){let m=-1;for(p=t;p<o;p++)if(u(r,p)===u(e,m===-1?0:p-m)){if(m===-1&&(m=p),p-m+1===c)return m*i}else m!==-1&&(p-=p-m),m=-1}else for(t+c>o&&(t=o-c),p=t;p>=0;p--){let m=!0;for(let b=0;b<c;b++)if(u(r,p+b)!==u(e,b)){m=!1;break}if(m)return p}return-1}N.prototype.includes=function(e,t,n){return this.indexOf(e,t,n)!==-1};N.prototype.indexOf=function(e,t,n){return Ul(this,e,t,n,!0)};N.prototype.lastIndexOf=function(e,t,n){return Ul(this,e,t,n,!1)};function Um(r,e,t,n){t=Number(t)||0;let s=r.length-t;n?(n=Number(n),n>s&&(n=s)):n=s;let i=e.length;n>i/2&&(n=i/2);let o;for(o=0;o<n;++o){let c=parseInt(e.substr(o*2,2),16);if(fc(c))return o;r[t+o]=c}return o}function Dm(r,e,t,n){return ji(oc(e,r.length-t),r,t,n)}function zm(r,e,t,n){return ji(Jm(e),r,t,n)}function Fm(r,e,t,n){return ji(jl(e),r,t,n)}function $m(r,e,t,n){return ji(Xm(e,r.length-t),r,t,n)}N.prototype.write=function(e,t,n,s){if(t===void 0)s="utf8",n=this.length,t=0;else if(n===void 0&&typeof t=="string")s=t,n=this.length,t=0;else if(isFinite(t))t=t>>>0,isFinite(n)?(n=n>>>0,s===void 0&&(s="utf8")):(s=n,n=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let i=this.length-t;if((n===void 0||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");s||(s="utf8");let o=!1;for(;;)switch(s){case"hex":return Um(this,e,t,n);case"utf8":case"utf-8":return Dm(this,e,t,n);case"ascii":case"latin1":case"binary":return zm(this,e,t,n);case"base64":return Fm(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return $m(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+s);s=(""+s).toLowerCase(),o=!0}};N.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function Vm(r,e,t){return e===0&&t===r.length?nc.fromByteArray(r):nc.fromByteArray(r.slice(e,t))}function Dl(r,e,t){t=Math.min(r.length,t);let n=[],s=e;for(;s<t;){let i=r[s],o=null,c=i>239?4:i>223?3:i>191?2:1;if(s+c<=t){let u,p,m,b;switch(c){case 1:i<128&&(o=i);break;case 2:u=r[s+1],(u&192)===128&&(b=(i&31)<<6|u&63,b>127&&(o=b));break;case 3:u=r[s+1],p=r[s+2],(u&192)===128&&(p&192)===128&&(b=(i&15)<<12|(u&63)<<6|p&63,b>2047&&(b<55296||b>57343)&&(o=b));break;case 4:u=r[s+1],p=r[s+2],m=r[s+3],(u&192)===128&&(p&192)===128&&(m&192)===128&&(b=(i&15)<<18|(u&63)<<12|(p&63)<<6|m&63,b>65535&&b<1114112&&(o=b))}}o===null?(o=65533,c=1):o>65535&&(o-=65536,n.push(o>>>10&1023|55296),o=56320|o&1023),n.push(o),s+=c}return Wm(n)}var Ll=4096;function Wm(r){let e=r.length;if(e<=Ll)return String.fromCharCode.apply(String,r);let t="",n=0;for(;n<e;)t+=String.fromCharCode.apply(String,r.slice(n,n+=Ll));return t}function qm(r,e,t){let n="";t=Math.min(r.length,t);for(let s=e;s<t;++s)n+=String.fromCharCode(r[s]&127);return n}function jm(r,e,t){let n="";t=Math.min(r.length,t);for(let s=e;s<t;++s)n+=String.fromCharCode(r[s]);return n}function Km(r,e,t){let n=r.length;(!e||e<0)&&(e=0),(!t||t<0||t>n)&&(t=n);let s="";for(let i=e;i<t;++i)s+=Qm[r[i]];return s}function Hm(r,e,t){let n=r.slice(e,t),s="";for(let i=0;i<n.length-1;i+=2)s+=String.fromCharCode(n[i]+n[i+1]*256);return s}N.prototype.slice=function(e,t){let n=this.length;e=~~e,t=t===void 0?n:~~t,e<0?(e+=n,e<0&&(e=0)):e>n&&(e=n),t<0?(t+=n,t<0&&(t=0)):t>n&&(t=n),t<e&&(t=e);let s=this.subarray(e,t);return Object.setPrototypeOf(s,N.prototype),s};function wt(r,e,t){if(r%1!==0||r<0)throw new RangeError("offset is not uint");if(r+e>t)throw new RangeError("Trying to access beyond buffer length")}N.prototype.readUintLE=N.prototype.readUIntLE=function(e,t,n){e=e>>>0,t=t>>>0,n||wt(e,t,this.length);let s=this[e],i=1,o=0;for(;++o<t&&(i*=256);)s+=this[e+o]*i;return s};N.prototype.readUintBE=N.prototype.readUIntBE=function(e,t,n){e=e>>>0,t=t>>>0,n||wt(e,t,this.length);let s=this[e+--t],i=1;for(;t>0&&(i*=256);)s+=this[e+--t]*i;return s};N.prototype.readUint8=N.prototype.readUInt8=function(e,t){return e=e>>>0,t||wt(e,1,this.length),this[e]};N.prototype.readUint16LE=N.prototype.readUInt16LE=function(e,t){return e=e>>>0,t||wt(e,2,this.length),this[e]|this[e+1]<<8};N.prototype.readUint16BE=N.prototype.readUInt16BE=function(e,t){return e=e>>>0,t||wt(e,2,this.length),this[e]<<8|this[e+1]};N.prototype.readUint32LE=N.prototype.readUInt32LE=function(e,t){return e=e>>>0,t||wt(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+this[e+3]*16777216};N.prototype.readUint32BE=N.prototype.readUInt32BE=function(e,t){return e=e>>>0,t||wt(e,4,this.length),this[e]*16777216+(this[e+1]<<16|this[e+2]<<8|this[e+3])};N.prototype.readBigUInt64LE=Kr(function(e){e=e>>>0,ys(e,"offset");let t=this[e],n=this[e+7];(t===void 0||n===void 0)&&Vs(e,this.length-8);let s=t+this[++e]*2**8+this[++e]*2**16+this[++e]*2**24,i=this[++e]+this[++e]*2**8+this[++e]*2**16+n*2**24;return BigInt(s)+(BigInt(i)<<BigInt(32))});N.prototype.readBigUInt64BE=Kr(function(e){e=e>>>0,ys(e,"offset");let t=this[e],n=this[e+7];(t===void 0||n===void 0)&&Vs(e,this.length-8);let s=t*2**24+this[++e]*2**16+this[++e]*2**8+this[++e],i=this[++e]*2**24+this[++e]*2**16+this[++e]*2**8+n;return(BigInt(s)<<BigInt(32))+BigInt(i)});N.prototype.readIntLE=function(e,t,n){e=e>>>0,t=t>>>0,n||wt(e,t,this.length);let s=this[e],i=1,o=0;for(;++o<t&&(i*=256);)s+=this[e+o]*i;return i*=128,s>=i&&(s-=Math.pow(2,8*t)),s};N.prototype.readIntBE=function(e,t,n){e=e>>>0,t=t>>>0,n||wt(e,t,this.length);let s=t,i=1,o=this[e+--s];for(;s>0&&(i*=256);)o+=this[e+--s]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*t)),o};N.prototype.readInt8=function(e,t){return e=e>>>0,t||wt(e,1,this.length),this[e]&128?(255-this[e]+1)*-1:this[e]};N.prototype.readInt16LE=function(e,t){e=e>>>0,t||wt(e,2,this.length);let n=this[e]|this[e+1]<<8;return n&32768?n|4294901760:n};N.prototype.readInt16BE=function(e,t){e=e>>>0,t||wt(e,2,this.length);let n=this[e+1]|this[e]<<8;return n&32768?n|4294901760:n};N.prototype.readInt32LE=function(e,t){return e=e>>>0,t||wt(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24};N.prototype.readInt32BE=function(e,t){return e=e>>>0,t||wt(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]};N.prototype.readBigInt64LE=Kr(function(e){e=e>>>0,ys(e,"offset");let t=this[e],n=this[e+7];(t===void 0||n===void 0)&&Vs(e,this.length-8);let s=this[e+4]+this[e+5]*2**8+this[e+6]*2**16+(n<<24);return(BigInt(s)<<BigInt(32))+BigInt(t+this[++e]*2**8+this[++e]*2**16+this[++e]*2**24)});N.prototype.readBigInt64BE=Kr(function(e){e=e>>>0,ys(e,"offset");let t=this[e],n=this[e+7];(t===void 0||n===void 0)&&Vs(e,this.length-8);let s=(t<<24)+this[++e]*2**16+this[++e]*2**8+this[++e];return(BigInt(s)<<BigInt(32))+BigInt(this[++e]*2**24+this[++e]*2**16+this[++e]*2**8+n)});N.prototype.readFloatLE=function(e,t){return e=e>>>0,t||wt(e,4,this.length),gs.read(this,e,!0,23,4)};N.prototype.readFloatBE=function(e,t){return e=e>>>0,t||wt(e,4,this.length),gs.read(this,e,!1,23,4)};N.prototype.readDoubleLE=function(e,t){return e=e>>>0,t||wt(e,8,this.length),gs.read(this,e,!0,52,8)};N.prototype.readDoubleBE=function(e,t){return e=e>>>0,t||wt(e,8,this.length),gs.read(this,e,!1,52,8)};function qt(r,e,t,n,s,i){if(!N.isBuffer(r))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>s||e<i)throw new RangeError('"value" argument is out of bounds');if(t+n>r.length)throw new RangeError("Index out of range")}N.prototype.writeUintLE=N.prototype.writeUIntLE=function(e,t,n,s){if(e=+e,t=t>>>0,n=n>>>0,!s){let c=Math.pow(2,8*n)-1;qt(this,e,t,n,c,0)}let i=1,o=0;for(this[t]=e&255;++o<n&&(i*=256);)this[t+o]=e/i&255;return t+n};N.prototype.writeUintBE=N.prototype.writeUIntBE=function(e,t,n,s){if(e=+e,t=t>>>0,n=n>>>0,!s){let c=Math.pow(2,8*n)-1;qt(this,e,t,n,c,0)}let i=n-1,o=1;for(this[t+i]=e&255;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+n};N.prototype.writeUint8=N.prototype.writeUInt8=function(e,t,n){return e=+e,t=t>>>0,n||qt(this,e,t,1,255,0),this[t]=e&255,t+1};N.prototype.writeUint16LE=N.prototype.writeUInt16LE=function(e,t,n){return e=+e,t=t>>>0,n||qt(this,e,t,2,65535,0),this[t]=e&255,this[t+1]=e>>>8,t+2};N.prototype.writeUint16BE=N.prototype.writeUInt16BE=function(e,t,n){return e=+e,t=t>>>0,n||qt(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=e&255,t+2};N.prototype.writeUint32LE=N.prototype.writeUInt32LE=function(e,t,n){return e=+e,t=t>>>0,n||qt(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=e&255,t+4};N.prototype.writeUint32BE=N.prototype.writeUInt32BE=function(e,t,n){return e=+e,t=t>>>0,n||qt(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=e&255,t+4};function zl(r,e,t,n,s){ql(e,n,s,r,t,7);let i=Number(e&BigInt(4294967295));r[t++]=i,i=i>>8,r[t++]=i,i=i>>8,r[t++]=i,i=i>>8,r[t++]=i;let o=Number(e>>BigInt(32)&BigInt(4294967295));return r[t++]=o,o=o>>8,r[t++]=o,o=o>>8,r[t++]=o,o=o>>8,r[t++]=o,t}function Fl(r,e,t,n,s){ql(e,n,s,r,t,7);let i=Number(e&BigInt(4294967295));r[t+7]=i,i=i>>8,r[t+6]=i,i=i>>8,r[t+5]=i,i=i>>8,r[t+4]=i;let o=Number(e>>BigInt(32)&BigInt(4294967295));return r[t+3]=o,o=o>>8,r[t+2]=o,o=o>>8,r[t+1]=o,o=o>>8,r[t]=o,t+8}N.prototype.writeBigUInt64LE=Kr(function(e,t=0){return zl(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))});N.prototype.writeBigUInt64BE=Kr(function(e,t=0){return Fl(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))});N.prototype.writeIntLE=function(e,t,n,s){if(e=+e,t=t>>>0,!s){let u=Math.pow(2,8*n-1);qt(this,e,t,n,u-1,-u)}let i=0,o=1,c=0;for(this[t]=e&255;++i<n&&(o*=256);)e<0&&c===0&&this[t+i-1]!==0&&(c=1),this[t+i]=(e/o>>0)-c&255;return t+n};N.prototype.writeIntBE=function(e,t,n,s){if(e=+e,t=t>>>0,!s){let u=Math.pow(2,8*n-1);qt(this,e,t,n,u-1,-u)}let i=n-1,o=1,c=0;for(this[t+i]=e&255;--i>=0&&(o*=256);)e<0&&c===0&&this[t+i+1]!==0&&(c=1),this[t+i]=(e/o>>0)-c&255;return t+n};N.prototype.writeInt8=function(e,t,n){return e=+e,t=t>>>0,n||qt(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=e&255,t+1};N.prototype.writeInt16LE=function(e,t,n){return e=+e,t=t>>>0,n||qt(this,e,t,2,32767,-32768),this[t]=e&255,this[t+1]=e>>>8,t+2};N.prototype.writeInt16BE=function(e,t,n){return e=+e,t=t>>>0,n||qt(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=e&255,t+2};N.prototype.writeInt32LE=function(e,t,n){return e=+e,t=t>>>0,n||qt(this,e,t,4,2147483647,-2147483648),this[t]=e&255,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4};N.prototype.writeInt32BE=function(e,t,n){return e=+e,t=t>>>0,n||qt(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=e&255,t+4};N.prototype.writeBigInt64LE=Kr(function(e,t=0){return zl(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});N.prototype.writeBigInt64BE=Kr(function(e,t=0){return Fl(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function $l(r,e,t,n,s,i){if(t+n>r.length)throw new RangeError("Index out of range");if(t<0)throw new RangeError("Index out of range")}function Vl(r,e,t,n,s){return e=+e,t=t>>>0,s||$l(r,e,t,4,34028234663852886e22,-34028234663852886e22),gs.write(r,e,t,n,23,4),t+4}N.prototype.writeFloatLE=function(e,t,n){return Vl(this,e,t,!0,n)};N.prototype.writeFloatBE=function(e,t,n){return Vl(this,e,t,!1,n)};function Wl(r,e,t,n,s){return e=+e,t=t>>>0,s||$l(r,e,t,8,17976931348623157e292,-17976931348623157e292),gs.write(r,e,t,n,52,8),t+8}N.prototype.writeDoubleLE=function(e,t,n){return Wl(this,e,t,!0,n)};N.prototype.writeDoubleBE=function(e,t,n){return Wl(this,e,t,!1,n)};N.prototype.copy=function(e,t,n,s){if(!N.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),!s&&s!==0&&(s=this.length),t>=e.length&&(t=e.length),t||(t=0),s>0&&s<n&&(s=n),s===n||e.length===0||this.length===0)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(s<0)throw new RangeError("sourceEnd out of bounds");s>this.length&&(s=this.length),e.length-t<s-n&&(s=e.length-t+n);let i=s-n;return this===e&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(t,n,s):Uint8Array.prototype.set.call(e,this.subarray(n,s),t),i};N.prototype.fill=function(e,t,n,s){if(typeof e=="string"){if(typeof t=="string"?(s=t,t=0,n=this.length):typeof n=="string"&&(s=n,n=this.length),s!==void 0&&typeof s!="string")throw new TypeError("encoding must be a string");if(typeof s=="string"&&!N.isEncoding(s))throw new TypeError("Unknown encoding: "+s);if(e.length===1){let o=e.charCodeAt(0);(s==="utf8"&&o<128||s==="latin1")&&(e=o)}}else typeof e=="number"?e=e&255:typeof e=="boolean"&&(e=Number(e));if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;t=t>>>0,n=n===void 0?this.length:n>>>0,e||(e=0);let i;if(typeof e=="number")for(i=t;i<n;++i)this[i]=e;else{let o=N.isBuffer(e)?e:N.from(e,s),c=o.length;if(c===0)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(i=0;i<n-t;++i)this[i+t]=o[i%c]}return this};var ms={};function uc(r,e,t){ms[r]=class extends t{constructor(){super(),Object.defineProperty(this,"message",{value:e.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${r}]`,this.stack,delete this.name}get code(){return r}set code(s){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:s,writable:!0})}toString(){return`${this.name} [${r}]: ${this.message}`}}}uc("ERR_BUFFER_OUT_OF_BOUNDS",function(r){return r?`${r} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError);uc("ERR_INVALID_ARG_TYPE",function(r,e){return`The "${r}" argument must be of type number. Received type ${typeof e}`},TypeError);uc("ERR_OUT_OF_RANGE",function(r,e,t){let n=`The value of "${r}" is out of range.`,s=t;return Number.isInteger(t)&&Math.abs(t)>2**32?s=Bl(String(t)):typeof t=="bigint"&&(s=String(t),(t>BigInt(2)**BigInt(32)||t<-(BigInt(2)**BigInt(32)))&&(s=Bl(s)),s+="n"),n+=` It must be ${e}. Received ${s}`,n},RangeError);function Bl(r){let e="",t=r.length,n=r[0]==="-"?1:0;for(;t>=n+4;t-=3)e=`_${r.slice(t-3,t)}${e}`;return`${r.slice(0,t)}${e}`}function Gm(r,e,t){ys(e,"offset"),(r[e]===void 0||r[e+t]===void 0)&&Vs(e,r.length-(t+1))}function ql(r,e,t,n,s,i){if(r>t||r<e){let o=typeof e=="bigint"?"n":"",c;throw i>3?e===0||e===BigInt(0)?c=`>= 0${o} and < 2${o} ** ${(i+1)*8}${o}`:c=`>= -(2${o} ** ${(i+1)*8-1}${o}) and < 2 ** ${(i+1)*8-1}${o}`:c=`>= ${e}${o} and <= ${t}${o}`,new ms.ERR_OUT_OF_RANGE("value",c,r)}Gm(n,s,i)}function ys(r,e){if(typeof r!="number")throw new ms.ERR_INVALID_ARG_TYPE(e,"number",r)}function Vs(r,e,t){throw Math.floor(r)!==r?(ys(r,t),new ms.ERR_OUT_OF_RANGE(t||"offset","an integer",r)):e<0?new ms.ERR_BUFFER_OUT_OF_BOUNDS:new ms.ERR_OUT_OF_RANGE(t||"offset",`>= ${t?1:0} and <= ${e}`,r)}var Zm=/[^+/0-9A-Za-z-_]/g;function Ym(r){if(r=r.split("=")[0],r=r.trim().replace(Zm,""),r.length<2)return"";for(;r.length%4!==0;)r=r+"=";return r}function oc(r,e){e=e||1/0;let t,n=r.length,s=null,i=[];for(let o=0;o<n;++o){if(t=r.charCodeAt(o),t>55295&&t<57344){if(!s){if(t>56319){(e-=3)>-1&&i.push(239,191,189);continue}else if(o+1===n){(e-=3)>-1&&i.push(239,191,189);continue}s=t;continue}if(t<56320){(e-=3)>-1&&i.push(239,191,189),s=t;continue}t=(s-55296<<10|t-56320)+65536}else s&&(e-=3)>-1&&i.push(239,191,189);if(s=null,t<128){if((e-=1)<0)break;i.push(t)}else if(t<2048){if((e-=2)<0)break;i.push(t>>6|192,t&63|128)}else if(t<65536){if((e-=3)<0)break;i.push(t>>12|224,t>>6&63|128,t&63|128)}else if(t<1114112){if((e-=4)<0)break;i.push(t>>18|240,t>>12&63|128,t>>6&63|128,t&63|128)}else throw new Error("Invalid code point")}return i}function Jm(r){let e=[];for(let t=0;t<r.length;++t)e.push(r.charCodeAt(t)&255);return e}function Xm(r,e){let t,n,s,i=[];for(let o=0;o<r.length&&!((e-=2)<0);++o)t=r.charCodeAt(o),n=t>>8,s=t%256,i.push(s),i.push(n);return i}function jl(r){return nc.toByteArray(Ym(r))}function ji(r,e,t,n){let s;for(s=0;s<n&&!(s+t>=e.length||s>=r.length);++s)e[s+t]=r[s];return s}function _r(r,e){return r instanceof e||r!=null&&r.constructor!=null&&r.constructor.name!=null&&r.constructor.name===e.name}function fc(r){return r!==r}var Qm=function(){let r="0123456789abcdef",e=new Array(256);for(let t=0;t<16;++t){let n=t*16;for(let s=0;s<16;++s)e[n+s]=r[t]+r[s]}return e}();function Kr(r){return typeof BigInt>"u"?eg:r}function eg(){throw new Error("BigInt not supported")}});var hd=$t(()=>{});var Mc=$t((pd,Pc)=>{(function(r,e){"use strict";function t(E,a){if(!E)throw new Error(a||"Assertion failed")}function n(E,a){E.super_=a;var l=function(){};l.prototype=a.prototype,E.prototype=new l,E.prototype.constructor=E}function s(E,a,l){if(s.isBN(E))return E;this.negative=0,this.words=null,this.length=0,this.red=null,E!==null&&((a==="le"||a==="be")&&(l=a,a=10),this._init(E||0,a||10,l||"be"))}typeof r=="object"?r.exports=s:e.BN=s,s.BN=s,s.wordSize=26;var i;try{typeof window<"u"&&typeof window.Buffer<"u"?i=window.Buffer:i=hd().Buffer}catch{}s.isBN=function(a){return a instanceof s?!0:a!==null&&typeof a=="object"&&a.constructor.wordSize===s.wordSize&&Array.isArray(a.words)},s.max=function(a,l){return a.cmp(l)>0?a:l},s.min=function(a,l){return a.cmp(l)<0?a:l},s.prototype._init=function(a,l,d){if(typeof a=="number")return this._initNumber(a,l,d);if(typeof a=="object")return this._initArray(a,l,d);l==="hex"&&(l=16),t(l===(l|0)&&l>=2&&l<=36),a=a.toString().replace(/\s+/g,"");var h=0;a[0]==="-"&&(h++,this.negative=1),h<a.length&&(l===16?this._parseHex(a,h,d):(this._parseBase(a,l,h),d==="le"&&this._initArray(this.toArray(),l,d)))},s.prototype._initNumber=function(a,l,d){a<0&&(this.negative=1,a=-a),a<67108864?(this.words=[a&67108863],this.length=1):a<4503599627370496?(this.words=[a&67108863,a/67108864&67108863],this.length=2):(t(a<9007199254740992),this.words=[a&67108863,a/67108864&67108863,1],this.length=3),d==="le"&&this._initArray(this.toArray(),l,d)},s.prototype._initArray=function(a,l,d){if(t(typeof a.length=="number"),a.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(a.length/3),this.words=new Array(this.length);for(var h=0;h<this.length;h++)this.words[h]=0;var g,w,v=0;if(d==="be")for(h=a.length-1,g=0;h>=0;h-=3)w=a[h]|a[h-1]<<8|a[h-2]<<16,this.words[g]|=w<<v&67108863,this.words[g+1]=w>>>26-v&67108863,v+=24,v>=26&&(v-=26,g++);else if(d==="le")for(h=0,g=0;h<a.length;h+=3)w=a[h]|a[h+1]<<8|a[h+2]<<16,this.words[g]|=w<<v&67108863,this.words[g+1]=w>>>26-v&67108863,v+=24,v>=26&&(v-=26,g++);return this._strip()};function o(E,a){var l=E.charCodeAt(a);if(l>=48&&l<=57)return l-48;if(l>=65&&l<=70)return l-55;if(l>=97&&l<=102)return l-87;t(!1,"Invalid character in "+E)}function c(E,a,l){var d=o(E,l);return l-1>=a&&(d|=o(E,l-1)<<4),d}s.prototype._parseHex=function(a,l,d){this.length=Math.ceil((a.length-l)/6),this.words=new Array(this.length);for(var h=0;h<this.length;h++)this.words[h]=0;var g=0,w=0,v;if(d==="be")for(h=a.length-1;h>=l;h-=2)v=c(a,l,h)<<g,this.words[w]|=v&67108863,g>=18?(g-=18,w+=1,this.words[w]|=v>>>26):g+=8;else{var y=a.length-l;for(h=y%2===0?l+1:l;h<a.length;h+=2)v=c(a,l,h)<<g,this.words[w]|=v&67108863,g>=18?(g-=18,w+=1,this.words[w]|=v>>>26):g+=8}this._strip()};function u(E,a,l,d){for(var h=0,g=0,w=Math.min(E.length,l),v=a;v<w;v++){var y=E.charCodeAt(v)-48;h*=d,y>=49?g=y-49+10:y>=17?g=y-17+10:g=y,t(y>=0&&g<d,"Invalid character"),h+=g}return h}s.prototype._parseBase=function(a,l,d){this.words=[0],this.length=1;for(var h=0,g=1;g<=67108863;g*=l)h++;h--,g=g/l|0;for(var w=a.length-d,v=w%h,y=Math.min(w,w-v)+d,f=0,_=d;_<y;_+=h)f=u(a,_,_+h,l),this.imuln(g),this.words[0]+f<67108864?this.words[0]+=f:this._iaddn(f);if(v!==0){var C=1;for(f=u(a,_,a.length,l),_=0;_<v;_++)C*=l;this.imuln(C),this.words[0]+f<67108864?this.words[0]+=f:this._iaddn(f)}this._strip()},s.prototype.copy=function(a){a.words=new Array(this.length);for(var l=0;l<this.length;l++)a.words[l]=this.words[l];a.length=this.length,a.negative=this.negative,a.red=this.red};function p(E,a){E.words=a.words,E.length=a.length,E.negative=a.negative,E.red=a.red}if(s.prototype._move=function(a){p(a,this)},s.prototype.clone=function(){var a=new s(null);return this.copy(a),a},s.prototype._expand=function(a){for(;this.length<a;)this.words[this.length++]=0;return this},s.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},s.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{s.prototype[Symbol.for("nodejs.util.inspect.custom")]=m}catch{s.prototype.inspect=m}else s.prototype.inspect=m;function m(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var b=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],x=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],S=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];s.prototype.toString=function(a,l){a=a||10,l=l|0||1;var d;if(a===16||a==="hex"){d="";for(var h=0,g=0,w=0;w<this.length;w++){var v=this.words[w],y=((v<<h|g)&16777215).toString(16);g=v>>>24-h&16777215,h+=2,h>=26&&(h-=26,w--),g!==0||w!==this.length-1?d=b[6-y.length]+y+d:d=y+d}for(g!==0&&(d=g.toString(16)+d);d.length%l!==0;)d="0"+d;return this.negative!==0&&(d="-"+d),d}if(a===(a|0)&&a>=2&&a<=36){var f=x[a],_=S[a];d="";var C=this.clone();for(C.negative=0;!C.isZero();){var D=C.modrn(_).toString(a);C=C.idivn(_),C.isZero()?d=D+d:d=b[f-D.length]+D+d}for(this.isZero()&&(d="0"+d);d.length%l!==0;)d="0"+d;return this.negative!==0&&(d="-"+d),d}t(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var a=this.words[0];return this.length===2?a+=this.words[1]*67108864:this.length===3&&this.words[2]===1?a+=4503599627370496+this.words[1]*67108864:this.length>2&&t(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-a:a},s.prototype.toJSON=function(){return this.toString(16,2)},i&&(s.prototype.toBuffer=function(a,l){return this.toArrayLike(i,a,l)}),s.prototype.toArray=function(a,l){return this.toArrayLike(Array,a,l)};var T=function(a,l){return a.allocUnsafe?a.allocUnsafe(l):new a(l)};s.prototype.toArrayLike=function(a,l,d){this._strip();var h=this.byteLength(),g=d||Math.max(1,h);t(h<=g,"byte array longer than desired length"),t(g>0,"Requested array length <= 0");var w=T(a,g),v=l==="le"?"LE":"BE";return this["_toArrayLike"+v](w,h),w},s.prototype._toArrayLikeLE=function(a,l){for(var d=0,h=0,g=0,w=0;g<this.length;g++){var v=this.words[g]<<w|h;a[d++]=v&255,d<a.length&&(a[d++]=v>>8&255),d<a.length&&(a[d++]=v>>16&255),w===6?(d<a.length&&(a[d++]=v>>24&255),h=0,w=0):(h=v>>>24,w+=2)}if(d<a.length)for(a[d++]=h;d<a.length;)a[d++]=0},s.prototype._toArrayLikeBE=function(a,l){for(var d=a.length-1,h=0,g=0,w=0;g<this.length;g++){var v=this.words[g]<<w|h;a[d--]=v&255,d>=0&&(a[d--]=v>>8&255),d>=0&&(a[d--]=v>>16&255),w===6?(d>=0&&(a[d--]=v>>24&255),h=0,w=0):(h=v>>>24,w+=2)}if(d>=0)for(a[d--]=h;d>=0;)a[d--]=0},Math.clz32?s.prototype._countBits=function(a){return 32-Math.clz32(a)}:s.prototype._countBits=function(a){var l=a,d=0;return l>=4096&&(d+=13,l>>>=13),l>=64&&(d+=7,l>>>=7),l>=8&&(d+=4,l>>>=4),l>=2&&(d+=2,l>>>=2),d+l},s.prototype._zeroBits=function(a){if(a===0)return 26;var l=a,d=0;return(l&8191)===0&&(d+=13,l>>>=13),(l&127)===0&&(d+=7,l>>>=7),(l&15)===0&&(d+=4,l>>>=4),(l&3)===0&&(d+=2,l>>>=2),(l&1)===0&&d++,d},s.prototype.bitLength=function(){var a=this.words[this.length-1],l=this._countBits(a);return(this.length-1)*26+l};function I(E){for(var a=new Array(E.bitLength()),l=0;l<a.length;l++){var d=l/26|0,h=l%26;a[l]=E.words[d]>>>h&1}return a}s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var a=0,l=0;l<this.length;l++){var d=this._zeroBits(this.words[l]);if(a+=d,d!==26)break}return a},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(a){return this.negative!==0?this.abs().inotn(a).iaddn(1):this.clone()},s.prototype.fromTwos=function(a){return this.testn(a-1)?this.notn(a).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return this.negative!==0},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(a){for(;this.length<a.length;)this.words[this.length++]=0;for(var l=0;l<a.length;l++)this.words[l]=this.words[l]|a.words[l];return this._strip()},s.prototype.ior=function(a){return t((this.negative|a.negative)===0),this.iuor(a)},s.prototype.or=function(a){return this.length>a.length?this.clone().ior(a):a.clone().ior(this)},s.prototype.uor=function(a){return this.length>a.length?this.clone().iuor(a):a.clone().iuor(this)},s.prototype.iuand=function(a){var l;this.length>a.length?l=a:l=this;for(var d=0;d<l.length;d++)this.words[d]=this.words[d]&a.words[d];return this.length=l.length,this._strip()},s.prototype.iand=function(a){return t((this.negative|a.negative)===0),this.iuand(a)},s.prototype.and=function(a){return this.length>a.length?this.clone().iand(a):a.clone().iand(this)},s.prototype.uand=function(a){return this.length>a.length?this.clone().iuand(a):a.clone().iuand(this)},s.prototype.iuxor=function(a){var l,d;this.length>a.length?(l=this,d=a):(l=a,d=this);for(var h=0;h<d.length;h++)this.words[h]=l.words[h]^d.words[h];if(this!==l)for(;h<l.length;h++)this.words[h]=l.words[h];return this.length=l.length,this._strip()},s.prototype.ixor=function(a){return t((this.negative|a.negative)===0),this.iuxor(a)},s.prototype.xor=function(a){return this.length>a.length?this.clone().ixor(a):a.clone().ixor(this)},s.prototype.uxor=function(a){return this.length>a.length?this.clone().iuxor(a):a.clone().iuxor(this)},s.prototype.inotn=function(a){t(typeof a=="number"&&a>=0);var l=Math.ceil(a/26)|0,d=a%26;this._expand(l),d>0&&l--;for(var h=0;h<l;h++)this.words[h]=~this.words[h]&67108863;return d>0&&(this.words[h]=~this.words[h]&67108863>>26-d),this._strip()},s.prototype.notn=function(a){return this.clone().inotn(a)},s.prototype.setn=function(a,l){t(typeof a=="number"&&a>=0);var d=a/26|0,h=a%26;return this._expand(d+1),l?this.words[d]=this.words[d]|1<<h:this.words[d]=this.words[d]&~(1<<h),this._strip()},s.prototype.iadd=function(a){var l;if(this.negative!==0&&a.negative===0)return this.negative=0,l=this.isub(a),this.negative^=1,this._normSign();if(this.negative===0&&a.negative!==0)return a.negative=0,l=this.isub(a),a.negative=1,l._normSign();var d,h;this.length>a.length?(d=this,h=a):(d=a,h=this);for(var g=0,w=0;w<h.length;w++)l=(d.words[w]|0)+(h.words[w]|0)+g,this.words[w]=l&67108863,g=l>>>26;for(;g!==0&&w<d.length;w++)l=(d.words[w]|0)+g,this.words[w]=l&67108863,g=l>>>26;if(this.length=d.length,g!==0)this.words[this.length]=g,this.length++;else if(d!==this)for(;w<d.length;w++)this.words[w]=d.words[w];return this},s.prototype.add=function(a){var l;return a.negative!==0&&this.negative===0?(a.negative=0,l=this.sub(a),a.negative^=1,l):a.negative===0&&this.negative!==0?(this.negative=0,l=a.sub(this),this.negative=1,l):this.length>a.length?this.clone().iadd(a):a.clone().iadd(this)},s.prototype.isub=function(a){if(a.negative!==0){a.negative=0;var l=this.iadd(a);return a.negative=1,l._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(a),this.negative=1,this._normSign();var d=this.cmp(a);if(d===0)return this.negative=0,this.length=1,this.words[0]=0,this;var h,g;d>0?(h=this,g=a):(h=a,g=this);for(var w=0,v=0;v<g.length;v++)l=(h.words[v]|0)-(g.words[v]|0)+w,w=l>>26,this.words[v]=l&67108863;for(;w!==0&&v<h.length;v++)l=(h.words[v]|0)+w,w=l>>26,this.words[v]=l&67108863;if(w===0&&v<h.length&&h!==this)for(;v<h.length;v++)this.words[v]=h.words[v];return this.length=Math.max(this.length,v),h!==this&&(this.negative=1),this._strip()},s.prototype.sub=function(a){return this.clone().isub(a)};function A(E,a,l){l.negative=a.negative^E.negative;var d=E.length+a.length|0;l.length=d,d=d-1|0;var h=E.words[0]|0,g=a.words[0]|0,w=h*g,v=w&67108863,y=w/67108864|0;l.words[0]=v;for(var f=1;f<d;f++){for(var _=y>>>26,C=y&67108863,D=Math.min(f,a.length-1),$=Math.max(0,f-E.length+1);$<=D;$++){var X=f-$|0;h=E.words[X]|0,g=a.words[$]|0,w=h*g+C,_+=w/67108864|0,C=w&67108863}l.words[f]=C|0,y=_|0}return y!==0?l.words[f]=y|0:l.length--,l._strip()}var L=function(a,l,d){var h=a.words,g=l.words,w=d.words,v=0,y,f,_,C=h[0]|0,D=C&8191,$=C>>>13,X=h[1]|0,ie=X&8191,fe=X>>>13,Be=h[2]|0,he=Be&8191,me=Be>>>13,Gt=h[3]|0,xe=Gt&8191,Ne=Gt>>>13,Li=h[4]|0,je=Li&8191,Ke=Li>>>13,Bi=h[5]|0,Ue=Bi&8191,De=Bi>>>13,rs=h[6]|0,ze=rs&8191,Fe=rs>>>13,Us=h[7]|0,$e=Us&8191,Ve=Us>>>13,Ci=h[8]|0,He=Ci&8191,Ge=Ci>>>13,Pi=h[9]|0,Ye=Pi&8191,Je=Pi>>>13,Ef=g[0]|0,Xe=Ef&8191,Qe=Ef>>>13,Rf=g[1]|0,et=Rf&8191,tt=Rf>>>13,vf=g[2]|0,rt=vf&8191,nt=vf>>>13,Sf=g[3]|0,st=Sf&8191,it=Sf>>>13,xf=g[4]|0,ot=xf&8191,at=xf>>>13,Af=g[5]|0,ct=Af&8191,ut=Af>>>13,If=g[6]|0,ft=If&8191,lt=If>>>13,kf=g[7]|0,dt=kf&8191,ht=kf>>>13,Of=g[8]|0,pt=Of&8191,mt=Of>>>13,Tf=g[9]|0,gt=Tf&8191,yt=Tf>>>13;d.negative=a.negative^l.negative,d.length=19,y=Math.imul(D,Xe),f=Math.imul(D,Qe),f=f+Math.imul($,Xe)|0,_=Math.imul($,Qe);var ga=(v+y|0)+((f&8191)<<13)|0;v=(_+(f>>>13)|0)+(ga>>>26)|0,ga&=67108863,y=Math.imul(ie,Xe),f=Math.imul(ie,Qe),f=f+Math.imul(fe,Xe)|0,_=Math.imul(fe,Qe),y=y+Math.imul(D,et)|0,f=f+Math.imul(D,tt)|0,f=f+Math.imul($,et)|0,_=_+Math.imul($,tt)|0;var ya=(v+y|0)+((f&8191)<<13)|0;v=(_+(f>>>13)|0)+(ya>>>26)|0,ya&=67108863,y=Math.imul(he,Xe),f=Math.imul(he,Qe),f=f+Math.imul(me,Xe)|0,_=Math.imul(me,Qe),y=y+Math.imul(ie,et)|0,f=f+Math.imul(ie,tt)|0,f=f+Math.imul(fe,et)|0,_=_+Math.imul(fe,tt)|0,y=y+Math.imul(D,rt)|0,f=f+Math.imul(D,nt)|0,f=f+Math.imul($,rt)|0,_=_+Math.imul($,nt)|0;var _a=(v+y|0)+((f&8191)<<13)|0;v=(_+(f>>>13)|0)+(_a>>>26)|0,_a&=67108863,y=Math.imul(xe,Xe),f=Math.imul(xe,Qe),f=f+Math.imul(Ne,Xe)|0,_=Math.imul(Ne,Qe),y=y+Math.imul(he,et)|0,f=f+Math.imul(he,tt)|0,f=f+Math.imul(me,et)|0,_=_+Math.imul(me,tt)|0,y=y+Math.imul(ie,rt)|0,f=f+Math.imul(ie,nt)|0,f=f+Math.imul(fe,rt)|0,_=_+Math.imul(fe,nt)|0,y=y+Math.imul(D,st)|0,f=f+Math.imul(D,it)|0,f=f+Math.imul($,st)|0,_=_+Math.imul($,it)|0;var ba=(v+y|0)+((f&8191)<<13)|0;v=(_+(f>>>13)|0)+(ba>>>26)|0,ba&=67108863,y=Math.imul(je,Xe),f=Math.imul(je,Qe),f=f+Math.imul(Ke,Xe)|0,_=Math.imul(Ke,Qe),y=y+Math.imul(xe,et)|0,f=f+Math.imul(xe,tt)|0,f=f+Math.imul(Ne,et)|0,_=_+Math.imul(Ne,tt)|0,y=y+Math.imul(he,rt)|0,f=f+Math.imul(he,nt)|0,f=f+Math.imul(me,rt)|0,_=_+Math.imul(me,nt)|0,y=y+Math.imul(ie,st)|0,f=f+Math.imul(ie,it)|0,f=f+Math.imul(fe,st)|0,_=_+Math.imul(fe,it)|0,y=y+Math.imul(D,ot)|0,f=f+Math.imul(D,at)|0,f=f+Math.imul($,ot)|0,_=_+Math.imul($,at)|0;var wa=(v+y|0)+((f&8191)<<13)|0;v=(_+(f>>>13)|0)+(wa>>>26)|0,wa&=67108863,y=Math.imul(Ue,Xe),f=Math.imul(Ue,Qe),f=f+Math.imul(De,Xe)|0,_=Math.imul(De,Qe),y=y+Math.imul(je,et)|0,f=f+Math.imul(je,tt)|0,f=f+Math.imul(Ke,et)|0,_=_+Math.imul(Ke,tt)|0,y=y+Math.imul(xe,rt)|0,f=f+Math.imul(xe,nt)|0,f=f+Math.imul(Ne,rt)|0,_=_+Math.imul(Ne,nt)|0,y=y+Math.imul(he,st)|0,f=f+Math.imul(he,it)|0,f=f+Math.imul(me,st)|0,_=_+Math.imul(me,it)|0,y=y+Math.imul(ie,ot)|0,f=f+Math.imul(ie,at)|0,f=f+Math.imul(fe,ot)|0,_=_+Math.imul(fe,at)|0,y=y+Math.imul(D,ct)|0,f=f+Math.imul(D,ut)|0,f=f+Math.imul($,ct)|0,_=_+Math.imul($,ut)|0;var Ea=(v+y|0)+((f&8191)<<13)|0;v=(_+(f>>>13)|0)+(Ea>>>26)|0,Ea&=67108863,y=Math.imul(ze,Xe),f=Math.imul(ze,Qe),f=f+Math.imul(Fe,Xe)|0,_=Math.imul(Fe,Qe),y=y+Math.imul(Ue,et)|0,f=f+Math.imul(Ue,tt)|0,f=f+Math.imul(De,et)|0,_=_+Math.imul(De,tt)|0,y=y+Math.imul(je,rt)|0,f=f+Math.imul(je,nt)|0,f=f+Math.imul(Ke,rt)|0,_=_+Math.imul(Ke,nt)|0,y=y+Math.imul(xe,st)|0,f=f+Math.imul(xe,it)|0,f=f+Math.imul(Ne,st)|0,_=_+Math.imul(Ne,it)|0,y=y+Math.imul(he,ot)|0,f=f+Math.imul(he,at)|0,f=f+Math.imul(me,ot)|0,_=_+Math.imul(me,at)|0,y=y+Math.imul(ie,ct)|0,f=f+Math.imul(ie,ut)|0,f=f+Math.imul(fe,ct)|0,_=_+Math.imul(fe,ut)|0,y=y+Math.imul(D,ft)|0,f=f+Math.imul(D,lt)|0,f=f+Math.imul($,ft)|0,_=_+Math.imul($,lt)|0;var Ra=(v+y|0)+((f&8191)<<13)|0;v=(_+(f>>>13)|0)+(Ra>>>26)|0,Ra&=67108863,y=Math.imul($e,Xe),f=Math.imul($e,Qe),f=f+Math.imul(Ve,Xe)|0,_=Math.imul(Ve,Qe),y=y+Math.imul(ze,et)|0,f=f+Math.imul(ze,tt)|0,f=f+Math.imul(Fe,et)|0,_=_+Math.imul(Fe,tt)|0,y=y+Math.imul(Ue,rt)|0,f=f+Math.imul(Ue,nt)|0,f=f+Math.imul(De,rt)|0,_=_+Math.imul(De,nt)|0,y=y+Math.imul(je,st)|0,f=f+Math.imul(je,it)|0,f=f+Math.imul(Ke,st)|0,_=_+Math.imul(Ke,it)|0,y=y+Math.imul(xe,ot)|0,f=f+Math.imul(xe,at)|0,f=f+Math.imul(Ne,ot)|0,_=_+Math.imul(Ne,at)|0,y=y+Math.imul(he,ct)|0,f=f+Math.imul(he,ut)|0,f=f+Math.imul(me,ct)|0,_=_+Math.imul(me,ut)|0,y=y+Math.imul(ie,ft)|0,f=f+Math.imul(ie,lt)|0,f=f+Math.imul(fe,ft)|0,_=_+Math.imul(fe,lt)|0,y=y+Math.imul(D,dt)|0,f=f+Math.imul(D,ht)|0,f=f+Math.imul($,dt)|0,_=_+Math.imul($,ht)|0;var va=(v+y|0)+((f&8191)<<13)|0;v=(_+(f>>>13)|0)+(va>>>26)|0,va&=67108863,y=Math.imul(He,Xe),f=Math.imul(He,Qe),f=f+Math.imul(Ge,Xe)|0,_=Math.imul(Ge,Qe),y=y+Math.imul($e,et)|0,f=f+Math.imul($e,tt)|0,f=f+Math.imul(Ve,et)|0,_=_+Math.imul(Ve,tt)|0,y=y+Math.imul(ze,rt)|0,f=f+Math.imul(ze,nt)|0,f=f+Math.imul(Fe,rt)|0,_=_+Math.imul(Fe,nt)|0,y=y+Math.imul(Ue,st)|0,f=f+Math.imul(Ue,it)|0,f=f+Math.imul(De,st)|0,_=_+Math.imul(De,it)|0,y=y+Math.imul(je,ot)|0,f=f+Math.imul(je,at)|0,f=f+Math.imul(Ke,ot)|0,_=_+Math.imul(Ke,at)|0,y=y+Math.imul(xe,ct)|0,f=f+Math.imul(xe,ut)|0,f=f+Math.imul(Ne,ct)|0,_=_+Math.imul(Ne,ut)|0,y=y+Math.imul(he,ft)|0,f=f+Math.imul(he,lt)|0,f=f+Math.imul(me,ft)|0,_=_+Math.imul(me,lt)|0,y=y+Math.imul(ie,dt)|0,f=f+Math.imul(ie,ht)|0,f=f+Math.imul(fe,dt)|0,_=_+Math.imul(fe,ht)|0,y=y+Math.imul(D,pt)|0,f=f+Math.imul(D,mt)|0,f=f+Math.imul($,pt)|0,_=_+Math.imul($,mt)|0;var Sa=(v+y|0)+((f&8191)<<13)|0;v=(_+(f>>>13)|0)+(Sa>>>26)|0,Sa&=67108863,y=Math.imul(Ye,Xe),f=Math.imul(Ye,Qe),f=f+Math.imul(Je,Xe)|0,_=Math.imul(Je,Qe),y=y+Math.imul(He,et)|0,f=f+Math.imul(He,tt)|0,f=f+Math.imul(Ge,et)|0,_=_+Math.imul(Ge,tt)|0,y=y+Math.imul($e,rt)|0,f=f+Math.imul($e,nt)|0,f=f+Math.imul(Ve,rt)|0,_=_+Math.imul(Ve,nt)|0,y=y+Math.imul(ze,st)|0,f=f+Math.imul(ze,it)|0,f=f+Math.imul(Fe,st)|0,_=_+Math.imul(Fe,it)|0,y=y+Math.imul(Ue,ot)|0,f=f+Math.imul(Ue,at)|0,f=f+Math.imul(De,ot)|0,_=_+Math.imul(De,at)|0,y=y+Math.imul(je,ct)|0,f=f+Math.imul(je,ut)|0,f=f+Math.imul(Ke,ct)|0,_=_+Math.imul(Ke,ut)|0,y=y+Math.imul(xe,ft)|0,f=f+Math.imul(xe,lt)|0,f=f+Math.imul(Ne,ft)|0,_=_+Math.imul(Ne,lt)|0,y=y+Math.imul(he,dt)|0,f=f+Math.imul(he,ht)|0,f=f+Math.imul(me,dt)|0,_=_+Math.imul(me,ht)|0,y=y+Math.imul(ie,pt)|0,f=f+Math.imul(ie,mt)|0,f=f+Math.imul(fe,pt)|0,_=_+Math.imul(fe,mt)|0,y=y+Math.imul(D,gt)|0,f=f+Math.imul(D,yt)|0,f=f+Math.imul($,gt)|0,_=_+Math.imul($,yt)|0;var xa=(v+y|0)+((f&8191)<<13)|0;v=(_+(f>>>13)|0)+(xa>>>26)|0,xa&=67108863,y=Math.imul(Ye,et),f=Math.imul(Ye,tt),f=f+Math.imul(Je,et)|0,_=Math.imul(Je,tt),y=y+Math.imul(He,rt)|0,f=f+Math.imul(He,nt)|0,f=f+Math.imul(Ge,rt)|0,_=_+Math.imul(Ge,nt)|0,y=y+Math.imul($e,st)|0,f=f+Math.imul($e,it)|0,f=f+Math.imul(Ve,st)|0,_=_+Math.imul(Ve,it)|0,y=y+Math.imul(ze,ot)|0,f=f+Math.imul(ze,at)|0,f=f+Math.imul(Fe,ot)|0,_=_+Math.imul(Fe,at)|0,y=y+Math.imul(Ue,ct)|0,f=f+Math.imul(Ue,ut)|0,f=f+Math.imul(De,ct)|0,_=_+Math.imul(De,ut)|0,y=y+Math.imul(je,ft)|0,f=f+Math.imul(je,lt)|0,f=f+Math.imul(Ke,ft)|0,_=_+Math.imul(Ke,lt)|0,y=y+Math.imul(xe,dt)|0,f=f+Math.imul(xe,ht)|0,f=f+Math.imul(Ne,dt)|0,_=_+Math.imul(Ne,ht)|0,y=y+Math.imul(he,pt)|0,f=f+Math.imul(he,mt)|0,f=f+Math.imul(me,pt)|0,_=_+Math.imul(me,mt)|0,y=y+Math.imul(ie,gt)|0,f=f+Math.imul(ie,yt)|0,f=f+Math.imul(fe,gt)|0,_=_+Math.imul(fe,yt)|0;var Aa=(v+y|0)+((f&8191)<<13)|0;v=(_+(f>>>13)|0)+(Aa>>>26)|0,Aa&=67108863,y=Math.imul(Ye,rt),f=Math.imul(Ye,nt),f=f+Math.imul(Je,rt)|0,_=Math.imul(Je,nt),y=y+Math.imul(He,st)|0,f=f+Math.imul(He,it)|0,f=f+Math.imul(Ge,st)|0,_=_+Math.imul(Ge,it)|0,y=y+Math.imul($e,ot)|0,f=f+Math.imul($e,at)|0,f=f+Math.imul(Ve,ot)|0,_=_+Math.imul(Ve,at)|0,y=y+Math.imul(ze,ct)|0,f=f+Math.imul(ze,ut)|0,f=f+Math.imul(Fe,ct)|0,_=_+Math.imul(Fe,ut)|0,y=y+Math.imul(Ue,ft)|0,f=f+Math.imul(Ue,lt)|0,f=f+Math.imul(De,ft)|0,_=_+Math.imul(De,lt)|0,y=y+Math.imul(je,dt)|0,f=f+Math.imul(je,ht)|0,f=f+Math.imul(Ke,dt)|0,_=_+Math.imul(Ke,ht)|0,y=y+Math.imul(xe,pt)|0,f=f+Math.imul(xe,mt)|0,f=f+Math.imul(Ne,pt)|0,_=_+Math.imul(Ne,mt)|0,y=y+Math.imul(he,gt)|0,f=f+Math.imul(he,yt)|0,f=f+Math.imul(me,gt)|0,_=_+Math.imul(me,yt)|0;var Ia=(v+y|0)+((f&8191)<<13)|0;v=(_+(f>>>13)|0)+(Ia>>>26)|0,Ia&=67108863,y=Math.imul(Ye,st),f=Math.imul(Ye,it),f=f+Math.imul(Je,st)|0,_=Math.imul(Je,it),y=y+Math.imul(He,ot)|0,f=f+Math.imul(He,at)|0,f=f+Math.imul(Ge,ot)|0,_=_+Math.imul(Ge,at)|0,y=y+Math.imul($e,ct)|0,f=f+Math.imul($e,ut)|0,f=f+Math.imul(Ve,ct)|0,_=_+Math.imul(Ve,ut)|0,y=y+Math.imul(ze,ft)|0,f=f+Math.imul(ze,lt)|0,f=f+Math.imul(Fe,ft)|0,_=_+Math.imul(Fe,lt)|0,y=y+Math.imul(Ue,dt)|0,f=f+Math.imul(Ue,ht)|0,f=f+Math.imul(De,dt)|0,_=_+Math.imul(De,ht)|0,y=y+Math.imul(je,pt)|0,f=f+Math.imul(je,mt)|0,f=f+Math.imul(Ke,pt)|0,_=_+Math.imul(Ke,mt)|0,y=y+Math.imul(xe,gt)|0,f=f+Math.imul(xe,yt)|0,f=f+Math.imul(Ne,gt)|0,_=_+Math.imul(Ne,yt)|0;var ka=(v+y|0)+((f&8191)<<13)|0;v=(_+(f>>>13)|0)+(ka>>>26)|0,ka&=67108863,y=Math.imul(Ye,ot),f=Math.imul(Ye,at),f=f+Math.imul(Je,ot)|0,_=Math.imul(Je,at),y=y+Math.imul(He,ct)|0,f=f+Math.imul(He,ut)|0,f=f+Math.imul(Ge,ct)|0,_=_+Math.imul(Ge,ut)|0,y=y+Math.imul($e,ft)|0,f=f+Math.imul($e,lt)|0,f=f+Math.imul(Ve,ft)|0,_=_+Math.imul(Ve,lt)|0,y=y+Math.imul(ze,dt)|0,f=f+Math.imul(ze,ht)|0,f=f+Math.imul(Fe,dt)|0,_=_+Math.imul(Fe,ht)|0,y=y+Math.imul(Ue,pt)|0,f=f+Math.imul(Ue,mt)|0,f=f+Math.imul(De,pt)|0,_=_+Math.imul(De,mt)|0,y=y+Math.imul(je,gt)|0,f=f+Math.imul(je,yt)|0,f=f+Math.imul(Ke,gt)|0,_=_+Math.imul(Ke,yt)|0;var Oa=(v+y|0)+((f&8191)<<13)|0;v=(_+(f>>>13)|0)+(Oa>>>26)|0,Oa&=67108863,y=Math.imul(Ye,ct),f=Math.imul(Ye,ut),f=f+Math.imul(Je,ct)|0,_=Math.imul(Je,ut),y=y+Math.imul(He,ft)|0,f=f+Math.imul(He,lt)|0,f=f+Math.imul(Ge,ft)|0,_=_+Math.imul(Ge,lt)|0,y=y+Math.imul($e,dt)|0,f=f+Math.imul($e,ht)|0,f=f+Math.imul(Ve,dt)|0,_=_+Math.imul(Ve,ht)|0,y=y+Math.imul(ze,pt)|0,f=f+Math.imul(ze,mt)|0,f=f+Math.imul(Fe,pt)|0,_=_+Math.imul(Fe,mt)|0,y=y+Math.imul(Ue,gt)|0,f=f+Math.imul(Ue,yt)|0,f=f+Math.imul(De,gt)|0,_=_+Math.imul(De,yt)|0;var Ta=(v+y|0)+((f&8191)<<13)|0;v=(_+(f>>>13)|0)+(Ta>>>26)|0,Ta&=67108863,y=Math.imul(Ye,ft),f=Math.imul(Ye,lt),f=f+Math.imul(Je,ft)|0,_=Math.imul(Je,lt),y=y+Math.imul(He,dt)|0,f=f+Math.imul(He,ht)|0,f=f+Math.imul(Ge,dt)|0,_=_+Math.imul(Ge,ht)|0,y=y+Math.imul($e,pt)|0,f=f+Math.imul($e,mt)|0,f=f+Math.imul(Ve,pt)|0,_=_+Math.imul(Ve,mt)|0,y=y+Math.imul(ze,gt)|0,f=f+Math.imul(ze,yt)|0,f=f+Math.imul(Fe,gt)|0,_=_+Math.imul(Fe,yt)|0;var Na=(v+y|0)+((f&8191)<<13)|0;v=(_+(f>>>13)|0)+(Na>>>26)|0,Na&=67108863,y=Math.imul(Ye,dt),f=Math.imul(Ye,ht),f=f+Math.imul(Je,dt)|0,_=Math.imul(Je,ht),y=y+Math.imul(He,pt)|0,f=f+Math.imul(He,mt)|0,f=f+Math.imul(Ge,pt)|0,_=_+Math.imul(Ge,mt)|0,y=y+Math.imul($e,gt)|0,f=f+Math.imul($e,yt)|0,f=f+Math.imul(Ve,gt)|0,_=_+Math.imul(Ve,yt)|0;var La=(v+y|0)+((f&8191)<<13)|0;v=(_+(f>>>13)|0)+(La>>>26)|0,La&=67108863,y=Math.imul(Ye,pt),f=Math.imul(Ye,mt),f=f+Math.imul(Je,pt)|0,_=Math.imul(Je,mt),y=y+Math.imul(He,gt)|0,f=f+Math.imul(He,yt)|0,f=f+Math.imul(Ge,gt)|0,_=_+Math.imul(Ge,yt)|0;var Ba=(v+y|0)+((f&8191)<<13)|0;v=(_+(f>>>13)|0)+(Ba>>>26)|0,Ba&=67108863,y=Math.imul(Ye,gt),f=Math.imul(Ye,yt),f=f+Math.imul(Je,gt)|0,_=Math.imul(Je,yt);var Ca=(v+y|0)+((f&8191)<<13)|0;return v=(_+(f>>>13)|0)+(Ca>>>26)|0,Ca&=67108863,w[0]=ga,w[1]=ya,w[2]=_a,w[3]=ba,w[4]=wa,w[5]=Ea,w[6]=Ra,w[7]=va,w[8]=Sa,w[9]=xa,w[10]=Aa,w[11]=Ia,w[12]=ka,w[13]=Oa,w[14]=Ta,w[15]=Na,w[16]=La,w[17]=Ba,w[18]=Ca,v!==0&&(w[19]=v,d.length++),d};Math.imul||(L=A);function U(E,a,l){l.negative=a.negative^E.negative,l.length=E.length+a.length;for(var d=0,h=0,g=0;g<l.length-1;g++){var w=h;h=0;for(var v=d&67108863,y=Math.min(g,a.length-1),f=Math.max(0,g-E.length+1);f<=y;f++){var _=g-f,C=E.words[_]|0,D=a.words[f]|0,$=C*D,X=$&67108863;w=w+($/67108864|0)|0,X=X+v|0,v=X&67108863,w=w+(X>>>26)|0,h+=w>>>26,w&=67108863}l.words[g]=v,d=w,w=h}return d!==0?l.words[g]=d:l.length--,l._strip()}function B(E,a,l){return U(E,a,l)}s.prototype.mulTo=function(a,l){var d,h=this.length+a.length;return this.length===10&&a.length===10?d=L(this,a,l):h<63?d=A(this,a,l):h<1024?d=U(this,a,l):d=B(this,a,l),d};function F(E,a){this.x=E,this.y=a}F.prototype.makeRBT=function(a){for(var l=new Array(a),d=s.prototype._countBits(a)-1,h=0;h<a;h++)l[h]=this.revBin(h,d,a);return l},F.prototype.revBin=function(a,l,d){if(a===0||a===d-1)return a;for(var h=0,g=0;g<l;g++)h|=(a&1)<<l-g-1,a>>=1;return h},F.prototype.permute=function(a,l,d,h,g,w){for(var v=0;v<w;v++)h[v]=l[a[v]],g[v]=d[a[v]]},F.prototype.transform=function(a,l,d,h,g,w){this.permute(w,a,l,d,h,g);for(var v=1;v<g;v<<=1)for(var y=v<<1,f=Math.cos(2*Math.PI/y),_=Math.sin(2*Math.PI/y),C=0;C<g;C+=y)for(var D=f,$=_,X=0;X<v;X++){var ie=d[C+X],fe=h[C+X],Be=d[C+X+v],he=h[C+X+v],me=D*Be-$*he;he=D*he+$*Be,Be=me,d[C+X]=ie+Be,h[C+X]=fe+he,d[C+X+v]=ie-Be,h[C+X+v]=fe-he,X!==y&&(me=f*D-_*$,$=f*$+_*D,D=me)}},F.prototype.guessLen13b=function(a,l){var d=Math.max(l,a)|1,h=d&1,g=0;for(d=d/2|0;d;d=d>>>1)g++;return 1<<g+1+h},F.prototype.conjugate=function(a,l,d){if(!(d<=1))for(var h=0;h<d/2;h++){var g=a[h];a[h]=a[d-h-1],a[d-h-1]=g,g=l[h],l[h]=-l[d-h-1],l[d-h-1]=-g}},F.prototype.normalize13b=function(a,l){for(var d=0,h=0;h<l/2;h++){var g=Math.round(a[2*h+1]/l)*8192+Math.round(a[2*h]/l)+d;a[h]=g&67108863,g<67108864?d=0:d=g/67108864|0}return a},F.prototype.convert13b=function(a,l,d,h){for(var g=0,w=0;w<l;w++)g=g+(a[w]|0),d[2*w]=g&8191,g=g>>>13,d[2*w+1]=g&8191,g=g>>>13;for(w=2*l;w<h;++w)d[w]=0;t(g===0),t((g&-8192)===0)},F.prototype.stub=function(a){for(var l=new Array(a),d=0;d<a;d++)l[d]=0;return l},F.prototype.mulp=function(a,l,d){var h=2*this.guessLen13b(a.length,l.length),g=this.makeRBT(h),w=this.stub(h),v=new Array(h),y=new Array(h),f=new Array(h),_=new Array(h),C=new Array(h),D=new Array(h),$=d.words;$.length=h,this.convert13b(a.words,a.length,v,h),this.convert13b(l.words,l.length,_,h),this.transform(v,w,y,f,h,g),this.transform(_,w,C,D,h,g);for(var X=0;X<h;X++){var ie=y[X]*C[X]-f[X]*D[X];f[X]=y[X]*D[X]+f[X]*C[X],y[X]=ie}return this.conjugate(y,f,h),this.transform(y,f,$,w,h,g),this.conjugate($,w,h),this.normalize13b($,h),d.negative=a.negative^l.negative,d.length=a.length+l.length,d._strip()},s.prototype.mul=function(a){var l=new s(null);return l.words=new Array(this.length+a.length),this.mulTo(a,l)},s.prototype.mulf=function(a){var l=new s(null);return l.words=new Array(this.length+a.length),B(this,a,l)},s.prototype.imul=function(a){return this.clone().mulTo(a,this)},s.prototype.imuln=function(a){var l=a<0;l&&(a=-a),t(typeof a=="number"),t(a<67108864);for(var d=0,h=0;h<this.length;h++){var g=(this.words[h]|0)*a,w=(g&67108863)+(d&67108863);d>>=26,d+=g/67108864|0,d+=w>>>26,this.words[h]=w&67108863}return d!==0&&(this.words[h]=d,this.length++),l?this.ineg():this},s.prototype.muln=function(a){return this.clone().imuln(a)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(a){var l=I(a);if(l.length===0)return new s(1);for(var d=this,h=0;h<l.length&&l[h]===0;h++,d=d.sqr());if(++h<l.length)for(var g=d.sqr();h<l.length;h++,g=g.sqr())l[h]!==0&&(d=d.mul(g));return d},s.prototype.iushln=function(a){t(typeof a=="number"&&a>=0);var l=a%26,d=(a-l)/26,h=67108863>>>26-l<<26-l,g;if(l!==0){var w=0;for(g=0;g<this.length;g++){var v=this.words[g]&h,y=(this.words[g]|0)-v<<l;this.words[g]=y|w,w=v>>>26-l}w&&(this.words[g]=w,this.length++)}if(d!==0){for(g=this.length-1;g>=0;g--)this.words[g+d]=this.words[g];for(g=0;g<d;g++)this.words[g]=0;this.length+=d}return this._strip()},s.prototype.ishln=function(a){return t(this.negative===0),this.iushln(a)},s.prototype.iushrn=function(a,l,d){t(typeof a=="number"&&a>=0);var h;l?h=(l-l%26)/26:h=0;var g=a%26,w=Math.min((a-g)/26,this.length),v=67108863^67108863>>>g<<g,y=d;if(h-=w,h=Math.max(0,h),y){for(var f=0;f<w;f++)y.words[f]=this.words[f];y.length=w}if(w!==0)if(this.length>w)for(this.length-=w,f=0;f<this.length;f++)this.words[f]=this.words[f+w];else this.words[0]=0,this.length=1;var _=0;for(f=this.length-1;f>=0&&(_!==0||f>=h);f--){var C=this.words[f]|0;this.words[f]=_<<26-g|C>>>g,_=C&v}return y&&_!==0&&(y.words[y.length++]=_),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},s.prototype.ishrn=function(a,l,d){return t(this.negative===0),this.iushrn(a,l,d)},s.prototype.shln=function(a){return this.clone().ishln(a)},s.prototype.ushln=function(a){return this.clone().iushln(a)},s.prototype.shrn=function(a){return this.clone().ishrn(a)},s.prototype.ushrn=function(a){return this.clone().iushrn(a)},s.prototype.testn=function(a){t(typeof a=="number"&&a>=0);var l=a%26,d=(a-l)/26,h=1<<l;if(this.length<=d)return!1;var g=this.words[d];return!!(g&h)},s.prototype.imaskn=function(a){t(typeof a=="number"&&a>=0);var l=a%26,d=(a-l)/26;if(t(this.negative===0,"imaskn works only with positive numbers"),this.length<=d)return this;if(l!==0&&d++,this.length=Math.min(d,this.length),l!==0){var h=67108863^67108863>>>l<<l;this.words[this.length-1]&=h}return this._strip()},s.prototype.maskn=function(a){return this.clone().imaskn(a)},s.prototype.iaddn=function(a){return t(typeof a=="number"),t(a<67108864),a<0?this.isubn(-a):this.negative!==0?this.length===1&&(this.words[0]|0)<=a?(this.words[0]=a-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(a),this.negative=1,this):this._iaddn(a)},s.prototype._iaddn=function(a){this.words[0]+=a;for(var l=0;l<this.length&&this.words[l]>=67108864;l++)this.words[l]-=67108864,l===this.length-1?this.words[l+1]=1:this.words[l+1]++;return this.length=Math.max(this.length,l+1),this},s.prototype.isubn=function(a){if(t(typeof a=="number"),t(a<67108864),a<0)return this.iaddn(-a);if(this.negative!==0)return this.negative=0,this.iaddn(a),this.negative=1,this;if(this.words[0]-=a,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var l=0;l<this.length&&this.words[l]<0;l++)this.words[l]+=67108864,this.words[l+1]-=1;return this._strip()},s.prototype.addn=function(a){return this.clone().iaddn(a)},s.prototype.subn=function(a){return this.clone().isubn(a)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(a,l,d){var h=a.length+d,g;this._expand(h);var w,v=0;for(g=0;g<a.length;g++){w=(this.words[g+d]|0)+v;var y=(a.words[g]|0)*l;w-=y&67108863,v=(w>>26)-(y/67108864|0),this.words[g+d]=w&67108863}for(;g<this.length-d;g++)w=(this.words[g+d]|0)+v,v=w>>26,this.words[g+d]=w&67108863;if(v===0)return this._strip();for(t(v===-1),v=0,g=0;g<this.length;g++)w=-(this.words[g]|0)+v,v=w>>26,this.words[g]=w&67108863;return this.negative=1,this._strip()},s.prototype._wordDiv=function(a,l){var d=this.length-a.length,h=this.clone(),g=a,w=g.words[g.length-1]|0,v=this._countBits(w);d=26-v,d!==0&&(g=g.ushln(d),h.iushln(d),w=g.words[g.length-1]|0);var y=h.length-g.length,f;if(l!=="mod"){f=new s(null),f.length=y+1,f.words=new Array(f.length);for(var _=0;_<f.length;_++)f.words[_]=0}var C=h.clone()._ishlnsubmul(g,1,y);C.negative===0&&(h=C,f&&(f.words[y]=1));for(var D=y-1;D>=0;D--){var $=(h.words[g.length+D]|0)*67108864+(h.words[g.length+D-1]|0);for($=Math.min($/w|0,67108863),h._ishlnsubmul(g,$,D);h.negative!==0;)$--,h.negative=0,h._ishlnsubmul(g,1,D),h.isZero()||(h.negative^=1);f&&(f.words[D]=$)}return f&&f._strip(),h._strip(),l!=="div"&&d!==0&&h.iushrn(d),{div:f||null,mod:h}},s.prototype.divmod=function(a,l,d){if(t(!a.isZero()),this.isZero())return{div:new s(0),mod:new s(0)};var h,g,w;return this.negative!==0&&a.negative===0?(w=this.neg().divmod(a,l),l!=="mod"&&(h=w.div.neg()),l!=="div"&&(g=w.mod.neg(),d&&g.negative!==0&&g.iadd(a)),{div:h,mod:g}):this.negative===0&&a.negative!==0?(w=this.divmod(a.neg(),l),l!=="mod"&&(h=w.div.neg()),{div:h,mod:w.mod}):(this.negative&a.negative)!==0?(w=this.neg().divmod(a.neg(),l),l!=="div"&&(g=w.mod.neg(),d&&g.negative!==0&&g.isub(a)),{div:w.div,mod:g}):a.length>this.length||this.cmp(a)<0?{div:new s(0),mod:this}:a.length===1?l==="div"?{div:this.divn(a.words[0]),mod:null}:l==="mod"?{div:null,mod:new s(this.modrn(a.words[0]))}:{div:this.divn(a.words[0]),mod:new s(this.modrn(a.words[0]))}:this._wordDiv(a,l)},s.prototype.div=function(a){return this.divmod(a,"div",!1).div},s.prototype.mod=function(a){return this.divmod(a,"mod",!1).mod},s.prototype.umod=function(a){return this.divmod(a,"mod",!0).mod},s.prototype.divRound=function(a){var l=this.divmod(a);if(l.mod.isZero())return l.div;var d=l.div.negative!==0?l.mod.isub(a):l.mod,h=a.ushrn(1),g=a.andln(1),w=d.cmp(h);return w<0||g===1&&w===0?l.div:l.div.negative!==0?l.div.isubn(1):l.div.iaddn(1)},s.prototype.modrn=function(a){var l=a<0;l&&(a=-a),t(a<=67108863);for(var d=(1<<26)%a,h=0,g=this.length-1;g>=0;g--)h=(d*h+(this.words[g]|0))%a;return l?-h:h},s.prototype.modn=function(a){return this.modrn(a)},s.prototype.idivn=function(a){var l=a<0;l&&(a=-a),t(a<=67108863);for(var d=0,h=this.length-1;h>=0;h--){var g=(this.words[h]|0)+d*67108864;this.words[h]=g/a|0,d=g%a}return this._strip(),l?this.ineg():this},s.prototype.divn=function(a){return this.clone().idivn(a)},s.prototype.egcd=function(a){t(a.negative===0),t(!a.isZero());var l=this,d=a.clone();l.negative!==0?l=l.umod(a):l=l.clone();for(var h=new s(1),g=new s(0),w=new s(0),v=new s(1),y=0;l.isEven()&&d.isEven();)l.iushrn(1),d.iushrn(1),++y;for(var f=d.clone(),_=l.clone();!l.isZero();){for(var C=0,D=1;(l.words[0]&D)===0&&C<26;++C,D<<=1);if(C>0)for(l.iushrn(C);C-- >0;)(h.isOdd()||g.isOdd())&&(h.iadd(f),g.isub(_)),h.iushrn(1),g.iushrn(1);for(var $=0,X=1;(d.words[0]&X)===0&&$<26;++$,X<<=1);if($>0)for(d.iushrn($);$-- >0;)(w.isOdd()||v.isOdd())&&(w.iadd(f),v.isub(_)),w.iushrn(1),v.iushrn(1);l.cmp(d)>=0?(l.isub(d),h.isub(w),g.isub(v)):(d.isub(l),w.isub(h),v.isub(g))}return{a:w,b:v,gcd:d.iushln(y)}},s.prototype._invmp=function(a){t(a.negative===0),t(!a.isZero());var l=this,d=a.clone();l.negative!==0?l=l.umod(a):l=l.clone();for(var h=new s(1),g=new s(0),w=d.clone();l.cmpn(1)>0&&d.cmpn(1)>0;){for(var v=0,y=1;(l.words[0]&y)===0&&v<26;++v,y<<=1);if(v>0)for(l.iushrn(v);v-- >0;)h.isOdd()&&h.iadd(w),h.iushrn(1);for(var f=0,_=1;(d.words[0]&_)===0&&f<26;++f,_<<=1);if(f>0)for(d.iushrn(f);f-- >0;)g.isOdd()&&g.iadd(w),g.iushrn(1);l.cmp(d)>=0?(l.isub(d),h.isub(g)):(d.isub(l),g.isub(h))}var C;return l.cmpn(1)===0?C=h:C=g,C.cmpn(0)<0&&C.iadd(a),C},s.prototype.gcd=function(a){if(this.isZero())return a.abs();if(a.isZero())return this.abs();var l=this.clone(),d=a.clone();l.negative=0,d.negative=0;for(var h=0;l.isEven()&&d.isEven();h++)l.iushrn(1),d.iushrn(1);do{for(;l.isEven();)l.iushrn(1);for(;d.isEven();)d.iushrn(1);var g=l.cmp(d);if(g<0){var w=l;l=d,d=w}else if(g===0||d.cmpn(1)===0)break;l.isub(d)}while(!0);return d.iushln(h)},s.prototype.invm=function(a){return this.egcd(a).a.umod(a)},s.prototype.isEven=function(){return(this.words[0]&1)===0},s.prototype.isOdd=function(){return(this.words[0]&1)===1},s.prototype.andln=function(a){return this.words[0]&a},s.prototype.bincn=function(a){t(typeof a=="number");var l=a%26,d=(a-l)/26,h=1<<l;if(this.length<=d)return this._expand(d+1),this.words[d]|=h,this;for(var g=h,w=d;g!==0&&w<this.length;w++){var v=this.words[w]|0;v+=g,g=v>>>26,v&=67108863,this.words[w]=v}return g!==0&&(this.words[w]=g,this.length++),this},s.prototype.isZero=function(){return this.length===1&&this.words[0]===0},s.prototype.cmpn=function(a){var l=a<0;if(this.negative!==0&&!l)return-1;if(this.negative===0&&l)return 1;this._strip();var d;if(this.length>1)d=1;else{l&&(a=-a),t(a<=67108863,"Number is too big");var h=this.words[0]|0;d=h===a?0:h<a?-1:1}return this.negative!==0?-d|0:d},s.prototype.cmp=function(a){if(this.negative!==0&&a.negative===0)return-1;if(this.negative===0&&a.negative!==0)return 1;var l=this.ucmp(a);return this.negative!==0?-l|0:l},s.prototype.ucmp=function(a){if(this.length>a.length)return 1;if(this.length<a.length)return-1;for(var l=0,d=this.length-1;d>=0;d--){var h=this.words[d]|0,g=a.words[d]|0;if(h!==g){h<g?l=-1:h>g&&(l=1);break}}return l},s.prototype.gtn=function(a){return this.cmpn(a)===1},s.prototype.gt=function(a){return this.cmp(a)===1},s.prototype.gten=function(a){return this.cmpn(a)>=0},s.prototype.gte=function(a){return this.cmp(a)>=0},s.prototype.ltn=function(a){return this.cmpn(a)===-1},s.prototype.lt=function(a){return this.cmp(a)===-1},s.prototype.lten=function(a){return this.cmpn(a)<=0},s.prototype.lte=function(a){return this.cmp(a)<=0},s.prototype.eqn=function(a){return this.cmpn(a)===0},s.prototype.eq=function(a){return this.cmp(a)===0},s.red=function(a){return new re(a)},s.prototype.toRed=function(a){return t(!this.red,"Already a number in reduction context"),t(this.negative===0,"red works only with positives"),a.convertTo(this)._forceRed(a)},s.prototype.fromRed=function(){return t(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(a){return this.red=a,this},s.prototype.forceRed=function(a){return t(!this.red,"Already a number in reduction context"),this._forceRed(a)},s.prototype.redAdd=function(a){return t(this.red,"redAdd works only with red numbers"),this.red.add(this,a)},s.prototype.redIAdd=function(a){return t(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,a)},s.prototype.redSub=function(a){return t(this.red,"redSub works only with red numbers"),this.red.sub(this,a)},s.prototype.redISub=function(a){return t(this.red,"redISub works only with red numbers"),this.red.isub(this,a)},s.prototype.redShl=function(a){return t(this.red,"redShl works only with red numbers"),this.red.shl(this,a)},s.prototype.redMul=function(a){return t(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.mul(this,a)},s.prototype.redIMul=function(a){return t(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.imul(this,a)},s.prototype.redSqr=function(){return t(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return t(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return t(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return t(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return t(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(a){return t(this.red&&!a.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,a)};var te={k256:null,p224:null,p192:null,p25519:null};function G(E,a){this.name=E,this.p=new s(a,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}G.prototype._tmp=function(){var a=new s(null);return a.words=new Array(Math.ceil(this.n/13)),a},G.prototype.ireduce=function(a){var l=a,d;do this.split(l,this.tmp),l=this.imulK(l),l=l.iadd(this.tmp),d=l.bitLength();while(d>this.n);var h=d<this.n?-1:l.ucmp(this.p);return h===0?(l.words[0]=0,l.length=1):h>0?l.isub(this.p):l.strip!==void 0?l.strip():l._strip(),l},G.prototype.split=function(a,l){a.iushrn(this.n,0,l)},G.prototype.imulK=function(a){return a.imul(this.k)};function Z(){G.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}n(Z,G),Z.prototype.split=function(a,l){for(var d=4194303,h=Math.min(a.length,9),g=0;g<h;g++)l.words[g]=a.words[g];if(l.length=h,a.length<=9){a.words[0]=0,a.length=1;return}var w=a.words[9];for(l.words[l.length++]=w&d,g=10;g<a.length;g++){var v=a.words[g]|0;a.words[g-10]=(v&d)<<4|w>>>22,w=v}w>>>=22,a.words[g-10]=w,w===0&&a.length>10?a.length-=10:a.length-=9},Z.prototype.imulK=function(a){a.words[a.length]=0,a.words[a.length+1]=0,a.length+=2;for(var l=0,d=0;d<a.length;d++){var h=a.words[d]|0;l+=h*977,a.words[d]=l&67108863,l=h*64+(l/67108864|0)}return a.words[a.length-1]===0&&(a.length--,a.words[a.length-1]===0&&a.length--),a};function ee(){G.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}n(ee,G);function Y(){G.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}n(Y,G);function Ie(){G.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}n(Ie,G),Ie.prototype.imulK=function(a){for(var l=0,d=0;d<a.length;d++){var h=(a.words[d]|0)*19+l,g=h&67108863;h>>>=26,a.words[d]=g,l=h}return l!==0&&(a.words[a.length++]=l),a},s._prime=function(a){if(te[a])return te[a];var l;if(a==="k256")l=new Z;else if(a==="p224")l=new ee;else if(a==="p192")l=new Y;else if(a==="p25519")l=new Ie;else throw new Error("Unknown prime "+a);return te[a]=l,l};function re(E){if(typeof E=="string"){var a=s._prime(E);this.m=a.p,this.prime=a}else t(E.gtn(1),"modulus must be greater than 1"),this.m=E,this.prime=null}re.prototype._verify1=function(a){t(a.negative===0,"red works only with positives"),t(a.red,"red works only with red numbers")},re.prototype._verify2=function(a,l){t((a.negative|l.negative)===0,"red works only with positives"),t(a.red&&a.red===l.red,"red works only with red numbers")},re.prototype.imod=function(a){return this.prime?this.prime.ireduce(a)._forceRed(this):(p(a,a.umod(this.m)._forceRed(this)),a)},re.prototype.neg=function(a){return a.isZero()?a.clone():this.m.sub(a)._forceRed(this)},re.prototype.add=function(a,l){this._verify2(a,l);var d=a.add(l);return d.cmp(this.m)>=0&&d.isub(this.m),d._forceRed(this)},re.prototype.iadd=function(a,l){this._verify2(a,l);var d=a.iadd(l);return d.cmp(this.m)>=0&&d.isub(this.m),d},re.prototype.sub=function(a,l){this._verify2(a,l);var d=a.sub(l);return d.cmpn(0)<0&&d.iadd(this.m),d._forceRed(this)},re.prototype.isub=function(a,l){this._verify2(a,l);var d=a.isub(l);return d.cmpn(0)<0&&d.iadd(this.m),d},re.prototype.shl=function(a,l){return this._verify1(a),this.imod(a.ushln(l))},re.prototype.imul=function(a,l){return this._verify2(a,l),this.imod(a.imul(l))},re.prototype.mul=function(a,l){return this._verify2(a,l),this.imod(a.mul(l))},re.prototype.isqr=function(a){return this.imul(a,a.clone())},re.prototype.sqr=function(a){return this.mul(a,a)},re.prototype.sqrt=function(a){if(a.isZero())return a.clone();var l=this.m.andln(3);if(t(l%2===1),l===3){var d=this.m.add(new s(1)).iushrn(2);return this.pow(a,d)}for(var h=this.m.subn(1),g=0;!h.isZero()&&h.andln(1)===0;)g++,h.iushrn(1);t(!h.isZero());var w=new s(1).toRed(this),v=w.redNeg(),y=this.m.subn(1).iushrn(1),f=this.m.bitLength();for(f=new s(2*f*f).toRed(this);this.pow(f,y).cmp(v)!==0;)f.redIAdd(v);for(var _=this.pow(f,h),C=this.pow(a,h.addn(1).iushrn(1)),D=this.pow(a,h),$=g;D.cmp(w)!==0;){for(var X=D,ie=0;X.cmp(w)!==0;ie++)X=X.redSqr();t(ie<$);var fe=this.pow(_,new s(1).iushln($-ie-1));C=C.redMul(fe),_=fe.redSqr(),D=D.redMul(_),$=ie}return C},re.prototype.invm=function(a){var l=a._invmp(this.m);return l.negative!==0?(l.negative=0,this.imod(l).redNeg()):this.imod(l)},re.prototype.pow=function(a,l){if(l.isZero())return new s(1).toRed(this);if(l.cmpn(1)===0)return a.clone();var d=4,h=new Array(1<<d);h[0]=new s(1).toRed(this),h[1]=a;for(var g=2;g<h.length;g++)h[g]=this.mul(h[g-1],a);var w=h[0],v=0,y=0,f=l.bitLength()%26;for(f===0&&(f=26),g=l.length-1;g>=0;g--){for(var _=l.words[g],C=f-1;C>=0;C--){var D=_>>C&1;if(w!==h[0]&&(w=this.sqr(w)),D===0&&v===0){y=0;continue}v<<=1,v|=D,y++,!(y!==d&&(g!==0||C!==0))&&(w=this.mul(w,h[v]),y=0,v=0)}f=26}return w},re.prototype.convertTo=function(a){var l=a.umod(this.m);return l===a?l.clone():l},re.prototype.convertFrom=function(a){var l=a.clone();return l.red=null,l},s.mont=function(a){return new le(a)};function le(E){re.call(this,E),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}n(le,re),le.prototype.convertTo=function(a){return this.imod(a.ushln(this.shift))},le.prototype.convertFrom=function(a){var l=this.imod(a.mul(this.rinv));return l.red=null,l},le.prototype.imul=function(a,l){if(a.isZero()||l.isZero())return a.words[0]=0,a.length=1,a;var d=a.imul(l),h=d.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),g=d.isub(h).iushrn(this.shift),w=g;return g.cmp(this.m)>=0?w=g.isub(this.m):g.cmpn(0)<0&&(w=g.iadd(this.m)),w._forceRed(this)},le.prototype.mul=function(a,l){if(a.isZero()||l.isZero())return new s(0)._forceRed(this);var d=a.mul(l),h=d.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),g=d.isub(h).iushrn(this.shift),w=g;return g.cmp(this.m)>=0?w=g.isub(this.m):g.cmpn(0)<0&&(w=g.iadd(this.m)),w._forceRed(this)},le.prototype.invm=function(a){var l=this.imod(a._invmp(this.m).mul(this.r2));return l._forceRed(this)}})(typeof Pc>"u"||Pc,pd)});var yd=$t((Uc,gd)=>{var so=Ws(),wr=so.Buffer;function md(r,e){for(var t in r)e[t]=r[t]}wr.from&&wr.alloc&&wr.allocUnsafe&&wr.allocUnsafeSlow?gd.exports=so:(md(so,Uc),Uc.Buffer=Wn);function Wn(r,e,t){return wr(r,e,t)}Wn.prototype=Object.create(wr.prototype);md(wr,Wn);Wn.from=function(r,e,t){if(typeof r=="number")throw new TypeError("Argument must not be a number");return wr(r,e,t)};Wn.alloc=function(r,e,t){if(typeof r!="number")throw new TypeError("Argument must be a number");var n=wr(r);return e!==void 0?typeof t=="string"?n.fill(e,t):n.fill(e):n.fill(0),n};Wn.allocUnsafe=function(r){if(typeof r!="number")throw new TypeError("Argument must be a number");return wr(r)};Wn.allocUnsafeSlow=function(r){if(typeof r!="number")throw new TypeError("Argument must be a number");return so.SlowBuffer(r)}});var bd=$t((Nx,_d)=>{"use strict";var io=yd().Buffer;function ey(r){if(r.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),t=0;t<e.length;t++)e[t]=255;for(var n=0;n<r.length;n++){var s=r.charAt(n),i=s.charCodeAt(0);if(e[i]!==255)throw new TypeError(s+" is ambiguous");e[i]=n}var o=r.length,c=r.charAt(0),u=Math.log(o)/Math.log(256),p=Math.log(256)/Math.log(o);function m(S){if((Array.isArray(S)||S instanceof Uint8Array)&&(S=io.from(S)),!io.isBuffer(S))throw new TypeError("Expected Buffer");if(S.length===0)return"";for(var T=0,I=0,A=0,L=S.length;A!==L&&S[A]===0;)A++,T++;for(var U=(L-A)*p+1>>>0,B=new Uint8Array(U);A!==L;){for(var F=S[A],te=0,G=U-1;(F!==0||te<I)&&G!==-1;G--,te++)F+=256*B[G]>>>0,B[G]=F%o>>>0,F=F/o>>>0;if(F!==0)throw new Error("Non-zero carry");I=te,A++}for(var Z=U-I;Z!==U&&B[Z]===0;)Z++;for(var ee=c.repeat(T);Z<U;++Z)ee+=r.charAt(B[Z]);return ee}function b(S){if(typeof S!="string")throw new TypeError("Expected String");if(S.length===0)return io.alloc(0);for(var T=0,I=0,A=0;S[T]===c;)I++,T++;for(var L=(S.length-T)*u+1>>>0,U=new Uint8Array(L);T<S.length;){var B=S.charCodeAt(T);if(B>255)return;var F=e[B];if(F===255)return;for(var te=0,G=L-1;(F!==0||te<A)&&G!==-1;G--,te++)F+=o*U[G]>>>0,U[G]=F%256>>>0,F=F/256>>>0;if(F!==0)throw new Error("Non-zero carry");A=te,T++}for(var Z=L-A;Z!==L&&U[Z]===0;)Z++;var ee=io.allocUnsafe(I+(L-Z));ee.fill(0,0,I);for(var Y=I;Z!==L;)ee[Y++]=U[Z++];return ee}function x(S){var T=b(S);if(T)return T;throw new Error("Non-base"+o+" character")}return{encode:m,decodeUnsafe:b,decode:x}}_d.exports=ey});var Dc=$t((Lx,wd)=>{var ty=bd(),ry="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";wd.exports=ty(ry)});var Ed=$t(Vc=>{"use strict";function Pr(r,e,t){return e<=r&&r<=t}function fo(r){if(r===void 0)return{};if(r===Object(r))return r;throw TypeError("Could not convert argument to dictionary")}function sy(r){for(var e=String(r),t=e.length,n=0,s=[];n<t;){var i=e.charCodeAt(n);if(i<55296||i>57343)s.push(i);else if(56320<=i&&i<=57343)s.push(65533);else if(55296<=i&&i<=56319)if(n===t-1)s.push(65533);else{var o=r.charCodeAt(n+1);if(56320<=o&&o<=57343){var c=i&1023,u=o&1023;s.push(65536+(c<<10)+u),n+=1}else s.push(65533)}n+=1}return s}function iy(r){for(var e="",t=0;t<r.length;++t){var n=r[t];n<=65535?e+=String.fromCharCode(n):(n-=65536,e+=String.fromCharCode((n>>10)+55296,(n&1023)+56320))}return e}var oo=-1;function $c(r){this.tokens=[].slice.call(r)}$c.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():oo},prepend:function(r){if(Array.isArray(r))for(var e=r;e.length;)this.tokens.unshift(e.pop());else this.tokens.unshift(r)},push:function(r){if(Array.isArray(r))for(var e=r;e.length;)this.tokens.push(e.shift());else this.tokens.push(r)}};var Rs=-1;function Fc(r,e){if(r)throw TypeError("Decoder error");return e||65533}var ao="utf-8";function co(r,e){if(!(this instanceof co))return new co(r,e);if(r=r!==void 0?String(r).toLowerCase():ao,r!==ao)throw new Error("Encoding not supported. Only utf-8 is supported");e=fo(e),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=!!e.fatal,this._ignoreBOM=!!e.ignoreBOM,Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}co.prototype={decode:function(e,t){var n;typeof e=="object"&&e instanceof ArrayBuffer?n=new Uint8Array(e):typeof e=="object"&&"buffer"in e&&e.buffer instanceof ArrayBuffer?n=new Uint8Array(e.buffer,e.byteOffset,e.byteLength):n=new Uint8Array(0),t=fo(t),this._streaming||(this._decoder=new oy({fatal:this._fatal}),this._BOMseen=!1),this._streaming=!!t.stream;for(var s=new $c(n),i=[],o;!s.endOfStream()&&(o=this._decoder.handler(s,s.read()),o!==Rs);)o!==null&&(Array.isArray(o)?i.push.apply(i,o):i.push(o));if(!this._streaming){do{if(o=this._decoder.handler(s,s.read()),o===Rs)break;o!==null&&(Array.isArray(o)?i.push.apply(i,o):i.push(o))}while(!s.endOfStream());this._decoder=null}return i.length&&["utf-8"].indexOf(this.encoding)!==-1&&!this._ignoreBOM&&!this._BOMseen&&(i[0]===65279?(this._BOMseen=!0,i.shift()):this._BOMseen=!0),iy(i)}};function uo(r,e){if(!(this instanceof uo))return new uo(r,e);if(r=r!==void 0?String(r).toLowerCase():ao,r!==ao)throw new Error("Encoding not supported. Only utf-8 is supported");e=fo(e),this._streaming=!1,this._encoder=null,this._options={fatal:!!e.fatal},Object.defineProperty(this,"encoding",{value:"utf-8"})}uo.prototype={encode:function(e,t){e=e?String(e):"",t=fo(t),this._streaming||(this._encoder=new ay(this._options)),this._streaming=!!t.stream;for(var n=[],s=new $c(sy(e)),i;!s.endOfStream()&&(i=this._encoder.handler(s,s.read()),i!==Rs);)Array.isArray(i)?n.push.apply(n,i):n.push(i);if(!this._streaming){for(;i=this._encoder.handler(s,s.read()),i!==Rs;)Array.isArray(i)?n.push.apply(n,i):n.push(i);this._encoder=null}return new Uint8Array(n)}};function oy(r){var e=r.fatal,t=0,n=0,s=0,i=128,o=191;this.handler=function(c,u){if(u===oo&&s!==0)return s=0,Fc(e);if(u===oo)return Rs;if(s===0){if(Pr(u,0,127))return u;if(Pr(u,194,223))s=1,t=u-192;else if(Pr(u,224,239))u===224&&(i=160),u===237&&(o=159),s=2,t=u-224;else if(Pr(u,240,244))u===240&&(i=144),u===244&&(o=143),s=3,t=u-240;else return Fc(e);return t=t<<6*s,null}if(!Pr(u,i,o))return t=s=n=0,i=128,o=191,c.prepend(u),Fc(e);if(i=128,o=191,n+=1,t+=u-128<<6*(s-n),n!==s)return null;var p=t;return t=s=n=0,p}}function ay(r){var e=r.fatal;this.handler=function(t,n){if(n===oo)return Rs;if(Pr(n,0,127))return n;var s,i;Pr(n,128,2047)?(s=1,i=192):Pr(n,2048,65535)?(s=2,i=224):Pr(n,65536,1114111)&&(s=3,i=240);for(var o=[(n>>6*s)+i];s>0;){var c=n>>6*(s-1);o.push(128|c&63),s-=1}return o}}Vc.TextEncoder=uo;Vc.TextDecoder=co});var Ad=$t(Oe=>{"use strict";var cy=Oe&&Oe.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),uy=Oe&&Oe.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),Er=Oe&&Oe.__decorate||function(r,e,t,n){var s=arguments.length,i=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(r,e,t,n);else for(var c=r.length-1;c>=0;c--)(o=r[c])&&(i=(s<3?o(i):s>3?o(e,t,i):o(e,t))||i);return s>3&&i&&Object.defineProperty(e,t,i),i},fy=Oe&&Oe.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.hasOwnProperty.call(r,t)&&cy(e,r,t);return uy(e,r),e},Rd=Oe&&Oe.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Oe,"__esModule",{value:!0});Oe.deserializeUnchecked=Oe.deserialize=Oe.serialize=Oe.BinaryReader=Oe.BinaryWriter=Oe.BorshError=Oe.baseDecode=Oe.baseEncode=void 0;var sn=Rd(Mc()),vd=Rd(Dc()),ly=fy(Ed()),dy=typeof TextDecoder!="function"?ly.TextDecoder:TextDecoder,hy=new dy("utf-8",{fatal:!0});function py(r){return typeof r=="string"&&(r=Buffer.from(r,"utf8")),vd.default.encode(Buffer.from(r))}Oe.baseEncode=py;function my(r){return Buffer.from(vd.default.decode(r))}Oe.baseDecode=my;var Wc=1024,St=class extends Error{constructor(e){super(e),this.fieldPath=[],this.originalMessage=e}addToFieldPath(e){this.fieldPath.splice(0,0,e),this.message=this.originalMessage+": "+this.fieldPath.join(".")}};Oe.BorshError=St;var lo=class{constructor(){this.buf=Buffer.alloc(Wc),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=Buffer.concat([this.buf,Buffer.alloc(Wc)]))}writeU8(e){this.maybeResize(),this.buf.writeUInt8(e,this.length),this.length+=1}writeU16(e){this.maybeResize(),this.buf.writeUInt16LE(e,this.length),this.length+=2}writeU32(e){this.maybeResize(),this.buf.writeUInt32LE(e,this.length),this.length+=4}writeU64(e){this.maybeResize(),this.writeBuffer(Buffer.from(new sn.default(e).toArray("le",8)))}writeU128(e){this.maybeResize(),this.writeBuffer(Buffer.from(new sn.default(e).toArray("le",16)))}writeU256(e){this.maybeResize(),this.writeBuffer(Buffer.from(new sn.default(e).toArray("le",32)))}writeU512(e){this.maybeResize(),this.writeBuffer(Buffer.from(new sn.default(e).toArray("le",64)))}writeBuffer(e){this.buf=Buffer.concat([Buffer.from(this.buf.subarray(0,this.length)),e,Buffer.alloc(Wc)]),this.length+=e.length}writeString(e){this.maybeResize();let t=Buffer.from(e,"utf8");this.writeU32(t.length),this.writeBuffer(t)}writeFixedArray(e){this.writeBuffer(Buffer.from(e))}writeArray(e,t){this.maybeResize(),this.writeU32(e.length);for(let n of e)this.maybeResize(),t(n)}toArray(){return this.buf.subarray(0,this.length)}};Oe.BinaryWriter=lo;function Rr(r,e,t){let n=t.value;t.value=function(...s){try{return n.apply(this,s)}catch(i){if(i instanceof RangeError){let o=i.code;if(["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(o)>=0)throw new St("Reached the end of buffer when deserializing")}throw i}}}var Dt=class{constructor(e){this.buf=e,this.offset=0}readU8(){let e=this.buf.readUInt8(this.offset);return this.offset+=1,e}readU16(){let e=this.buf.readUInt16LE(this.offset);return this.offset+=2,e}readU32(){let e=this.buf.readUInt32LE(this.offset);return this.offset+=4,e}readU64(){let e=this.readBuffer(8);return new sn.default(e,"le")}readU128(){let e=this.readBuffer(16);return new sn.default(e,"le")}readU256(){let e=this.readBuffer(32);return new sn.default(e,"le")}readU512(){let e=this.readBuffer(64);return new sn.default(e,"le")}readBuffer(e){if(this.offset+e>this.buf.length)throw new St(`Expected buffer length ${e} isn't within bounds`);let t=this.buf.slice(this.offset,this.offset+e);return this.offset+=e,t}readString(){let e=this.readU32(),t=this.readBuffer(e);try{return hy.decode(t)}catch(n){throw new St(`Error decoding UTF-8 string: ${n}`)}}readFixedArray(e){return new Uint8Array(this.readBuffer(e))}readArray(e){let t=this.readU32(),n=Array();for(let s=0;s<t;++s)n.push(e());return n}};Er([Rr],Dt.prototype,"readU8",null);Er([Rr],Dt.prototype,"readU16",null);Er([Rr],Dt.prototype,"readU32",null);Er([Rr],Dt.prototype,"readU64",null);Er([Rr],Dt.prototype,"readU128",null);Er([Rr],Dt.prototype,"readU256",null);Er([Rr],Dt.prototype,"readU512",null);Er([Rr],Dt.prototype,"readString",null);Er([Rr],Dt.prototype,"readFixedArray",null);Er([Rr],Dt.prototype,"readArray",null);Oe.BinaryReader=Dt;function Sd(r){return r.charAt(0).toUpperCase()+r.slice(1)}function qn(r,e,t,n,s){try{if(typeof n=="string")s[`write${Sd(n)}`](t);else if(n instanceof Array)if(typeof n[0]=="number"){if(t.length!==n[0])throw new St(`Expecting byte array of length ${n[0]}, but got ${t.length} bytes`);s.writeFixedArray(t)}else if(n.length===2&&typeof n[1]=="number"){if(t.length!==n[1])throw new St(`Expecting byte array of length ${n[1]}, but got ${t.length} bytes`);for(let i=0;i<n[1];i++)qn(r,null,t[i],n[0],s)}else s.writeArray(t,i=>{qn(r,e,i,n[0],s)});else if(n.kind!==void 0)switch(n.kind){case"option":{t==null?s.writeU8(0):(s.writeU8(1),qn(r,e,t,n.type,s));break}case"map":{s.writeU32(t.size),t.forEach((i,o)=>{qn(r,e,o,n.key,s),qn(r,e,i,n.value,s)});break}default:throw new St(`FieldType ${n} unrecognized`)}else xd(r,t,s)}catch(i){throw i instanceof St&&i.addToFieldPath(e),i}}function xd(r,e,t){if(typeof e.borshSerialize=="function"){e.borshSerialize(t);return}let n=r.get(e.constructor);if(!n)throw new St(`Class ${e.constructor.name} is missing in schema`);if(n.kind==="struct")n.fields.map(([s,i])=>{qn(r,s,e[s],i,t)});else if(n.kind==="enum"){let s=e[n.field];for(let i=0;i<n.values.length;++i){let[o,c]=n.values[i];if(o===s){t.writeU8(i),qn(r,o,e[o],c,t);break}}}else throw new St(`Unexpected schema kind: ${n.kind} for ${e.constructor.name}`)}function gy(r,e,t=lo){let n=new t;return xd(r,e,n),n.toArray()}Oe.serialize=gy;function jn(r,e,t,n){try{if(typeof t=="string")return n[`read${Sd(t)}`]();if(t instanceof Array){if(typeof t[0]=="number")return n.readFixedArray(t[0]);if(typeof t[1]=="number"){let s=[];for(let i=0;i<t[1];i++)s.push(jn(r,null,t[0],n));return s}else return n.readArray(()=>jn(r,e,t[0],n))}if(t.kind==="option")return n.readU8()?jn(r,e,t.type,n):void 0;if(t.kind==="map"){let s=new Map,i=n.readU32();for(let o=0;o<i;o++){let c=jn(r,e,t.key,n),u=jn(r,e,t.value,n);s.set(c,u)}return s}return qc(r,t,n)}catch(s){throw s instanceof St&&s.addToFieldPath(e),s}}function qc(r,e,t){if(typeof e.borshDeserialize=="function")return e.borshDeserialize(t);let n=r.get(e);if(!n)throw new St(`Class ${e.name} is missing in schema`);if(n.kind==="struct"){let s={};for(let[i,o]of r.get(e).fields)s[i]=jn(r,i,o,t);return new e(s)}if(n.kind==="enum"){let s=t.readU8();if(s>=n.values.length)throw new St(`Enum index: ${s} is out of range`);let[i,o]=n.values[s],c=jn(r,i,o,t);return new e({[i]:c})}throw new St(`Unexpected schema kind: ${n.kind} for ${e.constructor.name}`)}function yy(r,e,t,n=Dt){let s=new n(t),i=qc(r,e,s);if(s.offset<t.length)throw new St(`Unexpected ${t.length-s.offset} bytes after deserialized data`);return i}Oe.deserialize=yy;function _y(r,e,t,n=Dt){let s=new n(t);return qc(r,e,s)}Oe.deserializeUnchecked=_y});var Gc=$t(O=>{"use strict";Object.defineProperty(O,"__esModule",{value:!0});O.s16=O.s8=O.nu64be=O.u48be=O.u40be=O.u32be=O.u24be=O.u16be=O.nu64=O.u48=O.u40=O.u32=O.u24=O.u16=O.u8=O.offset=O.greedy=O.Constant=O.UTF8=O.CString=O.Blob=O.Boolean=O.BitField=O.BitStructure=O.VariantLayout=O.Union=O.UnionLayoutDiscriminator=O.UnionDiscriminator=O.Structure=O.Sequence=O.DoubleBE=O.Double=O.FloatBE=O.Float=O.NearInt64BE=O.NearInt64=O.NearUInt64BE=O.NearUInt64=O.IntBE=O.Int=O.UIntBE=O.UInt=O.OffsetLayout=O.GreedyCount=O.ExternalLayout=O.bindConstructorLayout=O.nameWithProperty=O.Layout=O.uint8ArrayToBuffer=O.checkUint8Array=void 0;O.constant=O.utf8=O.cstr=O.blob=O.unionLayoutDiscriminator=O.union=O.seq=O.bits=O.struct=O.f64be=O.f64=O.f32be=O.f32=O.ns64be=O.s48be=O.s40be=O.s32be=O.s24be=O.s16be=O.ns64=O.s48=O.s40=O.s32=O.s24=void 0;var Kc=Ws();function xs(r){if(!(r instanceof Uint8Array))throw new TypeError("b must be a Uint8Array")}O.checkUint8Array=xs;function Re(r){return xs(r),Kc.Buffer.from(r.buffer,r.byteOffset,r.length)}O.uint8ArrayToBuffer=Re;var ve=class{constructor(e,t){if(!Number.isInteger(e))throw new TypeError("span must be an integer");this.span=e,this.property=t}makeDestinationObject(){return{}}getSpan(e,t){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(e){let t=Object.create(this.constructor.prototype);return Object.assign(t,this),t.property=e,t}fromArray(e){}};O.Layout=ve;function Hc(r,e){return e.property?r+"["+e.property+"]":r}O.nameWithProperty=Hc;function by(r,e){if(typeof r!="function")throw new TypeError("Class must be constructor");if(Object.prototype.hasOwnProperty.call(r,"layout_"))throw new Error("Class is already bound to a layout");if(!(e&&e instanceof ve))throw new TypeError("layout must be a Layout");if(Object.prototype.hasOwnProperty.call(e,"boundConstructor_"))throw new Error("layout is already bound to a constructor");r.layout_=e,e.boundConstructor_=r,e.makeDestinationObject=()=>new r,Object.defineProperty(r.prototype,"encode",{value(t,n){return e.encode(this,t,n)},writable:!0}),Object.defineProperty(r,"decode",{value(t,n){return e.decode(t,n)},writable:!0})}O.bindConstructorLayout=by;var Tt=class extends ve{isCount(){throw new Error("ExternalLayout is abstract")}};O.ExternalLayout=Tt;var ho=class extends Tt{constructor(e=1,t){if(!Number.isInteger(e)||0>=e)throw new TypeError("elementSpan must be a (positive) integer");super(-1,t),this.elementSpan=e}isCount(){return!0}decode(e,t=0){xs(e);let n=e.length-t;return Math.floor(n/this.elementSpan)}encode(e,t,n){return 0}};O.GreedyCount=ho;var Zs=class extends Tt{constructor(e,t=0,n){if(!(e instanceof ve))throw new TypeError("layout must be a Layout");if(!Number.isInteger(t))throw new TypeError("offset must be integer or undefined");super(e.span,n||e.property),this.layout=e,this.offset=t}isCount(){return this.layout instanceof Ht||this.layout instanceof Zt}decode(e,t=0){return this.layout.decode(e,t+this.offset)}encode(e,t,n=0){return this.layout.encode(e,t,n+this.offset)}};O.OffsetLayout=Zs;var Ht=class extends ve{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t=0){return Re(e).readUIntLE(t,this.span)}encode(e,t,n=0){return Re(t).writeUIntLE(e,n,this.span),this.span}};O.UInt=Ht;var Zt=class extends ve{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t=0){return Re(e).readUIntBE(t,this.span)}encode(e,t,n=0){return Re(t).writeUIntBE(e,n,this.span),this.span}};O.UIntBE=Zt;var Mr=class extends ve{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t=0){return Re(e).readIntLE(t,this.span)}encode(e,t,n=0){return Re(t).writeIntLE(e,n,this.span),this.span}};O.Int=Mr;var on=class extends ve{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t=0){return Re(e).readIntBE(t,this.span)}encode(e,t,n=0){return Re(t).writeIntBE(e,n,this.span),this.span}};O.IntBE=on;var jc=Math.pow(2,32);function To(r){let e=Math.floor(r/jc),t=r-e*jc;return{hi32:e,lo32:t}}function No(r,e){return r*jc+e}var po=class extends ve{constructor(e){super(8,e)}decode(e,t=0){let n=Re(e),s=n.readUInt32LE(t),i=n.readUInt32LE(t+4);return No(i,s)}encode(e,t,n=0){let s=To(e),i=Re(t);return i.writeUInt32LE(s.lo32,n),i.writeUInt32LE(s.hi32,n+4),8}};O.NearUInt64=po;var mo=class extends ve{constructor(e){super(8,e)}decode(e,t=0){let n=Re(e),s=n.readUInt32BE(t),i=n.readUInt32BE(t+4);return No(s,i)}encode(e,t,n=0){let s=To(e),i=Re(t);return i.writeUInt32BE(s.hi32,n),i.writeUInt32BE(s.lo32,n+4),8}};O.NearUInt64BE=mo;var go=class extends ve{constructor(e){super(8,e)}decode(e,t=0){let n=Re(e),s=n.readUInt32LE(t),i=n.readInt32LE(t+4);return No(i,s)}encode(e,t,n=0){let s=To(e),i=Re(t);return i.writeUInt32LE(s.lo32,n),i.writeInt32LE(s.hi32,n+4),8}};O.NearInt64=go;var yo=class extends ve{constructor(e){super(8,e)}decode(e,t=0){let n=Re(e),s=n.readInt32BE(t),i=n.readUInt32BE(t+4);return No(s,i)}encode(e,t,n=0){let s=To(e),i=Re(t);return i.writeInt32BE(s.hi32,n),i.writeUInt32BE(s.lo32,n+4),8}};O.NearInt64BE=yo;var _o=class extends ve{constructor(e){super(4,e)}decode(e,t=0){return Re(e).readFloatLE(t)}encode(e,t,n=0){return Re(t).writeFloatLE(e,n),4}};O.Float=_o;var bo=class extends ve{constructor(e){super(4,e)}decode(e,t=0){return Re(e).readFloatBE(t)}encode(e,t,n=0){return Re(t).writeFloatBE(e,n),4}};O.FloatBE=bo;var wo=class extends ve{constructor(e){super(8,e)}decode(e,t=0){return Re(e).readDoubleLE(t)}encode(e,t,n=0){return Re(t).writeDoubleLE(e,n),8}};O.Double=wo;var Eo=class extends ve{constructor(e){super(8,e)}decode(e,t=0){return Re(e).readDoubleBE(t)}encode(e,t,n=0){return Re(t).writeDoubleBE(e,n),8}};O.DoubleBE=Eo;var Ro=class extends ve{constructor(e,t,n){if(!(e instanceof ve))throw new TypeError("elementLayout must be a Layout");if(!(t instanceof Tt&&t.isCount()||Number.isInteger(t)&&0<=t))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let s=-1;!(t instanceof Tt)&&0<e.span&&(s=t*e.span),super(s,n),this.elementLayout=e,this.count=t}getSpan(e,t=0){if(0<=this.span)return this.span;let n=0,s=this.count;if(s instanceof Tt&&(s=s.decode(e,t)),0<this.elementLayout.span)n=s*this.elementLayout.span;else{let i=0;for(;i<s;)n+=this.elementLayout.getSpan(e,t+n),++i}return n}decode(e,t=0){let n=[],s=0,i=this.count;for(i instanceof Tt&&(i=i.decode(e,t));s<i;)n.push(this.elementLayout.decode(e,t)),t+=this.elementLayout.getSpan(e,t),s+=1;return n}encode(e,t,n=0){let s=this.elementLayout,i=e.reduce((o,c)=>o+s.encode(c,t,n+o),0);return this.count instanceof Tt&&this.count.encode(e.length,t,n),i}};O.Sequence=Ro;var vo=class extends ve{constructor(e,t,n){if(!(Array.isArray(e)&&e.reduce((i,o)=>i&&o instanceof ve,!0)))throw new TypeError("fields must be array of Layout instances");typeof t=="boolean"&&n===void 0&&(n=t,t=void 0);for(let i of e)if(0>i.span&&i.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let s=-1;try{s=e.reduce((i,o)=>i+o.getSpan(),0)}catch{}super(s,t),this.fields=e,this.decodePrefixes=!!n}getSpan(e,t=0){if(0<=this.span)return this.span;let n=0;try{n=this.fields.reduce((s,i)=>{let o=i.getSpan(e,t);return t+=o,s+o},0)}catch{throw new RangeError("indeterminate span")}return n}decode(e,t=0){xs(e);let n=this.makeDestinationObject();for(let s of this.fields)if(s.property!==void 0&&(n[s.property]=s.decode(e,t)),t+=s.getSpan(e,t),this.decodePrefixes&&e.length===t)break;return n}encode(e,t,n=0){let s=n,i=0,o=0;for(let c of this.fields){let u=c.span;if(o=0<u?u:0,c.property!==void 0){let p=e[c.property];p!==void 0&&(o=c.encode(p,t,n),0>u&&(u=c.getSpan(t,n)))}i=n,n+=u}return i+o-s}fromArray(e){let t=this.makeDestinationObject();for(let n of this.fields)n.property!==void 0&&0<e.length&&(t[n.property]=e.shift());return t}layoutFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(let t of this.fields)if(t.property===e)return t}offsetOf(e){if(typeof e!="string")throw new TypeError("property must be string");let t=0;for(let n of this.fields){if(n.property===e)return t;0>n.span?t=-1:0<=t&&(t+=n.span)}}};O.Structure=vo;var Ys=class{constructor(e){this.property=e}decode(e,t){throw new Error("UnionDiscriminator is abstract")}encode(e,t,n){throw new Error("UnionDiscriminator is abstract")}};O.UnionDiscriminator=Ys;var Ss=class extends Ys{constructor(e,t){if(!(e instanceof Tt&&e.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(t||e.property||"variant"),this.layout=e}decode(e,t){return this.layout.decode(e,t)}encode(e,t,n){return this.layout.encode(e,t,n)}};O.UnionLayoutDiscriminator=Ss;var Js=class extends ve{constructor(e,t,n){let s;if(e instanceof Ht||e instanceof Zt)s=new Ss(new Zs(e));else if(e instanceof Tt&&e.isCount())s=new Ss(e);else if(e instanceof Ys)s=e;else throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(t===void 0&&(t=null),!(t===null||t instanceof ve))throw new TypeError("defaultLayout must be null or a Layout");if(t!==null){if(0>t.span)throw new Error("defaultLayout must have constant span");t.property===void 0&&(t=t.replicate("content"))}let i=-1;t&&(i=t.span,0<=i&&(e instanceof Ht||e instanceof Zt)&&(i+=s.layout.span)),super(i,n),this.discriminator=s,this.usesPrefixDiscriminator=e instanceof Ht||e instanceof Zt,this.defaultLayout=t,this.registry={};let o=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(c){return o(c)},this.configGetSourceVariant=function(c){o=c.bind(this)}}getSpan(e,t=0){if(0<=this.span)return this.span;let n=this.getVariant(e,t);if(!n)throw new Error("unable to determine span for unrecognized variant");return n.getSpan(e,t)}defaultGetSourceVariant(e){if(Object.prototype.hasOwnProperty.call(e,this.discriminator.property)){if(this.defaultLayout&&this.defaultLayout.property&&Object.prototype.hasOwnProperty.call(e,this.defaultLayout.property))return;let t=this.registry[e[this.discriminator.property]];if(t&&(!t.layout||t.property&&Object.prototype.hasOwnProperty.call(e,t.property)))return t}else for(let t in this.registry){let n=this.registry[t];if(n.property&&Object.prototype.hasOwnProperty.call(e,n.property))return n}throw new Error("unable to infer src variant")}decode(e,t=0){let n,s=this.discriminator,i=s.decode(e,t),o=this.registry[i];if(o===void 0){let c=this.defaultLayout,u=0;this.usesPrefixDiscriminator&&(u=s.layout.span),n=this.makeDestinationObject(),n[s.property]=i,n[c.property]=c.decode(e,t+u)}else n=o.decode(e,t);return n}encode(e,t,n=0){let s=this.getSourceVariant(e);if(s===void 0){let i=this.discriminator,o=this.defaultLayout,c=0;return this.usesPrefixDiscriminator&&(c=i.layout.span),i.encode(e[i.property],t,n),c+o.encode(e[o.property],t,n+c)}return s.encode(e,t,n)}addVariant(e,t,n){let s=new So(this,e,t,n);return this.registry[e]=s,s}getVariant(e,t=0){let n;return e instanceof Uint8Array?n=this.discriminator.decode(e,t):n=e,this.registry[n]}};O.Union=Js;var So=class extends ve{constructor(e,t,n,s){if(!(e instanceof Js))throw new TypeError("union must be a Union");if(!Number.isInteger(t)||0>t)throw new TypeError("variant must be a (non-negative) integer");if(typeof n=="string"&&s===void 0&&(s=n,n=null),n){if(!(n instanceof ve))throw new TypeError("layout must be a Layout");if(e.defaultLayout!==null&&0<=n.span&&n.span>e.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof s!="string")throw new TypeError("variant must have a String property")}let i=e.span;0>e.span&&(i=n?n.span:0,0<=i&&e.usesPrefixDiscriminator&&(i+=e.discriminator.layout.span)),super(i,s),this.union=e,this.variant=t,this.layout=n||null}getSpan(e,t=0){if(0<=this.span)return this.span;let n=0;this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span);let s=0;return this.layout&&(s=this.layout.getSpan(e,t+n)),n+s}decode(e,t=0){let n=this.makeDestinationObject();if(this!==this.union.getVariant(e,t))throw new Error("variant mismatch");let s=0;return this.union.usesPrefixDiscriminator&&(s=this.union.discriminator.layout.span),this.layout?n[this.property]=this.layout.decode(e,t+s):this.property?n[this.property]=!0:this.union.usesPrefixDiscriminator&&(n[this.union.discriminator.property]=this.variant),n}encode(e,t,n=0){let s=0;if(this.union.usesPrefixDiscriminator&&(s=this.union.discriminator.layout.span),this.layout&&!Object.prototype.hasOwnProperty.call(e,this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,t,n);let i=s;if(this.layout&&(this.layout.encode(e[this.property],t,n+s),i+=this.layout.getSpan(t,n+s),0<=this.union.span&&i>this.union.span))throw new Error("encoded variant overruns containing union");return i}fromArray(e){if(this.layout)return this.layout.fromArray(e)}};O.VariantLayout=So;function vs(r){return 0>r&&(r+=4294967296),r}var Xs=class extends ve{constructor(e,t,n){if(!(e instanceof Ht||e instanceof Zt))throw new TypeError("word must be a UInt or UIntBE layout");if(typeof t=="string"&&n===void 0&&(n=t,t=!1),4<e.span)throw new RangeError("word cannot exceed 32 bits");super(e.span,n),this.word=e,this.msb=!!t,this.fields=[];let s=0;this._packedSetValue=function(i){return s=vs(i),this},this._packedGetValue=function(){return s}}decode(e,t=0){let n=this.makeDestinationObject(),s=this.word.decode(e,t);this._packedSetValue(s);for(let i of this.fields)i.property!==void 0&&(n[i.property]=i.decode(e));return n}encode(e,t,n=0){let s=this.word.decode(t,n);this._packedSetValue(s);for(let i of this.fields)if(i.property!==void 0){let o=e[i.property];o!==void 0&&i.encode(o)}return this.word.encode(this._packedGetValue(),t,n)}addField(e,t){let n=new Qs(this,e,t);return this.fields.push(n),n}addBoolean(e){let t=new xo(this,e);return this.fields.push(t),t}fieldFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(let t of this.fields)if(t.property===e)return t}};O.BitStructure=Xs;var Qs=class{constructor(e,t,n){if(!(e instanceof Xs))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(t)||0>=t)throw new TypeError("bits must be positive integer");let s=8*e.span,i=e.fields.reduce((o,c)=>o+c.bits,0);if(t+i>s)throw new Error("bits too long for span remainder ("+(s-i)+" of "+s+" remain)");this.container=e,this.bits=t,this.valueMask=(1<<t)-1,t===32&&(this.valueMask=4294967295),this.start=i,this.container.msb&&(this.start=s-i-t),this.wordMask=vs(this.valueMask<<this.start),this.property=n}decode(e,t){let n=this.container._packedGetValue();return vs(n&this.wordMask)>>>this.start}encode(e){if(typeof e!="number"||!Number.isInteger(e)||e!==vs(e&this.valueMask))throw new TypeError(Hc("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);let t=this.container._packedGetValue(),n=vs(e<<this.start);this.container._packedSetValue(vs(t&~this.wordMask)|n)}};O.BitField=Qs;var xo=class extends Qs{constructor(e,t){super(e,1,t)}decode(e,t){return!!super.decode(e,t)}encode(e){typeof e=="boolean"&&(e=+e),super.encode(e)}};O.Boolean=xo;var Ao=class extends ve{constructor(e,t){if(!(e instanceof Tt&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let n=-1;e instanceof Tt||(n=e),super(n,t),this.length=e}getSpan(e,t){let n=this.span;return 0>n&&(n=this.length.decode(e,t)),n}decode(e,t=0){let n=this.span;return 0>n&&(n=this.length.decode(e,t)),Re(e).slice(t,t+n)}encode(e,t,n){let s=this.length;if(this.length instanceof Tt&&(s=e.length),!(e instanceof Uint8Array&&s===e.length))throw new TypeError(Hc("Blob.encode",this)+" requires (length "+s+") Uint8Array as src");if(n+s>t.length)throw new RangeError("encoding overruns Uint8Array");let i=Re(e);return Re(t).write(i.toString("hex"),n,s,"hex"),this.length instanceof Tt&&this.length.encode(s,t,n),s}};O.Blob=Ao;var Io=class extends ve{constructor(e){super(-1,e)}getSpan(e,t=0){xs(e);let n=t;for(;n<e.length&&e[n]!==0;)n+=1;return 1+n-t}decode(e,t=0){let n=this.getSpan(e,t);return Re(e).slice(t,t+n-1).toString("utf-8")}encode(e,t,n=0){typeof e!="string"&&(e=String(e));let s=Kc.Buffer.from(e,"utf8"),i=s.length;if(n+i>t.length)throw new RangeError("encoding overruns Buffer");let o=Re(t);return s.copy(o,n),o[n+i]=0,i+1}};O.CString=Io;var ko=class extends ve{constructor(e,t){if(typeof e=="string"&&t===void 0&&(t=e,e=void 0),e===void 0)e=-1;else if(!Number.isInteger(e))throw new TypeError("maxSpan must be an integer");super(-1,t),this.maxSpan=e}getSpan(e,t=0){return xs(e),e.length-t}decode(e,t=0){let n=this.getSpan(e,t);if(0<=this.maxSpan&&this.maxSpan<n)throw new RangeError("text length exceeds maxSpan");return Re(e).slice(t,t+n).toString("utf-8")}encode(e,t,n=0){typeof e!="string"&&(e=String(e));let s=Kc.Buffer.from(e,"utf8"),i=s.length;if(0<=this.maxSpan&&this.maxSpan<i)throw new RangeError("text length exceeds maxSpan");if(n+i>t.length)throw new RangeError("encoding overruns Buffer");return s.copy(Re(t),n),i}};O.UTF8=ko;var Oo=class extends ve{constructor(e,t){super(0,t),this.value=e}decode(e,t){return this.value}encode(e,t,n){return 0}};O.Constant=Oo;O.greedy=(r,e)=>new ho(r,e);O.offset=(r,e,t)=>new Zs(r,e,t);O.u8=r=>new Ht(1,r);O.u16=r=>new Ht(2,r);O.u24=r=>new Ht(3,r);O.u32=r=>new Ht(4,r);O.u40=r=>new Ht(5,r);O.u48=r=>new Ht(6,r);O.nu64=r=>new po(r);O.u16be=r=>new Zt(2,r);O.u24be=r=>new Zt(3,r);O.u32be=r=>new Zt(4,r);O.u40be=r=>new Zt(5,r);O.u48be=r=>new Zt(6,r);O.nu64be=r=>new mo(r);O.s8=r=>new Mr(1,r);O.s16=r=>new Mr(2,r);O.s24=r=>new Mr(3,r);O.s32=r=>new Mr(4,r);O.s40=r=>new Mr(5,r);O.s48=r=>new Mr(6,r);O.ns64=r=>new go(r);O.s16be=r=>new on(2,r);O.s24be=r=>new on(3,r);O.s32be=r=>new on(4,r);O.s40be=r=>new on(5,r);O.s48be=r=>new on(6,r);O.ns64be=r=>new yo(r);O.f32=r=>new _o(r);O.f32be=r=>new bo(r);O.f64=r=>new wo(r);O.f64be=r=>new Eo(r);O.struct=(r,e,t)=>new vo(r,e,t);O.bits=(r,e,t)=>new Xs(r,e,t);O.seq=(r,e,t)=>new Ro(r,e,t);O.union=(r,e,t)=>new Js(r,e,t);O.unionLayoutDiscriminator=(r,e)=>new Ss(r,e);O.blob=(r,e)=>new Ao(r,e);O.cstr=r=>new Io(r);O.utf8=(r,e)=>new ko(r,e);O.constant=(r,e)=>new Oo(r,e)});function ri(){if(!Po&&(Po=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!Po))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Po(N1)}var Po,N1,iu=Ut(()=>{N1=new Uint8Array(16)});var jd,Kd=Ut(()=>{jd=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i});function L1(r){return typeof r=="string"&&jd.test(r)}var cn,ni=Ut(()=>{Kd();cn=L1});function B1(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,t=(xt[r[e+0]]+xt[r[e+1]]+xt[r[e+2]]+xt[r[e+3]]+"-"+xt[r[e+4]]+xt[r[e+5]]+"-"+xt[r[e+6]]+xt[r[e+7]]+"-"+xt[r[e+8]]+xt[r[e+9]]+"-"+xt[r[e+10]]+xt[r[e+11]]+xt[r[e+12]]+xt[r[e+13]]+xt[r[e+14]]+xt[r[e+15]]).toLowerCase();if(!cn(t))throw TypeError("Stringified UUID is invalid");return t}var xt,Mo,un,si=Ut(()=>{ni();xt=[];for(Mo=0;Mo<256;++Mo)xt.push((Mo+256).toString(16).substr(1));un=B1});function C1(r,e,t){var n=e&&t||0,s=e||new Array(16);r=r||{};var i=r.node||Hd,o=r.clockseq!==void 0?r.clockseq:ou;if(i==null||o==null){var c=r.random||(r.rng||ri)();i==null&&(i=Hd=[c[0]|1,c[1],c[2],c[3],c[4],c[5]]),o==null&&(o=ou=(c[6]<<8|c[7])&16383)}var u=r.msecs!==void 0?r.msecs:Date.now(),p=r.nsecs!==void 0?r.nsecs:cu+1,m=u-au+(p-cu)/1e4;if(m<0&&r.clockseq===void 0&&(o=o+1&16383),(m<0||u>au)&&r.nsecs===void 0&&(p=0),p>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");au=u,cu=p,ou=o,u+=122192928e5;var b=((u&268435455)*1e4+p)%4294967296;s[n++]=b>>>24&255,s[n++]=b>>>16&255,s[n++]=b>>>8&255,s[n++]=b&255;var x=u/4294967296*1e4&268435455;s[n++]=x>>>8&255,s[n++]=x&255,s[n++]=x>>>24&15|16,s[n++]=x>>>16&255,s[n++]=o>>>8|128,s[n++]=o&255;for(var S=0;S<6;++S)s[n+S]=i[S];return e||un(s)}var Hd,ou,au,cu,Gd,Zd=Ut(()=>{iu();si();au=0,cu=0;Gd=C1});function P1(r){if(!cn(r))throw TypeError("Invalid UUID");var e,t=new Uint8Array(16);return t[0]=(e=parseInt(r.slice(0,8),16))>>>24,t[1]=e>>>16&255,t[2]=e>>>8&255,t[3]=e&255,t[4]=(e=parseInt(r.slice(9,13),16))>>>8,t[5]=e&255,t[6]=(e=parseInt(r.slice(14,18),16))>>>8,t[7]=e&255,t[8]=(e=parseInt(r.slice(19,23),16))>>>8,t[9]=e&255,t[10]=(e=parseInt(r.slice(24,36),16))/1099511627776&255,t[11]=e/4294967296&255,t[12]=e>>>24&255,t[13]=e>>>16&255,t[14]=e>>>8&255,t[15]=e&255,t}var Uo,uu=Ut(()=>{ni();Uo=P1});function M1(r){r=unescape(encodeURIComponent(r));for(var e=[],t=0;t<r.length;++t)e.push(r.charCodeAt(t));return e}function Do(r,e,t){function n(s,i,o,c){if(typeof s=="string"&&(s=M1(s)),typeof i=="string"&&(i=Uo(i)),i.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var u=new Uint8Array(16+s.length);if(u.set(i),u.set(s,i.length),u=t(u),u[6]=u[6]&15|e,u[8]=u[8]&63|128,o){c=c||0;for(var p=0;p<16;++p)o[c+p]=u[p];return o}return un(u)}try{n.name=r}catch{}return n.DNS=U1,n.URL=D1,n}var U1,D1,fu=Ut(()=>{si();uu();U1="6ba7b810-9dad-11d1-80b4-00c04fd430c8",D1="6ba7b811-9dad-11d1-80b4-00c04fd430c8"});function z1(r){if(typeof r=="string"){var e=unescape(encodeURIComponent(r));r=new Uint8Array(e.length);for(var t=0;t<e.length;++t)r[t]=e.charCodeAt(t)}return F1($1(V1(r),r.length*8))}function F1(r){for(var e=[],t=r.length*32,n="0123456789abcdef",s=0;s<t;s+=8){var i=r[s>>5]>>>s%32&255,o=parseInt(n.charAt(i>>>4&15)+n.charAt(i&15),16);e.push(o)}return e}function Yd(r){return(r+64>>>9<<4)+14+1}function $1(r,e){r[e>>5]|=128<<e%32,r[Yd(e)-1]=e;for(var t=1732584193,n=-271733879,s=-1732584194,i=271733878,o=0;o<r.length;o+=16){var c=t,u=n,p=s,m=i;t=Lt(t,n,s,i,r[o],7,-680876936),i=Lt(i,t,n,s,r[o+1],12,-389564586),s=Lt(s,i,t,n,r[o+2],17,606105819),n=Lt(n,s,i,t,r[o+3],22,-1044525330),t=Lt(t,n,s,i,r[o+4],7,-176418897),i=Lt(i,t,n,s,r[o+5],12,1200080426),s=Lt(s,i,t,n,r[o+6],17,-1473231341),n=Lt(n,s,i,t,r[o+7],22,-45705983),t=Lt(t,n,s,i,r[o+8],7,1770035416),i=Lt(i,t,n,s,r[o+9],12,-1958414417),s=Lt(s,i,t,n,r[o+10],17,-42063),n=Lt(n,s,i,t,r[o+11],22,-1990404162),t=Lt(t,n,s,i,r[o+12],7,1804603682),i=Lt(i,t,n,s,r[o+13],12,-40341101),s=Lt(s,i,t,n,r[o+14],17,-1502002290),n=Lt(n,s,i,t,r[o+15],22,1236535329),t=Bt(t,n,s,i,r[o+1],5,-165796510),i=Bt(i,t,n,s,r[o+6],9,-1069501632),s=Bt(s,i,t,n,r[o+11],14,643717713),n=Bt(n,s,i,t,r[o],20,-373897302),t=Bt(t,n,s,i,r[o+5],5,-701558691),i=Bt(i,t,n,s,r[o+10],9,38016083),s=Bt(s,i,t,n,r[o+15],14,-660478335),n=Bt(n,s,i,t,r[o+4],20,-405537848),t=Bt(t,n,s,i,r[o+9],5,568446438),i=Bt(i,t,n,s,r[o+14],9,-1019803690),s=Bt(s,i,t,n,r[o+3],14,-187363961),n=Bt(n,s,i,t,r[o+8],20,1163531501),t=Bt(t,n,s,i,r[o+13],5,-1444681467),i=Bt(i,t,n,s,r[o+2],9,-51403784),s=Bt(s,i,t,n,r[o+7],14,1735328473),n=Bt(n,s,i,t,r[o+12],20,-1926607734),t=Ct(t,n,s,i,r[o+5],4,-378558),i=Ct(i,t,n,s,r[o+8],11,-2022574463),s=Ct(s,i,t,n,r[o+11],16,1839030562),n=Ct(n,s,i,t,r[o+14],23,-35309556),t=Ct(t,n,s,i,r[o+1],4,-1530992060),i=Ct(i,t,n,s,r[o+4],11,1272893353),s=Ct(s,i,t,n,r[o+7],16,-155497632),n=Ct(n,s,i,t,r[o+10],23,-1094730640),t=Ct(t,n,s,i,r[o+13],4,681279174),i=Ct(i,t,n,s,r[o],11,-358537222),s=Ct(s,i,t,n,r[o+3],16,-722521979),n=Ct(n,s,i,t,r[o+6],23,76029189),t=Ct(t,n,s,i,r[o+9],4,-640364487),i=Ct(i,t,n,s,r[o+12],11,-421815835),s=Ct(s,i,t,n,r[o+15],16,530742520),n=Ct(n,s,i,t,r[o+2],23,-995338651),t=Pt(t,n,s,i,r[o],6,-198630844),i=Pt(i,t,n,s,r[o+7],10,1126891415),s=Pt(s,i,t,n,r[o+14],15,-1416354905),n=Pt(n,s,i,t,r[o+5],21,-57434055),t=Pt(t,n,s,i,r[o+12],6,1700485571),i=Pt(i,t,n,s,r[o+3],10,-1894986606),s=Pt(s,i,t,n,r[o+10],15,-1051523),n=Pt(n,s,i,t,r[o+1],21,-2054922799),t=Pt(t,n,s,i,r[o+8],6,1873313359),i=Pt(i,t,n,s,r[o+15],10,-30611744),s=Pt(s,i,t,n,r[o+6],15,-1560198380),n=Pt(n,s,i,t,r[o+13],21,1309151649),t=Pt(t,n,s,i,r[o+4],6,-145523070),i=Pt(i,t,n,s,r[o+11],10,-1120210379),s=Pt(s,i,t,n,r[o+2],15,718787259),n=Pt(n,s,i,t,r[o+9],21,-343485551),t=fn(t,c),n=fn(n,u),s=fn(s,p),i=fn(i,m)}return[t,n,s,i]}function V1(r){if(r.length===0)return[];for(var e=r.length*8,t=new Uint32Array(Yd(e)),n=0;n<e;n+=8)t[n>>5]|=(r[n/8]&255)<<n%32;return t}function fn(r,e){var t=(r&65535)+(e&65535),n=(r>>16)+(e>>16)+(t>>16);return n<<16|t&65535}function W1(r,e){return r<<e|r>>>32-e}function zo(r,e,t,n,s,i){return fn(W1(fn(fn(e,r),fn(n,i)),s),t)}function Lt(r,e,t,n,s,i,o){return zo(e&t|~e&n,r,e,s,i,o)}function Bt(r,e,t,n,s,i,o){return zo(e&n|t&~n,r,e,s,i,o)}function Ct(r,e,t,n,s,i,o){return zo(e^t^n,r,e,s,i,o)}function Pt(r,e,t,n,s,i,o){return zo(t^(e|~n),r,e,s,i,o)}var Jd,Xd=Ut(()=>{Jd=z1});var q1,Qd,eh=Ut(()=>{fu();Xd();q1=Do("v3",48,Jd),Qd=q1});function j1(r,e,t){r=r||{};var n=r.random||(r.rng||ri)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,e){t=t||0;for(var s=0;s<16;++s)e[t+s]=n[s];return e}return un(n)}var th,rh=Ut(()=>{iu();si();th=j1});function K1(r,e,t,n){switch(r){case 0:return e&t^~e&n;case 1:return e^t^n;case 2:return e&t^e&n^t&n;case 3:return e^t^n}}function lu(r,e){return r<<e|r>>>32-e}function H1(r){var e=[1518500249,1859775393,2400959708,3395469782],t=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof r=="string"){var n=unescape(encodeURIComponent(r));r=[];for(var s=0;s<n.length;++s)r.push(n.charCodeAt(s))}else Array.isArray(r)||(r=Array.prototype.slice.call(r));r.push(128);for(var i=r.length/4+2,o=Math.ceil(i/16),c=new Array(o),u=0;u<o;++u){for(var p=new Uint32Array(16),m=0;m<16;++m)p[m]=r[u*64+m*4]<<24|r[u*64+m*4+1]<<16|r[u*64+m*4+2]<<8|r[u*64+m*4+3];c[u]=p}c[o-1][14]=(r.length-1)*8/Math.pow(2,32),c[o-1][14]=Math.floor(c[o-1][14]),c[o-1][15]=(r.length-1)*8&4294967295;for(var b=0;b<o;++b){for(var x=new Uint32Array(80),S=0;S<16;++S)x[S]=c[b][S];for(var T=16;T<80;++T)x[T]=lu(x[T-3]^x[T-8]^x[T-14]^x[T-16],1);for(var I=t[0],A=t[1],L=t[2],U=t[3],B=t[4],F=0;F<80;++F){var te=Math.floor(F/20),G=lu(I,5)+K1(te,A,L,U)+B+e[te]+x[F]>>>0;B=U,U=L,L=lu(A,30)>>>0,A=I,I=G}t[0]=t[0]+I>>>0,t[1]=t[1]+A>>>0,t[2]=t[2]+L>>>0,t[3]=t[3]+U>>>0,t[4]=t[4]+B>>>0}return[t[0]>>24&255,t[0]>>16&255,t[0]>>8&255,t[0]&255,t[1]>>24&255,t[1]>>16&255,t[1]>>8&255,t[1]&255,t[2]>>24&255,t[2]>>16&255,t[2]>>8&255,t[2]&255,t[3]>>24&255,t[3]>>16&255,t[3]>>8&255,t[3]&255,t[4]>>24&255,t[4]>>16&255,t[4]>>8&255,t[4]&255]}var nh,sh=Ut(()=>{nh=H1});var G1,ih,oh=Ut(()=>{fu();sh();G1=Do("v5",80,nh),ih=G1});var ah,ch=Ut(()=>{ah="00000000-0000-0000-0000-000000000000"});function Z1(r){if(!cn(r))throw TypeError("Invalid UUID");return parseInt(r.substr(14,1),16)}var uh,fh=Ut(()=>{ni();uh=Z1});var du={};Qt(du,{NIL:()=>ah,parse:()=>Uo,stringify:()=>un,v1:()=>Gd,v3:()=>Qd,v4:()=>th,v5:()=>ih,validate:()=>cn,version:()=>uh});var hu=Ut(()=>{Zd();eh();rh();oh();ch();fh();ni();si();uu()});var dh=$t((NA,lh)=>{"use strict";var Y1=(hu(),Pa(du)).v4,J1=function(r,e,t,n){if(typeof r!="string")throw new TypeError(r+" must be a string");n=n||{};let s=typeof n.version=="number"?n.version:2;if(s!==1&&s!==2)throw new TypeError(s+" must be 1 or 2");let i={method:r};if(s===2&&(i.jsonrpc="2.0"),e){if(typeof e!="object"&&!Array.isArray(e))throw new TypeError(e+" must be an object, array or omitted");i.params=e}if(typeof t>"u"){let o=typeof n.generator=="function"?n.generator:function(){return Y1()};i.id=o(i,n)}else s===2&&t===null?n.notificationIdNull&&(i.id=null):i.id=t;return i};lh.exports=J1});var ph=$t((LA,hh)=>{"use strict";var X1=(hu(),Pa(du)).v4,Q1=dh(),ii=function(r,e){if(!(this instanceof ii))return new ii(r,e);e||(e={}),this.options={reviver:typeof e.reviver<"u"?e.reviver:null,replacer:typeof e.replacer<"u"?e.replacer:null,generator:typeof e.generator<"u"?e.generator:function(){return X1()},version:typeof e.version<"u"?e.version:2,notificationIdNull:typeof e.notificationIdNull=="boolean"?e.notificationIdNull:!1},this.callServer=r};hh.exports=ii;ii.prototype.request=function(r,e,t,n){let s=this,i=null,o=Array.isArray(r)&&typeof e=="function";if(this.options.version===1&&o)throw new TypeError("JSON-RPC 1.0 does not support batching");if(o||!o&&r&&typeof r=="object"&&typeof e=="function")n=e,i=r;else{typeof t=="function"&&(n=t,t=void 0);let p=typeof n=="function";try{i=Q1(r,e,t,{generator:this.options.generator,version:this.options.version,notificationIdNull:this.options.notificationIdNull})}catch(m){if(p)return n(m);throw m}if(!p)return i}let u;try{u=JSON.stringify(i,this.options.replacer)}catch(p){return n(p)}return this.callServer(u,function(p,m){s._parseResponse(p,m,n)}),i};ii.prototype._parseResponse=function(r,e,t){if(r){t(r);return}if(!e)return t();let n;try{n=JSON.parse(e,this.options.reviver)}catch(s){return t(s)}if(t.length===3)if(Array.isArray(n)){let s=function(o){return typeof o.error<"u"},i=function(o){return!s(o)};return t(null,n.filter(s),n.filter(i))}else return t(null,n.error,n.result);t(null,n)}});var gh=$t((BA,pu)=>{"use strict";var eE=Object.prototype.hasOwnProperty,zt="~";function oi(){}Object.create&&(oi.prototype=Object.create(null),new oi().__proto__||(zt=!1));function tE(r,e,t){this.fn=r,this.context=e,this.once=t||!1}function mh(r,e,t,n,s){if(typeof t!="function")throw new TypeError("The listener must be a function");var i=new tE(t,n||r,s),o=zt?zt+e:e;return r._events[o]?r._events[o].fn?r._events[o]=[r._events[o],i]:r._events[o].push(i):(r._events[o]=i,r._eventsCount++),r}function Fo(r,e){--r._eventsCount===0?r._events=new oi:delete r._events[e]}function Mt(){this._events=new oi,this._eventsCount=0}Mt.prototype.eventNames=function(){var e=[],t,n;if(this._eventsCount===0)return e;for(n in t=this._events)eE.call(t,n)&&e.push(zt?n.slice(1):n);return Object.getOwnPropertySymbols?e.concat(Object.getOwnPropertySymbols(t)):e};Mt.prototype.listeners=function(e){var t=zt?zt+e:e,n=this._events[t];if(!n)return[];if(n.fn)return[n.fn];for(var s=0,i=n.length,o=new Array(i);s<i;s++)o[s]=n[s].fn;return o};Mt.prototype.listenerCount=function(e){var t=zt?zt+e:e,n=this._events[t];return n?n.fn?1:n.length:0};Mt.prototype.emit=function(e,t,n,s,i,o){var c=zt?zt+e:e;if(!this._events[c])return!1;var u=this._events[c],p=arguments.length,m,b;if(u.fn){switch(u.once&&this.removeListener(e,u.fn,void 0,!0),p){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,t),!0;case 3:return u.fn.call(u.context,t,n),!0;case 4:return u.fn.call(u.context,t,n,s),!0;case 5:return u.fn.call(u.context,t,n,s,i),!0;case 6:return u.fn.call(u.context,t,n,s,i,o),!0}for(b=1,m=new Array(p-1);b<p;b++)m[b-1]=arguments[b];u.fn.apply(u.context,m)}else{var x=u.length,S;for(b=0;b<x;b++)switch(u[b].once&&this.removeListener(e,u[b].fn,void 0,!0),p){case 1:u[b].fn.call(u[b].context);break;case 2:u[b].fn.call(u[b].context,t);break;case 3:u[b].fn.call(u[b].context,t,n);break;case 4:u[b].fn.call(u[b].context,t,n,s);break;default:if(!m)for(S=1,m=new Array(p-1);S<p;S++)m[S-1]=arguments[S];u[b].fn.apply(u[b].context,m)}}return!0};Mt.prototype.on=function(e,t,n){return mh(this,e,t,n,!1)};Mt.prototype.once=function(e,t,n){return mh(this,e,t,n,!0)};Mt.prototype.removeListener=function(e,t,n,s){var i=zt?zt+e:e;if(!this._events[i])return this;if(!t)return Fo(this,i),this;var o=this._events[i];if(o.fn)o.fn===t&&(!s||o.once)&&(!n||o.context===n)&&Fo(this,i);else{for(var c=0,u=[],p=o.length;c<p;c++)(o[c].fn!==t||s&&!o[c].once||n&&o[c].context!==n)&&u.push(o[c]);u.length?this._events[i]=u.length===1?u[0]:u:Fo(this,i)}return this};Mt.prototype.removeAllListeners=function(e){var t;return e?(t=zt?zt+e:e,this._events[t]&&Fo(this,t)):(this._events=new oi,this._eventsCount=0),this};Mt.prototype.off=Mt.prototype.removeListener;Mt.prototype.addListener=Mt.prototype.on;Mt.prefixed=zt;Mt.EventEmitter=Mt;typeof pu<"u"&&(pu.exports=Mt)});var Kv={};Qt(Kv,{AddMiniApp:()=>ss,Back:()=>qa,ComposeCast:()=>Lf,Context:()=>$f,DEFAULT_READY_OPTIONS:()=>Da,Errors:()=>ns,Ethereum:()=>fl,Haptics:()=>Bf,Manifest:()=>ja,OpenMiniApp:()=>Cf,QuickAuth:()=>_f,Ready:()=>za,RequestCameraAndMicrophoneAccess:()=>Pf,SendToken:()=>Mf,SignIn:()=>gn,SignManifest:()=>yn,SolanaConnection:()=>ea,SwapToken:()=>Uf,ViewCast:()=>Df,ViewProfile:()=>zf,ViewToken:()=>Ff,actionLaunchFrameSchema:()=>Qf,actionLaunchMiniAppSchema:()=>el,actionSchema:()=>rl,actionViewTokenSchema:()=>tl,aspectRatioSchema:()=>Ja,buttonSchema:()=>nl,buttonTitleSchema:()=>$s,caip19TokenSchema:()=>Za,chains:()=>Rl,createSimpleStringSchema:()=>jr,createSolanaWalletProvider:()=>Gu,default:()=>jv,descriptionSchema:()=>ml,domainManifestSchema:()=>Rm,domainMiniAppConfigSchema:()=>ec,domainSchema:()=>Ya,encodedJsonFarcasterSignatureSchema:()=>Xa,eventMiniAppAddedSchema:()=>ol,eventMiniAppRemovedSchema:()=>al,eventNotificationsEnabledSchema:()=>cl,frameHost:()=>Bv,hexColorSchema:()=>ps,jsonFarcasterSignatureHeaderSchema:()=>ym,miniAppEmbedNextSchema:()=>sl,miniAppHost:()=>ae,miniAppHostCapabilityList:()=>Qa,miniAppNameSchema:()=>hs,noindexSchema:()=>El,notificationDetailsSchema:()=>Vi,notificationsDisabledSchema:()=>ul,ogDescriptionSchema:()=>wl,ogTitleSchema:()=>bl,primaryCategories:()=>ll,primaryCategorySchema:()=>dl,quickAuth:()=>Ms,requiredCapabilitiesSchema:()=>xl,requiredChainsSchema:()=>Sl,safeParseFrameEmbed:()=>_m,safeParseMiniAppEmbed:()=>il,screenshotUrlsSchema:()=>gl,sdk:()=>wf,secureUrlSchema:()=>_t,sendNotificationRequestSchema:()=>bm,sendNotificationResponseSchema:()=>wm,serverEventSchema:()=>Em,subtitleSchema:()=>pl,taglineSchema:()=>_l,tagsSchema:()=>yl,unwrapSolanaProviderRequest:()=>Ju,versionSchema:()=>hl,wrapSolanaProviderRequest:()=>fv});var ss={};Qt(ss,{InvalidDomainManifest:()=>Ma,RejectedByUser:()=>Ua});var ns={};Qt(ns,{BaseError:()=>er});var er=class extends Error{name="BaseError";cause;constructor(e,t={}){super(e,t.cause?{cause:t.cause}:void 0),this.cause=t.cause}};var Ma=class extends er{name="AddMiniApp.InvalidDomainManifest";constructor(){super("Invalid domain manifest")}},Ua=class extends er{name="AddMiniApp.RejectedByUser";constructor(){super("Add miniapp rejected by user")}};var Lf={};var Bf={};var Cf={};var za={};Qt(za,{DEFAULT_READY_OPTIONS:()=>Da});var Da={disableNativeGestures:!1};var Pf={};var Mf={};var gn={};Qt(gn,{RejectedByUser:()=>Fa});var Fa=class extends er{name="SignIn.RejectedByUser";constructor(){super("Sign in rejected by user")}};var yn={};Qt(yn,{GenericError:()=>Wa,InvalidDomain:()=>Va,RejectedByUser:()=>$a});var $a=class extends er{name="SignManifest.RejectedByUser";constructor(){super("Sign manifest rejected by user")}},Va=class extends er{name="SignManifest.InvalidDomain";constructor(){super("Invalid domain provided")}},Wa=class extends er{name="SignManifest.GenericError";constructor(e="Manifest signing failed"){super(e)}};var Uf={};var Df={};var zf={};var Ff={};var qa={};Qt(qa,{DEFAULT_BACK_STATE:()=>e0});var e0={visible:!1};var $f={};var ja={};Qt(ja,{getMiniAppConfig:()=>t0});function t0(r){return r.miniapp||r.frame}var V={};Qt(V,{BRAND:()=>I0,DIRTY:()=>_n,EMPTY_PATH:()=>i0,INVALID:()=>se,NEVER:()=>lm,OK:()=>Ot,ParseStatus:()=>vt,Schema:()=>ge,ZodAny:()=>Wr,ZodArray:()=>kr,ZodBigInt:()=>wn,ZodBoolean:()=>En,ZodBranded:()=>zs,ZodCatch:()=>Ln,ZodDate:()=>Rn,ZodDefault:()=>Nn,ZodDiscriminatedUnion:()=>zi,ZodEffects:()=>nr,ZodEnum:()=>On,ZodError:()=>Vt,ZodFirstPartyTypeKind:()=>oe,ZodFunction:()=>$i,ZodIntersection:()=>An,ZodIssueCode:()=>M,ZodLazy:()=>In,ZodLiteral:()=>kn,ZodMap:()=>fs,ZodNaN:()=>ds,ZodNativeEnum:()=>Tn,ZodNever:()=>ar,ZodNull:()=>Sn,ZodNullable:()=>gr,ZodNumber:()=>bn,ZodObject:()=>Wt,ZodOptional:()=>tr,ZodParsedType:()=>H,ZodPipeline:()=>Fs,ZodPromise:()=>qr,ZodReadonly:()=>Bn,ZodRecord:()=>Fi,ZodSchema:()=>ge,ZodSet:()=>ls,ZodString:()=>Vr,ZodSymbol:()=>cs,ZodTransformer:()=>nr,ZodTuple:()=>mr,ZodType:()=>ge,ZodUndefined:()=>vn,ZodUnion:()=>xn,ZodUnknown:()=>Ir,ZodVoid:()=>us,addIssueToContext:()=>q,any:()=>M0,array:()=>F0,bigint:()=>N0,boolean:()=>Xf,coerce:()=>fm,custom:()=>Zf,date:()=>L0,datetimeRegex:()=>Hf,defaultErrorMap:()=>xr,discriminatedUnion:()=>q0,effect:()=>rm,enum:()=>Q0,function:()=>Y0,getErrorMap:()=>is,getParsedType:()=>pr,instanceof:()=>O0,intersection:()=>j0,isAborted:()=>Ui,isAsync:()=>os,isDirty:()=>Di,isValid:()=>$r,late:()=>k0,lazy:()=>J0,literal:()=>X0,makeIssue:()=>Ds,map:()=>G0,nan:()=>T0,nativeEnum:()=>em,never:()=>D0,null:()=>P0,nullable:()=>sm,number:()=>Jf,object:()=>$0,objectUtil:()=>Ka,oboolean:()=>um,onumber:()=>cm,optional:()=>nm,ostring:()=>am,pipeline:()=>om,preprocess:()=>im,promise:()=>tm,quotelessJson:()=>r0,record:()=>H0,set:()=>Z0,setErrorMap:()=>s0,strictObject:()=>V0,string:()=>Yf,symbol:()=>B0,transformer:()=>rm,tuple:()=>K0,undefined:()=>C0,union:()=>W0,unknown:()=>U0,util:()=>_e,void:()=>z0});var _e;(function(r){r.assertEqual=s=>{};function e(s){}r.assertIs=e;function t(s){throw new Error}r.assertNever=t,r.arrayToEnum=s=>{let i={};for(let o of s)i[o]=o;return i},r.getValidEnumValues=s=>{let i=r.objectKeys(s).filter(c=>typeof s[s[c]]!="number"),o={};for(let c of i)o[c]=s[c];return r.objectValues(o)},r.objectValues=s=>r.objectKeys(s).map(function(i){return s[i]}),r.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{let i=[];for(let o in s)Object.prototype.hasOwnProperty.call(s,o)&&i.push(o);return i},r.find=(s,i)=>{for(let o of s)if(i(o))return o},r.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&Number.isFinite(s)&&Math.floor(s)===s;function n(s,i=" | "){return s.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}r.joinValues=n,r.jsonStringifyReplacer=(s,i)=>typeof i=="bigint"?i.toString():i})(_e||(_e={}));var Ka;(function(r){r.mergeShapes=(e,t)=>({...e,...t})})(Ka||(Ka={}));var H=_e.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),pr=r=>{switch(typeof r){case"undefined":return H.undefined;case"string":return H.string;case"number":return Number.isNaN(r)?H.nan:H.number;case"boolean":return H.boolean;case"function":return H.function;case"bigint":return H.bigint;case"symbol":return H.symbol;case"object":return Array.isArray(r)?H.array:r===null?H.null:r.then&&typeof r.then=="function"&&r.catch&&typeof r.catch=="function"?H.promise:typeof Map<"u"&&r instanceof Map?H.map:typeof Set<"u"&&r instanceof Set?H.set:typeof Date<"u"&&r instanceof Date?H.date:H.object;default:return H.unknown}};var M=_e.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),r0=r=>JSON.stringify(r,null,2).replace(/"([^"]+)":/g,"$1:"),Vt=class r extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};let t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}format(e){let t=e||function(i){return i.message},n={_errors:[]},s=i=>{for(let o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(s);else if(o.code==="invalid_return_type")s(o.returnTypeError);else if(o.code==="invalid_arguments")s(o.argumentsError);else if(o.path.length===0)n._errors.push(t(o));else{let c=n,u=0;for(;u<o.path.length;){let p=o.path[u];u===o.path.length-1?(c[p]=c[p]||{_errors:[]},c[p]._errors.push(t(o))):c[p]=c[p]||{_errors:[]},c=c[p],u++}}};return s(this),n}static assert(e){if(!(e instanceof r))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,_e.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=t=>t.message){let t={},n=[];for(let s of this.issues)s.path.length>0?(t[s.path[0]]=t[s.path[0]]||[],t[s.path[0]].push(e(s))):n.push(e(s));return{formErrors:n,fieldErrors:t}}get formErrors(){return this.flatten()}};Vt.create=r=>new Vt(r);var n0=(r,e)=>{let t;switch(r.code){case M.invalid_type:r.received===H.undefined?t="Required":t=`Expected ${r.expected}, received ${r.received}`;break;case M.invalid_literal:t=`Invalid literal value, expected ${JSON.stringify(r.expected,_e.jsonStringifyReplacer)}`;break;case M.unrecognized_keys:t=`Unrecognized key(s) in object: ${_e.joinValues(r.keys,", ")}`;break;case M.invalid_union:t="Invalid input";break;case M.invalid_union_discriminator:t=`Invalid discriminator value. Expected ${_e.joinValues(r.options)}`;break;case M.invalid_enum_value:t=`Invalid enum value. Expected ${_e.joinValues(r.options)}, received '${r.received}'`;break;case M.invalid_arguments:t="Invalid function arguments";break;case M.invalid_return_type:t="Invalid function return type";break;case M.invalid_date:t="Invalid date";break;case M.invalid_string:typeof r.validation=="object"?"includes"in r.validation?(t=`Invalid input: must include "${r.validation.includes}"`,typeof r.validation.position=="number"&&(t=`${t} at one or more positions greater than or equal to ${r.validation.position}`)):"startsWith"in r.validation?t=`Invalid input: must start with "${r.validation.startsWith}"`:"endsWith"in r.validation?t=`Invalid input: must end with "${r.validation.endsWith}"`:_e.assertNever(r.validation):r.validation!=="regex"?t=`Invalid ${r.validation}`:t="Invalid";break;case M.too_small:r.type==="array"?t=`Array must contain ${r.exact?"exactly":r.inclusive?"at least":"more than"} ${r.minimum} element(s)`:r.type==="string"?t=`String must contain ${r.exact?"exactly":r.inclusive?"at least":"over"} ${r.minimum} character(s)`:r.type==="number"?t=`Number must be ${r.exact?"exactly equal to ":r.inclusive?"greater than or equal to ":"greater than "}${r.minimum}`:r.type==="date"?t=`Date must be ${r.exact?"exactly equal to ":r.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(r.minimum))}`:t="Invalid input";break;case M.too_big:r.type==="array"?t=`Array must contain ${r.exact?"exactly":r.inclusive?"at most":"less than"} ${r.maximum} element(s)`:r.type==="string"?t=`String must contain ${r.exact?"exactly":r.inclusive?"at most":"under"} ${r.maximum} character(s)`:r.type==="number"?t=`Number must be ${r.exact?"exactly":r.inclusive?"less than or equal to":"less than"} ${r.maximum}`:r.type==="bigint"?t=`BigInt must be ${r.exact?"exactly":r.inclusive?"less than or equal to":"less than"} ${r.maximum}`:r.type==="date"?t=`Date must be ${r.exact?"exactly":r.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(r.maximum))}`:t="Invalid input";break;case M.custom:t="Invalid input";break;case M.invalid_intersection_types:t="Intersection results could not be merged";break;case M.not_multiple_of:t=`Number must be a multiple of ${r.multipleOf}`;break;case M.not_finite:t="Number must be finite";break;default:t=e.defaultError,_e.assertNever(r)}return{message:t}},xr=n0;var Vf=xr;function s0(r){Vf=r}function is(){return Vf}var Ds=r=>{let{data:e,path:t,errorMaps:n,issueData:s}=r,i=[...t,...s.path||[]],o={...s,path:i};if(s.message!==void 0)return{...s,path:i,message:s.message};let c="",u=n.filter(p=>!!p).slice().reverse();for(let p of u)c=p(o,{data:e,defaultError:c}).message;return{...s,path:i,message:c}},i0=[];function q(r,e){let t=is(),n=Ds({issueData:e,data:r.data,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,t,t===xr?void 0:xr].filter(s=>!!s)});r.common.issues.push(n)}var vt=class r{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,t){let n=[];for(let s of t){if(s.status==="aborted")return se;s.status==="dirty"&&e.dirty(),n.push(s.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,t){let n=[];for(let s of t){let i=await s.key,o=await s.value;n.push({key:i,value:o})}return r.mergeObjectSync(e,n)}static mergeObjectSync(e,t){let n={};for(let s of t){let{key:i,value:o}=s;if(i.status==="aborted"||o.status==="aborted")return se;i.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),i.value!=="__proto__"&&(typeof o.value<"u"||s.alwaysSet)&&(n[i.value]=o.value)}return{status:e.value,value:n}}},se=Object.freeze({status:"aborted"}),_n=r=>({status:"dirty",value:r}),Ot=r=>({status:"valid",value:r}),Ui=r=>r.status==="aborted",Di=r=>r.status==="dirty",$r=r=>r.status==="valid",os=r=>typeof Promise<"u"&&r instanceof Promise;var J;(function(r){r.errToObj=e=>typeof e=="string"?{message:e}:e||{},r.toString=e=>typeof e=="string"?e:e?.message})(J||(J={}));var rr=class{constructor(e,t,n,s){this._cachedPath=[],this.parent=e,this.data=t,this._path=n,this._key=s}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}},Wf=(r,e)=>{if($r(e))return{success:!0,data:e.value};if(!r.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let t=new Vt(r.common.issues);return this._error=t,this._error}}};function de(r){if(!r)return{};let{errorMap:e,invalid_type_error:t,required_error:n,description:s}=r;if(e&&(t||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:s}:{errorMap:(o,c)=>{let{message:u}=r;return o.code==="invalid_enum_value"?{message:u??c.defaultError}:typeof c.data>"u"?{message:u??n??c.defaultError}:o.code!=="invalid_type"?{message:c.defaultError}:{message:u??t??c.defaultError}},description:s}}var ge=class{get description(){return this._def.description}_getType(e){return pr(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:pr(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new vt,ctx:{common:e.parent.common,data:e.data,parsedType:pr(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){let t=this._parse(e);if(os(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(e){let t=this._parse(e);return Promise.resolve(t)}parse(e,t){let n=this.safeParse(e,t);if(n.success)return n.data;throw n.error}safeParse(e,t){let n={common:{issues:[],async:t?.async??!1,contextualErrorMap:t?.errorMap},path:t?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:pr(e)},s=this._parseSync({data:e,path:n.path,parent:n});return Wf(n,s)}"~validate"(e){let t={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:pr(e)};if(!this["~standard"].async)try{let n=this._parseSync({data:e,path:[],parent:t});return $r(n)?{value:n.value}:{issues:t.common.issues}}catch(n){n?.message?.toLowerCase()?.includes("encountered")&&(this["~standard"].async=!0),t.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:t}).then(n=>$r(n)?{value:n.value}:{issues:t.common.issues})}async parseAsync(e,t){let n=await this.safeParseAsync(e,t);if(n.success)return n.data;throw n.error}async safeParseAsync(e,t){let n={common:{issues:[],contextualErrorMap:t?.errorMap,async:!0},path:t?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:pr(e)},s=this._parse({data:e,path:n.path,parent:n}),i=await(os(s)?s:Promise.resolve(s));return Wf(n,i)}refine(e,t){let n=s=>typeof t=="string"||typeof t>"u"?{message:t}:typeof t=="function"?t(s):t;return this._refinement((s,i)=>{let o=e(s),c=()=>i.addIssue({code:M.custom,...n(s)});return typeof Promise<"u"&&o instanceof Promise?o.then(u=>u?!0:(c(),!1)):o?!0:(c(),!1)})}refinement(e,t){return this._refinement((n,s)=>e(n)?!0:(s.addIssue(typeof t=="function"?t(n,s):t),!1))}_refinement(e){return new nr({schema:this,typeName:oe.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:t=>this["~validate"](t)}}optional(){return tr.create(this,this._def)}nullable(){return gr.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return kr.create(this)}promise(){return qr.create(this,this._def)}or(e){return xn.create([this,e],this._def)}and(e){return An.create(this,e,this._def)}transform(e){return new nr({...de(this._def),schema:this,typeName:oe.ZodEffects,effect:{type:"transform",transform:e}})}default(e){let t=typeof e=="function"?e:()=>e;return new Nn({...de(this._def),innerType:this,defaultValue:t,typeName:oe.ZodDefault})}brand(){return new zs({typeName:oe.ZodBranded,type:this,...de(this._def)})}catch(e){let t=typeof e=="function"?e:()=>e;return new Ln({...de(this._def),innerType:this,catchValue:t,typeName:oe.ZodCatch})}describe(e){let t=this.constructor;return new t({...this._def,description:e})}pipe(e){return Fs.create(this,e)}readonly(){return Bn.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}},o0=/^c[^\s-]{8,}$/i,a0=/^[0-9a-z]+$/,c0=/^[0-9A-HJKMNP-TV-Z]{26}$/i,u0=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,f0=/^[a-z0-9_-]{21}$/i,l0=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,d0=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,h0=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,p0="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$",Ha,m0=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,g0=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,y0=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,_0=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,b0=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,w0=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,jf="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",E0=new RegExp(`^${jf}$`);function Kf(r){let e="[0-5]\\d";r.precision?e=`${e}\\.\\d{${r.precision}}`:r.precision==null&&(e=`${e}(\\.\\d+)?`);let t=r.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${t}`}function R0(r){return new RegExp(`^${Kf(r)}$`)}function Hf(r){let e=`${jf}T${Kf(r)}`,t=[];return t.push(r.local?"Z?":"Z"),r.offset&&t.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${t.join("|")})`,new RegExp(`^${e}$`)}function v0(r,e){return!!((e==="v4"||!e)&&m0.test(r)||(e==="v6"||!e)&&y0.test(r))}function S0(r,e){if(!l0.test(r))return!1;try{let[t]=r.split("."),n=t.replace(/-/g,"+").replace(/_/g,"/").padEnd(t.length+(4-t.length%4)%4,"="),s=JSON.parse(atob(n));return!(typeof s!="object"||s===null||"typ"in s&&s?.typ!=="JWT"||!s.alg||e&&s.alg!==e)}catch{return!1}}function x0(r,e){return!!((e==="v4"||!e)&&g0.test(r)||(e==="v6"||!e)&&_0.test(r))}var Vr=class r extends ge{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==H.string){let i=this._getOrReturnCtx(e);return q(i,{code:M.invalid_type,expected:H.string,received:i.parsedType}),se}let n=new vt,s;for(let i of this._def.checks)if(i.kind==="min")e.data.length<i.value&&(s=this._getOrReturnCtx(e,s),q(s,{code:M.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="max")e.data.length>i.value&&(s=this._getOrReturnCtx(e,s),q(s,{code:M.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="length"){let o=e.data.length>i.value,c=e.data.length<i.value;(o||c)&&(s=this._getOrReturnCtx(e,s),o?q(s,{code:M.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):c&&q(s,{code:M.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),n.dirty())}else if(i.kind==="email")h0.test(e.data)||(s=this._getOrReturnCtx(e,s),q(s,{validation:"email",code:M.invalid_string,message:i.message}),n.dirty());else if(i.kind==="emoji")Ha||(Ha=new RegExp(p0,"u")),Ha.test(e.data)||(s=this._getOrReturnCtx(e,s),q(s,{validation:"emoji",code:M.invalid_string,message:i.message}),n.dirty());else if(i.kind==="uuid")u0.test(e.data)||(s=this._getOrReturnCtx(e,s),q(s,{validation:"uuid",code:M.invalid_string,message:i.message}),n.dirty());else if(i.kind==="nanoid")f0.test(e.data)||(s=this._getOrReturnCtx(e,s),q(s,{validation:"nanoid",code:M.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid")o0.test(e.data)||(s=this._getOrReturnCtx(e,s),q(s,{validation:"cuid",code:M.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid2")a0.test(e.data)||(s=this._getOrReturnCtx(e,s),q(s,{validation:"cuid2",code:M.invalid_string,message:i.message}),n.dirty());else if(i.kind==="ulid")c0.test(e.data)||(s=this._getOrReturnCtx(e,s),q(s,{validation:"ulid",code:M.invalid_string,message:i.message}),n.dirty());else if(i.kind==="url")try{new URL(e.data)}catch{s=this._getOrReturnCtx(e,s),q(s,{validation:"url",code:M.invalid_string,message:i.message}),n.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(e.data)||(s=this._getOrReturnCtx(e,s),q(s,{validation:"regex",code:M.invalid_string,message:i.message}),n.dirty())):i.kind==="trim"?e.data=e.data.trim():i.kind==="includes"?e.data.includes(i.value,i.position)||(s=this._getOrReturnCtx(e,s),q(s,{code:M.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),n.dirty()):i.kind==="toLowerCase"?e.data=e.data.toLowerCase():i.kind==="toUpperCase"?e.data=e.data.toUpperCase():i.kind==="startsWith"?e.data.startsWith(i.value)||(s=this._getOrReturnCtx(e,s),q(s,{code:M.invalid_string,validation:{startsWith:i.value},message:i.message}),n.dirty()):i.kind==="endsWith"?e.data.endsWith(i.value)||(s=this._getOrReturnCtx(e,s),q(s,{code:M.invalid_string,validation:{endsWith:i.value},message:i.message}),n.dirty()):i.kind==="datetime"?Hf(i).test(e.data)||(s=this._getOrReturnCtx(e,s),q(s,{code:M.invalid_string,validation:"datetime",message:i.message}),n.dirty()):i.kind==="date"?E0.test(e.data)||(s=this._getOrReturnCtx(e,s),q(s,{code:M.invalid_string,validation:"date",message:i.message}),n.dirty()):i.kind==="time"?R0(i).test(e.data)||(s=this._getOrReturnCtx(e,s),q(s,{code:M.invalid_string,validation:"time",message:i.message}),n.dirty()):i.kind==="duration"?d0.test(e.data)||(s=this._getOrReturnCtx(e,s),q(s,{validation:"duration",code:M.invalid_string,message:i.message}),n.dirty()):i.kind==="ip"?v0(e.data,i.version)||(s=this._getOrReturnCtx(e,s),q(s,{validation:"ip",code:M.invalid_string,message:i.message}),n.dirty()):i.kind==="jwt"?S0(e.data,i.alg)||(s=this._getOrReturnCtx(e,s),q(s,{validation:"jwt",code:M.invalid_string,message:i.message}),n.dirty()):i.kind==="cidr"?x0(e.data,i.version)||(s=this._getOrReturnCtx(e,s),q(s,{validation:"cidr",code:M.invalid_string,message:i.message}),n.dirty()):i.kind==="base64"?b0.test(e.data)||(s=this._getOrReturnCtx(e,s),q(s,{validation:"base64",code:M.invalid_string,message:i.message}),n.dirty()):i.kind==="base64url"?w0.test(e.data)||(s=this._getOrReturnCtx(e,s),q(s,{validation:"base64url",code:M.invalid_string,message:i.message}),n.dirty()):_e.assertNever(i);return{status:n.value,value:e.data}}_regex(e,t,n){return this.refinement(s=>e.test(s),{validation:t,code:M.invalid_string,...J.errToObj(n)})}_addCheck(e){return new r({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...J.errToObj(e)})}url(e){return this._addCheck({kind:"url",...J.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...J.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...J.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...J.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...J.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...J.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...J.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...J.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...J.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...J.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...J.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...J.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof e?.precision>"u"?null:e?.precision,offset:e?.offset??!1,local:e?.local??!1,...J.errToObj(e?.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof e?.precision>"u"?null:e?.precision,...J.errToObj(e?.message)})}duration(e){return this._addCheck({kind:"duration",...J.errToObj(e)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...J.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:t?.position,...J.errToObj(t?.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...J.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...J.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...J.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...J.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...J.errToObj(t)})}nonempty(e){return this.min(1,J.errToObj(e))}trim(){return new r({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new r({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new r({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(let t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(let t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}};Vr.create=r=>new Vr({checks:[],typeName:oe.ZodString,coerce:r?.coerce??!1,...de(r)});function A0(r,e){let t=(r.toString().split(".")[1]||"").length,n=(e.toString().split(".")[1]||"").length,s=t>n?t:n,i=Number.parseInt(r.toFixed(s).replace(".","")),o=Number.parseInt(e.toFixed(s).replace(".",""));return i%o/10**s}var bn=class r extends ge{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==H.number){let i=this._getOrReturnCtx(e);return q(i,{code:M.invalid_type,expected:H.number,received:i.parsedType}),se}let n,s=new vt;for(let i of this._def.checks)i.kind==="int"?_e.isInteger(e.data)||(n=this._getOrReturnCtx(e,n),q(n,{code:M.invalid_type,expected:"integer",received:"float",message:i.message}),s.dirty()):i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(n=this._getOrReturnCtx(e,n),q(n,{code:M.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(n=this._getOrReturnCtx(e,n),q(n,{code:M.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="multipleOf"?A0(e.data,i.value)!==0&&(n=this._getOrReturnCtx(e,n),q(n,{code:M.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):i.kind==="finite"?Number.isFinite(e.data)||(n=this._getOrReturnCtx(e,n),q(n,{code:M.not_finite,message:i.message}),s.dirty()):_e.assertNever(i);return{status:s.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,J.toString(t))}gt(e,t){return this.setLimit("min",e,!1,J.toString(t))}lte(e,t){return this.setLimit("max",e,!0,J.toString(t))}lt(e,t){return this.setLimit("max",e,!1,J.toString(t))}setLimit(e,t,n,s){return new r({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:n,message:J.toString(s)}]})}_addCheck(e){return new r({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:J.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:J.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:J.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:J.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:J.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:J.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:J.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:J.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:J.toString(e)})}get minValue(){let e=null;for(let t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(let t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&_e.isInteger(e.value))}get isFinite(){let e=null,t=null;for(let n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(t===null||n.value>t)&&(t=n.value):n.kind==="max"&&(e===null||n.value<e)&&(e=n.value)}return Number.isFinite(t)&&Number.isFinite(e)}};bn.create=r=>new bn({checks:[],typeName:oe.ZodNumber,coerce:r?.coerce||!1,...de(r)});var wn=class r extends ge{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==H.bigint)return this._getInvalidInput(e);let n,s=new vt;for(let i of this._def.checks)i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(n=this._getOrReturnCtx(e,n),q(n,{code:M.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(n=this._getOrReturnCtx(e,n),q(n,{code:M.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="multipleOf"?e.data%i.value!==BigInt(0)&&(n=this._getOrReturnCtx(e,n),q(n,{code:M.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):_e.assertNever(i);return{status:s.value,value:e.data}}_getInvalidInput(e){let t=this._getOrReturnCtx(e);return q(t,{code:M.invalid_type,expected:H.bigint,received:t.parsedType}),se}gte(e,t){return this.setLimit("min",e,!0,J.toString(t))}gt(e,t){return this.setLimit("min",e,!1,J.toString(t))}lte(e,t){return this.setLimit("max",e,!0,J.toString(t))}lt(e,t){return this.setLimit("max",e,!1,J.toString(t))}setLimit(e,t,n,s){return new r({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:n,message:J.toString(s)}]})}_addCheck(e){return new r({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:J.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:J.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:J.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:J.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:J.toString(t)})}get minValue(){let e=null;for(let t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(let t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}};wn.create=r=>new wn({checks:[],typeName:oe.ZodBigInt,coerce:r?.coerce??!1,...de(r)});var En=class extends ge{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==H.boolean){let n=this._getOrReturnCtx(e);return q(n,{code:M.invalid_type,expected:H.boolean,received:n.parsedType}),se}return Ot(e.data)}};En.create=r=>new En({typeName:oe.ZodBoolean,coerce:r?.coerce||!1,...de(r)});var Rn=class r extends ge{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==H.date){let i=this._getOrReturnCtx(e);return q(i,{code:M.invalid_type,expected:H.date,received:i.parsedType}),se}if(Number.isNaN(e.data.getTime())){let i=this._getOrReturnCtx(e);return q(i,{code:M.invalid_date}),se}let n=new vt,s;for(let i of this._def.checks)i.kind==="min"?e.data.getTime()<i.value&&(s=this._getOrReturnCtx(e,s),q(s,{code:M.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),n.dirty()):i.kind==="max"?e.data.getTime()>i.value&&(s=this._getOrReturnCtx(e,s),q(s,{code:M.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),n.dirty()):_e.assertNever(i);return{status:n.value,value:new Date(e.data.getTime())}}_addCheck(e){return new r({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:J.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:J.toString(t)})}get minDate(){let e=null;for(let t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(let t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e!=null?new Date(e):null}};Rn.create=r=>new Rn({checks:[],coerce:r?.coerce||!1,typeName:oe.ZodDate,...de(r)});var cs=class extends ge{_parse(e){if(this._getType(e)!==H.symbol){let n=this._getOrReturnCtx(e);return q(n,{code:M.invalid_type,expected:H.symbol,received:n.parsedType}),se}return Ot(e.data)}};cs.create=r=>new cs({typeName:oe.ZodSymbol,...de(r)});var vn=class extends ge{_parse(e){if(this._getType(e)!==H.undefined){let n=this._getOrReturnCtx(e);return q(n,{code:M.invalid_type,expected:H.undefined,received:n.parsedType}),se}return Ot(e.data)}};vn.create=r=>new vn({typeName:oe.ZodUndefined,...de(r)});var Sn=class extends ge{_parse(e){if(this._getType(e)!==H.null){let n=this._getOrReturnCtx(e);return q(n,{code:M.invalid_type,expected:H.null,received:n.parsedType}),se}return Ot(e.data)}};Sn.create=r=>new Sn({typeName:oe.ZodNull,...de(r)});var Wr=class extends ge{constructor(){super(...arguments),this._any=!0}_parse(e){return Ot(e.data)}};Wr.create=r=>new Wr({typeName:oe.ZodAny,...de(r)});var Ir=class extends ge{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Ot(e.data)}};Ir.create=r=>new Ir({typeName:oe.ZodUnknown,...de(r)});var ar=class extends ge{_parse(e){let t=this._getOrReturnCtx(e);return q(t,{code:M.invalid_type,expected:H.never,received:t.parsedType}),se}};ar.create=r=>new ar({typeName:oe.ZodNever,...de(r)});var us=class extends ge{_parse(e){if(this._getType(e)!==H.undefined){let n=this._getOrReturnCtx(e);return q(n,{code:M.invalid_type,expected:H.void,received:n.parsedType}),se}return Ot(e.data)}};us.create=r=>new us({typeName:oe.ZodVoid,...de(r)});var kr=class r extends ge{_parse(e){let{ctx:t,status:n}=this._processInputParams(e),s=this._def;if(t.parsedType!==H.array)return q(t,{code:M.invalid_type,expected:H.array,received:t.parsedType}),se;if(s.exactLength!==null){let o=t.data.length>s.exactLength.value,c=t.data.length<s.exactLength.value;(o||c)&&(q(t,{code:o?M.too_big:M.too_small,minimum:c?s.exactLength.value:void 0,maximum:o?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),n.dirty())}if(s.minLength!==null&&t.data.length<s.minLength.value&&(q(t,{code:M.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),n.dirty()),s.maxLength!==null&&t.data.length>s.maxLength.value&&(q(t,{code:M.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),n.dirty()),t.common.async)return Promise.all([...t.data].map((o,c)=>s.type._parseAsync(new rr(t,o,t.path,c)))).then(o=>vt.mergeArray(n,o));let i=[...t.data].map((o,c)=>s.type._parseSync(new rr(t,o,t.path,c)));return vt.mergeArray(n,i)}get element(){return this._def.type}min(e,t){return new r({...this._def,minLength:{value:e,message:J.toString(t)}})}max(e,t){return new r({...this._def,maxLength:{value:e,message:J.toString(t)}})}length(e,t){return new r({...this._def,exactLength:{value:e,message:J.toString(t)}})}nonempty(e){return this.min(1,e)}};kr.create=(r,e)=>new kr({type:r,minLength:null,maxLength:null,exactLength:null,typeName:oe.ZodArray,...de(e)});function as(r){if(r instanceof Wt){let e={};for(let t in r.shape){let n=r.shape[t];e[t]=tr.create(as(n))}return new Wt({...r._def,shape:()=>e})}else return r instanceof kr?new kr({...r._def,type:as(r.element)}):r instanceof tr?tr.create(as(r.unwrap())):r instanceof gr?gr.create(as(r.unwrap())):r instanceof mr?mr.create(r.items.map(e=>as(e))):r}var Wt=class r extends ge{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;let e=this._def.shape(),t=_e.objectKeys(e);return this._cached={shape:e,keys:t},this._cached}_parse(e){if(this._getType(e)!==H.object){let p=this._getOrReturnCtx(e);return q(p,{code:M.invalid_type,expected:H.object,received:p.parsedType}),se}let{status:n,ctx:s}=this._processInputParams(e),{shape:i,keys:o}=this._getCached(),c=[];if(!(this._def.catchall instanceof ar&&this._def.unknownKeys==="strip"))for(let p in s.data)o.includes(p)||c.push(p);let u=[];for(let p of o){let m=i[p],b=s.data[p];u.push({key:{status:"valid",value:p},value:m._parse(new rr(s,b,s.path,p)),alwaysSet:p in s.data})}if(this._def.catchall instanceof ar){let p=this._def.unknownKeys;if(p==="passthrough")for(let m of c)u.push({key:{status:"valid",value:m},value:{status:"valid",value:s.data[m]}});else if(p==="strict")c.length>0&&(q(s,{code:M.unrecognized_keys,keys:c}),n.dirty());else if(p!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{let p=this._def.catchall;for(let m of c){let b=s.data[m];u.push({key:{status:"valid",value:m},value:p._parse(new rr(s,b,s.path,m)),alwaysSet:m in s.data})}}return s.common.async?Promise.resolve().then(async()=>{let p=[];for(let m of u){let b=await m.key,x=await m.value;p.push({key:b,value:x,alwaysSet:m.alwaysSet})}return p}).then(p=>vt.mergeObjectSync(n,p)):vt.mergeObjectSync(n,u)}get shape(){return this._def.shape()}strict(e){return J.errToObj,new r({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(t,n)=>{let s=this._def.errorMap?.(t,n).message??n.defaultError;return t.code==="unrecognized_keys"?{message:J.errToObj(e).message??s}:{message:s}}}:{}})}strip(){return new r({...this._def,unknownKeys:"strip"})}passthrough(){return new r({...this._def,unknownKeys:"passthrough"})}extend(e){return new r({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new r({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:oe.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new r({...this._def,catchall:e})}pick(e){let t={};for(let n of _e.objectKeys(e))e[n]&&this.shape[n]&&(t[n]=this.shape[n]);return new r({...this._def,shape:()=>t})}omit(e){let t={};for(let n of _e.objectKeys(this.shape))e[n]||(t[n]=this.shape[n]);return new r({...this._def,shape:()=>t})}deepPartial(){return as(this)}partial(e){let t={};for(let n of _e.objectKeys(this.shape)){let s=this.shape[n];e&&!e[n]?t[n]=s:t[n]=s.optional()}return new r({...this._def,shape:()=>t})}required(e){let t={};for(let n of _e.objectKeys(this.shape))if(e&&!e[n])t[n]=this.shape[n];else{let i=this.shape[n];for(;i instanceof tr;)i=i._def.innerType;t[n]=i}return new r({...this._def,shape:()=>t})}keyof(){return Gf(_e.objectKeys(this.shape))}};Wt.create=(r,e)=>new Wt({shape:()=>r,unknownKeys:"strip",catchall:ar.create(),typeName:oe.ZodObject,...de(e)});Wt.strictCreate=(r,e)=>new Wt({shape:()=>r,unknownKeys:"strict",catchall:ar.create(),typeName:oe.ZodObject,...de(e)});Wt.lazycreate=(r,e)=>new Wt({shape:r,unknownKeys:"strip",catchall:ar.create(),typeName:oe.ZodObject,...de(e)});var xn=class extends ge{_parse(e){let{ctx:t}=this._processInputParams(e),n=this._def.options;function s(i){for(let c of i)if(c.result.status==="valid")return c.result;for(let c of i)if(c.result.status==="dirty")return t.common.issues.push(...c.ctx.common.issues),c.result;let o=i.map(c=>new Vt(c.ctx.common.issues));return q(t,{code:M.invalid_union,unionErrors:o}),se}if(t.common.async)return Promise.all(n.map(async i=>{let o={...t,common:{...t.common,issues:[]},parent:null};return{result:await i._parseAsync({data:t.data,path:t.path,parent:o}),ctx:o}})).then(s);{let i,o=[];for(let u of n){let p={...t,common:{...t.common,issues:[]},parent:null},m=u._parseSync({data:t.data,path:t.path,parent:p});if(m.status==="valid")return m;m.status==="dirty"&&!i&&(i={result:m,ctx:p}),p.common.issues.length&&o.push(p.common.issues)}if(i)return t.common.issues.push(...i.ctx.common.issues),i.result;let c=o.map(u=>new Vt(u));return q(t,{code:M.invalid_union,unionErrors:c}),se}}get options(){return this._def.options}};xn.create=(r,e)=>new xn({options:r,typeName:oe.ZodUnion,...de(e)});var Ar=r=>r instanceof In?Ar(r.schema):r instanceof nr?Ar(r.innerType()):r instanceof kn?[r.value]:r instanceof On?r.options:r instanceof Tn?_e.objectValues(r.enum):r instanceof Nn?Ar(r._def.innerType):r instanceof vn?[void 0]:r instanceof Sn?[null]:r instanceof tr?[void 0,...Ar(r.unwrap())]:r instanceof gr?[null,...Ar(r.unwrap())]:r instanceof zs||r instanceof Bn?Ar(r.unwrap()):r instanceof Ln?Ar(r._def.innerType):[],zi=class r extends ge{_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==H.object)return q(t,{code:M.invalid_type,expected:H.object,received:t.parsedType}),se;let n=this.discriminator,s=t.data[n],i=this.optionsMap.get(s);return i?t.common.async?i._parseAsync({data:t.data,path:t.path,parent:t}):i._parseSync({data:t.data,path:t.path,parent:t}):(q(t,{code:M.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),se)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,n){let s=new Map;for(let i of t){let o=Ar(i.shape[e]);if(!o.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(let c of o){if(s.has(c))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(c)}`);s.set(c,i)}}return new r({typeName:oe.ZodDiscriminatedUnion,discriminator:e,options:t,optionsMap:s,...de(n)})}};function Ga(r,e){let t=pr(r),n=pr(e);if(r===e)return{valid:!0,data:r};if(t===H.object&&n===H.object){let s=_e.objectKeys(e),i=_e.objectKeys(r).filter(c=>s.indexOf(c)!==-1),o={...r,...e};for(let c of i){let u=Ga(r[c],e[c]);if(!u.valid)return{valid:!1};o[c]=u.data}return{valid:!0,data:o}}else if(t===H.array&&n===H.array){if(r.length!==e.length)return{valid:!1};let s=[];for(let i=0;i<r.length;i++){let o=r[i],c=e[i],u=Ga(o,c);if(!u.valid)return{valid:!1};s.push(u.data)}return{valid:!0,data:s}}else return t===H.date&&n===H.date&&+r==+e?{valid:!0,data:r}:{valid:!1}}var An=class extends ge{_parse(e){let{status:t,ctx:n}=this._processInputParams(e),s=(i,o)=>{if(Ui(i)||Ui(o))return se;let c=Ga(i.value,o.value);return c.valid?((Di(i)||Di(o))&&t.dirty(),{status:t.value,value:c.data}):(q(n,{code:M.invalid_intersection_types}),se)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([i,o])=>s(i,o)):s(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}};An.create=(r,e,t)=>new An({left:r,right:e,typeName:oe.ZodIntersection,...de(t)});var mr=class r extends ge{_parse(e){let{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==H.array)return q(n,{code:M.invalid_type,expected:H.array,received:n.parsedType}),se;if(n.data.length<this._def.items.length)return q(n,{code:M.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),se;!this._def.rest&&n.data.length>this._def.items.length&&(q(n,{code:M.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());let i=[...n.data].map((o,c)=>{let u=this._def.items[c]||this._def.rest;return u?u._parse(new rr(n,o,n.path,c)):null}).filter(o=>!!o);return n.common.async?Promise.all(i).then(o=>vt.mergeArray(t,o)):vt.mergeArray(t,i)}get items(){return this._def.items}rest(e){return new r({...this._def,rest:e})}};mr.create=(r,e)=>{if(!Array.isArray(r))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new mr({items:r,typeName:oe.ZodTuple,rest:null,...de(e)})};var Fi=class r extends ge{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==H.object)return q(n,{code:M.invalid_type,expected:H.object,received:n.parsedType}),se;let s=[],i=this._def.keyType,o=this._def.valueType;for(let c in n.data)s.push({key:i._parse(new rr(n,c,n.path,c)),value:o._parse(new rr(n,n.data[c],n.path,c)),alwaysSet:c in n.data});return n.common.async?vt.mergeObjectAsync(t,s):vt.mergeObjectSync(t,s)}get element(){return this._def.valueType}static create(e,t,n){return t instanceof ge?new r({keyType:e,valueType:t,typeName:oe.ZodRecord,...de(n)}):new r({keyType:Vr.create(),valueType:e,typeName:oe.ZodRecord,...de(t)})}},fs=class extends ge{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==H.map)return q(n,{code:M.invalid_type,expected:H.map,received:n.parsedType}),se;let s=this._def.keyType,i=this._def.valueType,o=[...n.data.entries()].map(([c,u],p)=>({key:s._parse(new rr(n,c,n.path,[p,"key"])),value:i._parse(new rr(n,u,n.path,[p,"value"]))}));if(n.common.async){let c=new Map;return Promise.resolve().then(async()=>{for(let u of o){let p=await u.key,m=await u.value;if(p.status==="aborted"||m.status==="aborted")return se;(p.status==="dirty"||m.status==="dirty")&&t.dirty(),c.set(p.value,m.value)}return{status:t.value,value:c}})}else{let c=new Map;for(let u of o){let p=u.key,m=u.value;if(p.status==="aborted"||m.status==="aborted")return se;(p.status==="dirty"||m.status==="dirty")&&t.dirty(),c.set(p.value,m.value)}return{status:t.value,value:c}}}};fs.create=(r,e,t)=>new fs({valueType:e,keyType:r,typeName:oe.ZodMap,...de(t)});var ls=class r extends ge{_parse(e){let{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==H.set)return q(n,{code:M.invalid_type,expected:H.set,received:n.parsedType}),se;let s=this._def;s.minSize!==null&&n.data.size<s.minSize.value&&(q(n,{code:M.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),t.dirty()),s.maxSize!==null&&n.data.size>s.maxSize.value&&(q(n,{code:M.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),t.dirty());let i=this._def.valueType;function o(u){let p=new Set;for(let m of u){if(m.status==="aborted")return se;m.status==="dirty"&&t.dirty(),p.add(m.value)}return{status:t.value,value:p}}let c=[...n.data.values()].map((u,p)=>i._parse(new rr(n,u,n.path,p)));return n.common.async?Promise.all(c).then(u=>o(u)):o(c)}min(e,t){return new r({...this._def,minSize:{value:e,message:J.toString(t)}})}max(e,t){return new r({...this._def,maxSize:{value:e,message:J.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}};ls.create=(r,e)=>new ls({valueType:r,minSize:null,maxSize:null,typeName:oe.ZodSet,...de(e)});var $i=class r extends ge{constructor(){super(...arguments),this.validate=this.implement}_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==H.function)return q(t,{code:M.invalid_type,expected:H.function,received:t.parsedType}),se;function n(c,u){return Ds({data:c,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,is(),xr].filter(p=>!!p),issueData:{code:M.invalid_arguments,argumentsError:u}})}function s(c,u){return Ds({data:c,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,is(),xr].filter(p=>!!p),issueData:{code:M.invalid_return_type,returnTypeError:u}})}let i={errorMap:t.common.contextualErrorMap},o=t.data;if(this._def.returns instanceof qr){let c=this;return Ot(async function(...u){let p=new Vt([]),m=await c._def.args.parseAsync(u,i).catch(S=>{throw p.addIssue(n(u,S)),p}),b=await Reflect.apply(o,this,m);return await c._def.returns._def.type.parseAsync(b,i).catch(S=>{throw p.addIssue(s(b,S)),p})})}else{let c=this;return Ot(function(...u){let p=c._def.args.safeParse(u,i);if(!p.success)throw new Vt([n(u,p.error)]);let m=Reflect.apply(o,this,p.data),b=c._def.returns.safeParse(m,i);if(!b.success)throw new Vt([s(m,b.error)]);return b.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new r({...this._def,args:mr.create(e).rest(Ir.create())})}returns(e){return new r({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,t,n){return new r({args:e||mr.create([]).rest(Ir.create()),returns:t||Ir.create(),typeName:oe.ZodFunction,...de(n)})}},In=class extends ge{get schema(){return this._def.getter()}_parse(e){let{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}};In.create=(r,e)=>new In({getter:r,typeName:oe.ZodLazy,...de(e)});var kn=class extends ge{_parse(e){if(e.data!==this._def.value){let t=this._getOrReturnCtx(e);return q(t,{received:t.data,code:M.invalid_literal,expected:this._def.value}),se}return{status:"valid",value:e.data}}get value(){return this._def.value}};kn.create=(r,e)=>new kn({value:r,typeName:oe.ZodLiteral,...de(e)});function Gf(r,e){return new On({values:r,typeName:oe.ZodEnum,...de(e)})}var On=class r extends ge{_parse(e){if(typeof e.data!="string"){let t=this._getOrReturnCtx(e),n=this._def.values;return q(t,{expected:_e.joinValues(n),received:t.parsedType,code:M.invalid_type}),se}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){let t=this._getOrReturnCtx(e),n=this._def.values;return q(t,{received:t.data,code:M.invalid_enum_value,options:n}),se}return Ot(e.data)}get options(){return this._def.values}get enum(){let e={};for(let t of this._def.values)e[t]=t;return e}get Values(){let e={};for(let t of this._def.values)e[t]=t;return e}get Enum(){let e={};for(let t of this._def.values)e[t]=t;return e}extract(e,t=this._def){return r.create(e,{...this._def,...t})}exclude(e,t=this._def){return r.create(this.options.filter(n=>!e.includes(n)),{...this._def,...t})}};On.create=Gf;var Tn=class extends ge{_parse(e){let t=_e.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==H.string&&n.parsedType!==H.number){let s=_e.objectValues(t);return q(n,{expected:_e.joinValues(s),received:n.parsedType,code:M.invalid_type}),se}if(this._cache||(this._cache=new Set(_e.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){let s=_e.objectValues(t);return q(n,{received:n.data,code:M.invalid_enum_value,options:s}),se}return Ot(e.data)}get enum(){return this._def.values}};Tn.create=(r,e)=>new Tn({values:r,typeName:oe.ZodNativeEnum,...de(e)});var qr=class extends ge{unwrap(){return this._def.type}_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==H.promise&&t.common.async===!1)return q(t,{code:M.invalid_type,expected:H.promise,received:t.parsedType}),se;let n=t.parsedType===H.promise?t.data:Promise.resolve(t.data);return Ot(n.then(s=>this._def.type.parseAsync(s,{path:t.path,errorMap:t.common.contextualErrorMap})))}};qr.create=(r,e)=>new qr({type:r,typeName:oe.ZodPromise,...de(e)});var nr=class extends ge{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===oe.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){let{status:t,ctx:n}=this._processInputParams(e),s=this._def.effect||null,i={addIssue:o=>{q(n,o),o.fatal?t.abort():t.dirty()},get path(){return n.path}};if(i.addIssue=i.addIssue.bind(i),s.type==="preprocess"){let o=s.transform(n.data,i);if(n.common.async)return Promise.resolve(o).then(async c=>{if(t.value==="aborted")return se;let u=await this._def.schema._parseAsync({data:c,path:n.path,parent:n});return u.status==="aborted"?se:u.status==="dirty"?_n(u.value):t.value==="dirty"?_n(u.value):u});{if(t.value==="aborted")return se;let c=this._def.schema._parseSync({data:o,path:n.path,parent:n});return c.status==="aborted"?se:c.status==="dirty"?_n(c.value):t.value==="dirty"?_n(c.value):c}}if(s.type==="refinement"){let o=c=>{let u=s.refinement(c,i);if(n.common.async)return Promise.resolve(u);if(u instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return c};if(n.common.async===!1){let c=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return c.status==="aborted"?se:(c.status==="dirty"&&t.dirty(),o(c.value),{status:t.value,value:c.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(c=>c.status==="aborted"?se:(c.status==="dirty"&&t.dirty(),o(c.value).then(()=>({status:t.value,value:c.value}))))}if(s.type==="transform")if(n.common.async===!1){let o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!$r(o))return se;let c=s.transform(o.value,i);if(c instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:c}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>$r(o)?Promise.resolve(s.transform(o.value,i)).then(c=>({status:t.value,value:c})):se);_e.assertNever(s)}};nr.create=(r,e,t)=>new nr({schema:r,typeName:oe.ZodEffects,effect:e,...de(t)});nr.createWithPreprocess=(r,e,t)=>new nr({schema:e,effect:{type:"preprocess",transform:r},typeName:oe.ZodEffects,...de(t)});var tr=class extends ge{_parse(e){return this._getType(e)===H.undefined?Ot(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}};tr.create=(r,e)=>new tr({innerType:r,typeName:oe.ZodOptional,...de(e)});var gr=class extends ge{_parse(e){return this._getType(e)===H.null?Ot(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}};gr.create=(r,e)=>new gr({innerType:r,typeName:oe.ZodNullable,...de(e)});var Nn=class extends ge{_parse(e){let{ctx:t}=this._processInputParams(e),n=t.data;return t.parsedType===H.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:t.path,parent:t})}removeDefault(){return this._def.innerType}};Nn.create=(r,e)=>new Nn({innerType:r,typeName:oe.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...de(e)});var Ln=class extends ge{_parse(e){let{ctx:t}=this._processInputParams(e),n={...t,common:{...t.common,issues:[]}},s=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return os(s)?s.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Vt(n.common.issues)},input:n.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Vt(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}};Ln.create=(r,e)=>new Ln({innerType:r,typeName:oe.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...de(e)});var ds=class extends ge{_parse(e){if(this._getType(e)!==H.nan){let n=this._getOrReturnCtx(e);return q(n,{code:M.invalid_type,expected:H.nan,received:n.parsedType}),se}return{status:"valid",value:e.data}}};ds.create=r=>new ds({typeName:oe.ZodNaN,...de(r)});var I0=Symbol("zod_brand"),zs=class extends ge{_parse(e){let{ctx:t}=this._processInputParams(e),n=t.data;return this._def.type._parse({data:n,path:t.path,parent:t})}unwrap(){return this._def.type}},Fs=class r extends ge{_parse(e){let{status:t,ctx:n}=this._processInputParams(e);if(n.common.async)return(async()=>{let i=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?se:i.status==="dirty"?(t.dirty(),_n(i.value)):this._def.out._parseAsync({data:i.value,path:n.path,parent:n})})();{let s=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?se:s.status==="dirty"?(t.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:n.path,parent:n})}}static create(e,t){return new r({in:e,out:t,typeName:oe.ZodPipeline})}},Bn=class extends ge{_parse(e){let t=this._def.innerType._parse(e),n=s=>($r(s)&&(s.value=Object.freeze(s.value)),s);return os(t)?t.then(s=>n(s)):n(t)}unwrap(){return this._def.innerType}};Bn.create=(r,e)=>new Bn({innerType:r,typeName:oe.ZodReadonly,...de(e)});function qf(r,e){let t=typeof r=="function"?r(e):typeof r=="string"?{message:r}:r;return typeof t=="string"?{message:t}:t}function Zf(r,e={},t){return r?Wr.create().superRefine((n,s)=>{let i=r(n);if(i instanceof Promise)return i.then(o=>{if(!o){let c=qf(e,n),u=c.fatal??t??!0;s.addIssue({code:"custom",...c,fatal:u})}});if(!i){let o=qf(e,n),c=o.fatal??t??!0;s.addIssue({code:"custom",...o,fatal:c})}}):Wr.create()}var k0={object:Wt.lazycreate},oe;(function(r){r.ZodString="ZodString",r.ZodNumber="ZodNumber",r.ZodNaN="ZodNaN",r.ZodBigInt="ZodBigInt",r.ZodBoolean="ZodBoolean",r.ZodDate="ZodDate",r.ZodSymbol="ZodSymbol",r.ZodUndefined="ZodUndefined",r.ZodNull="ZodNull",r.ZodAny="ZodAny",r.ZodUnknown="ZodUnknown",r.ZodNever="ZodNever",r.ZodVoid="ZodVoid",r.ZodArray="ZodArray",r.ZodObject="ZodObject",r.ZodUnion="ZodUnion",r.ZodDiscriminatedUnion="ZodDiscriminatedUnion",r.ZodIntersection="ZodIntersection",r.ZodTuple="ZodTuple",r.ZodRecord="ZodRecord",r.ZodMap="ZodMap",r.ZodSet="ZodSet",r.ZodFunction="ZodFunction",r.ZodLazy="ZodLazy",r.ZodLiteral="ZodLiteral",r.ZodEnum="ZodEnum",r.ZodEffects="ZodEffects",r.ZodNativeEnum="ZodNativeEnum",r.ZodOptional="ZodOptional",r.ZodNullable="ZodNullable",r.ZodDefault="ZodDefault",r.ZodCatch="ZodCatch",r.ZodPromise="ZodPromise",r.ZodBranded="ZodBranded",r.ZodPipeline="ZodPipeline",r.ZodReadonly="ZodReadonly"})(oe||(oe={}));var O0=(r,e={message:`Input not instance of ${r.name}`})=>Zf(t=>t instanceof r,e),Yf=Vr.create,Jf=bn.create,T0=ds.create,N0=wn.create,Xf=En.create,L0=Rn.create,B0=cs.create,C0=vn.create,P0=Sn.create,M0=Wr.create,U0=Ir.create,D0=ar.create,z0=us.create,F0=kr.create,$0=Wt.create,V0=Wt.strictCreate,W0=xn.create,q0=zi.create,j0=An.create,K0=mr.create,H0=Fi.create,G0=fs.create,Z0=ls.create,Y0=$i.create,J0=In.create,X0=kn.create,Q0=On.create,em=Tn.create,tm=qr.create,rm=nr.create,nm=tr.create,sm=gr.create,im=nr.createWithPreprocess,om=Fs.create,am=()=>Yf().optional(),cm=()=>Jf().optional(),um=()=>Xf().optional(),fm={string:r=>Vr.create({...r,coerce:!0}),number:r=>bn.create({...r,coerce:!0}),boolean:r=>En.create({...r,coerce:!0}),bigint:r=>wn.create({...r,coerce:!0}),date:r=>Rn.create({...r,coerce:!0})};var lm=se;var dm=/[@#$%^&*+=/\\|~]/,hm=/(!{2,}|\?{2,}|-{2,})/,pm=/[\u{1F300}-\u{1F9FF}]|[\u{2702}-\u{27B0}]|[\u{2600}-\u{26FF}]|[\u{2B00}-\u{2BFF}]/u,jr=({max:r,noSpaces:e}={})=>(e?V.string().max(r??Number.POSITIVE_INFINITY).regex(/^\S*$/,"Spaces are not allowed"):V.string().max(r??Number.POSITIVE_INFINITY)).refine(n=>!pm.test(n),{message:"Emojis and symbols are not allowed"}).refine(n=>!dm.test(n),{message:"Special characters (@, #, $, %, ^, &, *, +, =, /, \\, |, ~, \xAB, \xBB) are not allowed"}).refine(n=>!hm.test(n),{message:"Repeated punctuations (!!, ??, --) are not allowed"}),_t=V.string().url().startsWith("https://",{message:"Must be an https url"}).max(1024).refine(r=>!r.includes(" "),{message:"URL must not contain spaces"}).refine(r=>{try{let e=new URL(r).hostname;return!(e==="localhost"||e.endsWith(".localhost")||/^(\d{1,3}\.){3}\d{1,3}$/.test(e)||e.startsWith("[")&&e.endsWith("]"))}catch{return!1}},{message:"URL must not use IP addresses or localhost"}),hs=V.string().max(32),$s=V.string().max(32),mm=/^[-a-z0-9]{3,8}:[-_a-zA-Z0-9]{1,32}\/(?:[-a-z0-9]{3,8}:[-.%a-zA-Z0-9]{1,128}(?:\/[-.%a-zA-Z0-9]{1,78})?|native)$/,Za=V.string().regex(mm,{message:"Invalid CAIP-19 asset ID"}),ps=V.string().regex(/^#([0-9A-F]{3}|[0-9A-F]{6})$/i,{message:"Invalid hex color code. It should be in the format #RRGGBB or #RGB."}),gm=/^(?!.*\.\.)([a-zA-Z0-9]([a-zA-Z0-9-]*[a-zA-Z0-9])?\.)+[a-zA-Z]{2,}$/,Ya=V.string().max(1024).regex(gm,{message:"Must be a valid domain name (e.g., example.com, sub.example.com)"}).refine(r=>!r.includes("://"),{message:"Domain must not include protocol (http://, https://, etc.)"}).refine(r=>!r.includes("/"),{message:"Domain must not include path separators"}).refine(r=>!r.includes("@"),{message:"Domain must not include @ symbol"}).refine(r=>!r.includes(":"),{message:"Domain must not include port numbers"}),Ja=V.union([V.literal("1:1"),V.literal("3:2")]),Xa=V.object({header:V.string(),payload:V.string(),signature:V.string()}),ym=V.object({fid:V.number(),type:V.literal("app_key"),key:V.string().startsWith("0x")});var Qf=V.object({type:V.literal("launch_frame"),name:hs,url:_t.optional(),splashImageUrl:_t.optional(),splashBackgroundColor:ps.optional()}),el=V.object({type:V.literal("launch_miniapp"),name:hs,url:_t.optional(),splashImageUrl:_t.optional(),splashBackgroundColor:ps.optional()}),tl=V.object({type:V.literal("view_token"),token:Za}),rl=V.discriminatedUnion("type",[el,tl,Qf]),nl=V.object({title:$s,action:rl}),sl=V.object({version:V.union([V.string(),V.number()]).transform(r=>String(r)).pipe(V.union([V.literal("next"),V.literal("1")])),imageUrl:_t,aspectRatio:Ja.optional(),button:nl}),il=r=>sl.safeParse(r),_m=il;var Vi=V.object({url:V.string(),token:V.string()}),bm=V.object({notificationId:V.string().max(128),title:V.string().max(32),body:V.string().max(128),targetUrl:_t,tokens:V.string().array().max(100)}),wm=V.object({result:V.object({successfulTokens:V.array(V.string()),invalidTokens:V.array(V.string()),rateLimitedTokens:V.array(V.string())})});var ol=V.object({event:V.literal("miniapp_added"),notificationDetails:Vi.optional()}),al=V.object({event:V.literal("miniapp_removed")}),cl=V.object({event:V.literal("notifications_enabled"),notificationDetails:Vi.required()}),ul=V.object({event:V.literal("notifications_disabled")}),Em=V.discriminatedUnion("event",[ol,al,cl,ul]);var fl={};var Qa=["wallet.getEthereumProvider","wallet.getSolanaProvider","actions.ready","actions.openUrl","actions.close","actions.setPrimaryButton","actions.addMiniApp","actions.signIn","actions.viewCast","actions.viewProfile","actions.composeCast","actions.viewToken","actions.sendToken","actions.swapToken","actions.openMiniApp","actions.requestCameraAndMicrophoneAccess","experimental.signManifest","haptics.impactOccurred","haptics.notificationOccurred","haptics.selectionChanged","back"];var ll=["games","social","finance","utility","productivity","health-fitness","news-media","music","shopping","education","developer-tools","entertainment","art-creativity"],dl=V.enum(ll),hl=V.union([V.literal("0.0.0"),V.literal("0.0.1"),V.literal("1"),V.literal("next")]),pl=jr({max:30}),ml=jr({max:170}),gl=V.array(_t).max(3),yl=V.array(jr({max:20,noSpaces:!0})).max(5),_l=jr({max:30}),bl=jr({max:30}),wl=jr({max:100}),El=V.boolean(),Rl=["eip155:1","eip155:8453","eip155:42161","eip155:421614","eip155:84532","eip155:666666666","eip155:100","eip155:10","eip155:11155420","eip155:137","eip155:11155111","eip155:7777777","eip155:130","eip155:10143","eip155:42220","solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp"];function vl(r){let e=new Set(r);return Array.from(e)}var Sl=V.array(V.enum(Rl)).transform(vl),xl=V.array(V.enum(Qa)).transform(vl),ec=V.object({version:hl,name:hs,iconUrl:_t,homeUrl:_t,imageUrl:_t.optional(),buttonTitle:$s.optional(),splashImageUrl:_t.optional(),splashBackgroundColor:ps.optional(),webhookUrl:_t.optional(),subtitle:pl.optional(),description:ml.optional(),screenshotUrls:gl.optional(),primaryCategory:dl.optional(),tags:yl.optional(),heroImageUrl:_t.optional(),tagline:_l.optional(),ogTitle:bl.optional(),ogDescription:wl.optional(),ogImageUrl:_t.optional(),noindex:El.optional(),requiredChains:Sl.optional(),requiredCapabilities:xl.optional(),castShareUrl:_t.optional(),canonicalDomain:Ya.optional()}).refine(r=>{if(r.castShareUrl===void 0)return!0;try{let e=new URL(r.homeUrl).hostname,t=new URL(r.castShareUrl).hostname;return e===t}catch{return!1}},{message:"castShareUrl must have the same domain as homeUrl",path:["castShareUrl"]}),Rm=V.object({accountAssociation:Xa,miniapp:ec.optional(),frame:ec.optional()}).refine(r=>r.frame&&r.miniapp?JSON.stringify(r.frame)===JSON.stringify(r.miniapp):!0,{message:'If both "frame" and "miniapp" are provided, they must be identical',path:["frame","miniapp"]}).transform(r=>({...r,frame:r.frame??r.miniapp}));var ce=Sr(Ws());function qs(r){if(!Number.isSafeInteger(r)||r<0)throw new Error("positive integer expected, got "+r)}function tg(r){return r instanceof Uint8Array||ArrayBuffer.isView(r)&&r.constructor.name==="Uint8Array"}function Hr(r,...e){if(!tg(r))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(r.length))throw new Error("Uint8Array expected of length "+e+", got length="+r.length)}function Kl(r){if(typeof r!="function"||typeof r.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");qs(r.outputLen),qs(r.blockLen)}function Tr(r,e=!0){if(r.destroyed)throw new Error("Hash instance has been destroyed");if(e&&r.finished)throw new Error("Hash#digest() has already been called")}function Ki(r,e){Hr(r);let t=e.outputLen;if(r.length<t)throw new Error("digestInto() expects output buffer of length at least "+t)}var Mn=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;function Hl(r){return new Uint32Array(r.buffer,r.byteOffset,Math.floor(r.byteLength/4))}function Hi(r){return new DataView(r.buffer,r.byteOffset,r.byteLength)}function cr(r,e){return r<<32-e|r>>>e}var lc=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function rg(r){return r<<24&4278190080|r<<8&16711680|r>>>8&65280|r>>>24&255}function dc(r){for(let e=0;e<r.length;e++)r[e]=rg(r[e])}function Gl(r){if(typeof r!="string")throw new Error("utf8ToBytes expected string, got "+typeof r);return new Uint8Array(new TextEncoder().encode(r))}function Zr(r){return typeof r=="string"&&(r=Gl(r)),Hr(r),r}function hc(...r){let e=0;for(let n=0;n<r.length;n++){let s=r[n];Hr(s),e+=s.length}let t=new Uint8Array(e);for(let n=0,s=0;n<r.length;n++){let i=r[n];t.set(i,s),s+=i.length}return t}var Gr=class{clone(){return this._cloneInto()}};function bs(r){let e=n=>r().update(Zr(n)).digest(),t=r();return e.outputLen=t.outputLen,e.blockLen=t.blockLen,e.create=()=>r(),e}function Zl(r){let e=(n,s)=>r(s).update(Zr(n)).digest(),t=r({});return e.outputLen=t.outputLen,e.blockLen=t.blockLen,e.create=n=>r(n),e}function Gi(r=32){if(Mn&&typeof Mn.getRandomValues=="function")return Mn.getRandomValues(new Uint8Array(r));if(Mn&&typeof Mn.randomBytes=="function")return Mn.randomBytes(r);throw new Error("crypto.getRandomValues must be defined")}function ng(r,e,t,n){if(typeof r.setBigUint64=="function")return r.setBigUint64(e,t,n);let s=BigInt(32),i=BigInt(4294967295),o=Number(t>>s&i),c=Number(t&i),u=n?4:0,p=n?0:4;r.setUint32(e+u,o,n),r.setUint32(e+p,c,n)}function Yl(r,e,t){return r&e^~r&t}function Jl(r,e,t){return r&e^r&t^e&t}var ws=class extends Gr{constructor(e,t,n,s){super(),this.blockLen=e,this.outputLen=t,this.padOffset=n,this.isLE=s,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=Hi(this.buffer)}update(e){Tr(this);let{view:t,buffer:n,blockLen:s}=this;e=Zr(e);let i=e.length;for(let o=0;o<i;){let c=Math.min(s-this.pos,i-o);if(c===s){let u=Hi(e);for(;s<=i-o;o+=s)this.process(u,o);continue}n.set(e.subarray(o,o+c),this.pos),this.pos+=c,o+=c,this.pos===s&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Tr(this),Ki(e,this),this.finished=!0;let{buffer:t,view:n,blockLen:s,isLE:i}=this,{pos:o}=this;t[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>s-o&&(this.process(n,0),o=0);for(let b=o;b<s;b++)t[b]=0;ng(n,s-8,BigInt(this.length*8),i),this.process(n,0);let c=Hi(e),u=this.outputLen;if(u%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let p=u/4,m=this.get();if(p>m.length)throw new Error("_sha2: outputLen bigger than state");for(let b=0;b<p;b++)c.setUint32(4*b,m[b],i)}digest(){let{buffer:e,outputLen:t}=this;this.digestInto(e);let n=e.slice(0,t);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:t,buffer:n,length:s,finished:i,destroyed:o,pos:c}=this;return e.length=s,e.pos=c,e.finished=i,e.destroyed=o,s%t&&e.buffer.set(n),e}};var Zi=BigInt(4294967295),pc=BigInt(32);function Xl(r,e=!1){return e?{h:Number(r&Zi),l:Number(r>>pc&Zi)}:{h:Number(r>>pc&Zi)|0,l:Number(r&Zi)|0}}function mc(r,e=!1){let t=new Uint32Array(r.length),n=new Uint32Array(r.length);for(let s=0;s<r.length;s++){let{h:i,l:o}=Xl(r[s],e);[t[s],n[s]]=[i,o]}return[t,n]}var sg=(r,e)=>BigInt(r>>>0)<<pc|BigInt(e>>>0),ig=(r,e,t)=>r>>>t,og=(r,e,t)=>r<<32-t|e>>>t,ag=(r,e,t)=>r>>>t|e<<32-t,cg=(r,e,t)=>r<<32-t|e>>>t,ug=(r,e,t)=>r<<64-t|e>>>t-32,fg=(r,e,t)=>r>>>t-32|e<<64-t,lg=(r,e)=>e,dg=(r,e)=>r,gc=(r,e,t)=>r<<t|e>>>32-t,yc=(r,e,t)=>e<<t|r>>>32-t,_c=(r,e,t)=>e<<t-32|r>>>64-t,bc=(r,e,t)=>r<<t-32|e>>>64-t;function hg(r,e,t,n){let s=(e>>>0)+(n>>>0);return{h:r+t+(s/2**32|0)|0,l:s|0}}var pg=(r,e,t)=>(r>>>0)+(e>>>0)+(t>>>0),mg=(r,e,t,n)=>e+t+n+(r/2**32|0)|0,gg=(r,e,t,n)=>(r>>>0)+(e>>>0)+(t>>>0)+(n>>>0),yg=(r,e,t,n,s)=>e+t+n+s+(r/2**32|0)|0,_g=(r,e,t,n,s)=>(r>>>0)+(e>>>0)+(t>>>0)+(n>>>0)+(s>>>0),bg=(r,e,t,n,s,i)=>e+t+n+s+i+(r/2**32|0)|0;var wg={fromBig:Xl,split:mc,toBig:sg,shrSH:ig,shrSL:og,rotrSH:ag,rotrSL:cg,rotrBH:ug,rotrBL:fg,rotr32H:lg,rotr32L:dg,rotlSH:gc,rotlSL:yc,rotlBH:_c,rotlBL:bc,add:hg,add3L:pg,add3H:mg,add4L:gg,add4H:yg,add5H:bg,add5L:_g},pe=wg;var[Eg,Rg]=pe.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(r=>BigInt(r))),Yr=new Uint32Array(80),Jr=new Uint32Array(80),wc=class extends ws{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){let{Ah:e,Al:t,Bh:n,Bl:s,Ch:i,Cl:o,Dh:c,Dl:u,Eh:p,El:m,Fh:b,Fl:x,Gh:S,Gl:T,Hh:I,Hl:A}=this;return[e,t,n,s,i,o,c,u,p,m,b,x,S,T,I,A]}set(e,t,n,s,i,o,c,u,p,m,b,x,S,T,I,A){this.Ah=e|0,this.Al=t|0,this.Bh=n|0,this.Bl=s|0,this.Ch=i|0,this.Cl=o|0,this.Dh=c|0,this.Dl=u|0,this.Eh=p|0,this.El=m|0,this.Fh=b|0,this.Fl=x|0,this.Gh=S|0,this.Gl=T|0,this.Hh=I|0,this.Hl=A|0}process(e,t){for(let B=0;B<16;B++,t+=4)Yr[B]=e.getUint32(t),Jr[B]=e.getUint32(t+=4);for(let B=16;B<80;B++){let F=Yr[B-15]|0,te=Jr[B-15]|0,G=pe.rotrSH(F,te,1)^pe.rotrSH(F,te,8)^pe.shrSH(F,te,7),Z=pe.rotrSL(F,te,1)^pe.rotrSL(F,te,8)^pe.shrSL(F,te,7),ee=Yr[B-2]|0,Y=Jr[B-2]|0,Ie=pe.rotrSH(ee,Y,19)^pe.rotrBH(ee,Y,61)^pe.shrSH(ee,Y,6),re=pe.rotrSL(ee,Y,19)^pe.rotrBL(ee,Y,61)^pe.shrSL(ee,Y,6),le=pe.add4L(Z,re,Jr[B-7],Jr[B-16]),E=pe.add4H(le,G,Ie,Yr[B-7],Yr[B-16]);Yr[B]=E|0,Jr[B]=le|0}let{Ah:n,Al:s,Bh:i,Bl:o,Ch:c,Cl:u,Dh:p,Dl:m,Eh:b,El:x,Fh:S,Fl:T,Gh:I,Gl:A,Hh:L,Hl:U}=this;for(let B=0;B<80;B++){let F=pe.rotrSH(b,x,14)^pe.rotrSH(b,x,18)^pe.rotrBH(b,x,41),te=pe.rotrSL(b,x,14)^pe.rotrSL(b,x,18)^pe.rotrBL(b,x,41),G=b&S^~b&I,Z=x&T^~x&A,ee=pe.add5L(U,te,Z,Rg[B],Jr[B]),Y=pe.add5H(ee,L,F,G,Eg[B],Yr[B]),Ie=ee|0,re=pe.rotrSH(n,s,28)^pe.rotrBH(n,s,34)^pe.rotrBH(n,s,39),le=pe.rotrSL(n,s,28)^pe.rotrBL(n,s,34)^pe.rotrBL(n,s,39),E=n&i^n&c^i&c,a=s&o^s&u^o&u;L=I|0,U=A|0,I=S|0,A=T|0,S=b|0,T=x|0,{h:b,l:x}=pe.add(p|0,m|0,Y|0,Ie|0),p=c|0,m=u|0,c=i|0,u=o|0,i=n|0,o=s|0;let l=pe.add3L(Ie,le,a);n=pe.add3H(l,Y,re,E),s=l|0}({h:n,l:s}=pe.add(this.Ah|0,this.Al|0,n|0,s|0)),{h:i,l:o}=pe.add(this.Bh|0,this.Bl|0,i|0,o|0),{h:c,l:u}=pe.add(this.Ch|0,this.Cl|0,c|0,u|0),{h:p,l:m}=pe.add(this.Dh|0,this.Dl|0,p|0,m|0),{h:b,l:x}=pe.add(this.Eh|0,this.El|0,b|0,x|0),{h:S,l:T}=pe.add(this.Fh|0,this.Fl|0,S|0,T|0),{h:I,l:A}=pe.add(this.Gh|0,this.Gl|0,I|0,A|0),{h:L,l:U}=pe.add(this.Hh|0,this.Hl|0,L|0,U|0),this.set(n,s,i,o,c,u,p,m,b,x,S,T,I,A,L,U)}roundClean(){Yr.fill(0),Jr.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};var Ql=bs(()=>new wc);var Xi={};Qt(Xi,{aInRange:()=>jt,abool:()=>ur,abytes:()=>Es,bitGet:()=>kg,bitLen:()=>Sc,bitMask:()=>Ks,bitSet:()=>Og,bytesToHex:()=>Lr,bytesToNumberBE:()=>Br,bytesToNumberLE:()=>Qr,concatBytes:()=>Cr,createHmacDrbg:()=>xc,ensureBytes:()=>We,equalBytes:()=>Ag,hexToBytes:()=>Dn,hexToNumber:()=>vc,inRange:()=>js,isBytes:()=>Xr,memoized:()=>Fn,notImplemented:()=>Ng,numberToBytesBE:()=>en,numberToBytesLE:()=>zn,numberToHexUnpadded:()=>Un,numberToVarBytesBE:()=>xg,utf8ToBytes:()=>Ig,validateObject:()=>br});var Yi=BigInt(0),Ji=BigInt(1),vg=BigInt(2);function Xr(r){return r instanceof Uint8Array||ArrayBuffer.isView(r)&&r.constructor.name==="Uint8Array"}function Es(r){if(!Xr(r))throw new Error("Uint8Array expected")}function ur(r,e){if(typeof e!="boolean")throw new Error(r+" boolean expected, got "+e)}var Sg=Array.from({length:256},(r,e)=>e.toString(16).padStart(2,"0"));function Lr(r){Es(r);let e="";for(let t=0;t<r.length;t++)e+=Sg[r[t]];return e}function Un(r){let e=r.toString(16);return e.length&1?"0"+e:e}function vc(r){if(typeof r!="string")throw new Error("hex string expected, got "+typeof r);return r===""?Yi:BigInt("0x"+r)}var Nr={_0:48,_9:57,A:65,F:70,a:97,f:102};function ed(r){if(r>=Nr._0&&r<=Nr._9)return r-Nr._0;if(r>=Nr.A&&r<=Nr.F)return r-(Nr.A-10);if(r>=Nr.a&&r<=Nr.f)return r-(Nr.a-10)}function Dn(r){if(typeof r!="string")throw new Error("hex string expected, got "+typeof r);let e=r.length,t=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);let n=new Uint8Array(t);for(let s=0,i=0;s<t;s++,i+=2){let o=ed(r.charCodeAt(i)),c=ed(r.charCodeAt(i+1));if(o===void 0||c===void 0){let u=r[i]+r[i+1];throw new Error('hex string expected, got non-hex character "'+u+'" at index '+i)}n[s]=o*16+c}return n}function Br(r){return vc(Lr(r))}function Qr(r){return Es(r),vc(Lr(Uint8Array.from(r).reverse()))}function en(r,e){return Dn(r.toString(16).padStart(e*2,"0"))}function zn(r,e){return en(r,e).reverse()}function xg(r){return Dn(Un(r))}function We(r,e,t){let n;if(typeof e=="string")try{n=Dn(e)}catch(i){throw new Error(r+" must be hex string or Uint8Array, cause: "+i)}else if(Xr(e))n=Uint8Array.from(e);else throw new Error(r+" must be hex string or Uint8Array");let s=n.length;if(typeof t=="number"&&s!==t)throw new Error(r+" of length "+t+" expected, got "+s);return n}function Cr(...r){let e=0;for(let n=0;n<r.length;n++){let s=r[n];Es(s),e+=s.length}let t=new Uint8Array(e);for(let n=0,s=0;n<r.length;n++){let i=r[n];t.set(i,s),s+=i.length}return t}function Ag(r,e){if(r.length!==e.length)return!1;let t=0;for(let n=0;n<r.length;n++)t|=r[n]^e[n];return t===0}function Ig(r){if(typeof r!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(r))}var Ec=r=>typeof r=="bigint"&&Yi<=r;function js(r,e,t){return Ec(r)&&Ec(e)&&Ec(t)&&e<=r&&r<t}function jt(r,e,t,n){if(!js(e,t,n))throw new Error("expected valid "+r+": "+t+" <= n < "+n+", got "+e)}function Sc(r){let e;for(e=0;r>Yi;r>>=Ji,e+=1);return e}function kg(r,e){return r>>BigInt(e)&Ji}function Og(r,e,t){return r|(t?Ji:Yi)<<BigInt(e)}var Ks=r=>(vg<<BigInt(r-1))-Ji,Rc=r=>new Uint8Array(r),td=r=>Uint8Array.from(r);function xc(r,e,t){if(typeof r!="number"||r<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof t!="function")throw new Error("hmacFn must be a function");let n=Rc(r),s=Rc(r),i=0,o=()=>{n.fill(1),s.fill(0),i=0},c=(...b)=>t(s,n,...b),u=(b=Rc())=>{s=c(td([0]),b),n=c(),b.length!==0&&(s=c(td([1]),b),n=c())},p=()=>{if(i++>=1e3)throw new Error("drbg: tried 1000 values");let b=0,x=[];for(;b<e;){n=c();let S=n.slice();x.push(S),b+=n.length}return Cr(...x)};return(b,x)=>{o(),u(b);let S;for(;!(S=x(p()));)u();return o(),S}}var Tg={bigint:r=>typeof r=="bigint",function:r=>typeof r=="function",boolean:r=>typeof r=="boolean",string:r=>typeof r=="string",stringOrUint8Array:r=>typeof r=="string"||Xr(r),isSafeInteger:r=>Number.isSafeInteger(r),array:r=>Array.isArray(r),field:(r,e)=>e.Fp.isValid(r),hash:r=>typeof r=="function"&&Number.isSafeInteger(r.outputLen)};function br(r,e,t={}){let n=(s,i,o)=>{let c=Tg[i];if(typeof c!="function")throw new Error("invalid validator function");let u=r[s];if(!(o&&u===void 0)&&!c(u,r))throw new Error("param "+String(s)+" is invalid. Expected "+i+", got "+u)};for(let[s,i]of Object.entries(e))n(s,i,!1);for(let[s,i]of Object.entries(t))n(s,i,!0);return r}var Ng=()=>{throw new Error("not implemented")};function Fn(r){let e=new WeakMap;return(t,...n)=>{let s=e.get(t);if(s!==void 0)return s;let i=r(t,...n);return e.set(t,i),i}}var bt=BigInt(0),Ce=BigInt(1),$n=BigInt(2),Lg=BigInt(3),Ac=BigInt(4),rd=BigInt(5),nd=BigInt(8),Bg=BigInt(9),Cg=BigInt(16);function ke(r,e){let t=r%e;return t>=bt?t:e+t}function Pg(r,e,t){if(e<bt)throw new Error("invalid exponent, negatives unsupported");if(t<=bt)throw new Error("invalid modulus");if(t===Ce)return bt;let n=Ce;for(;e>bt;)e&Ce&&(n=n*r%t),r=r*r%t,e>>=Ce;return n}function Pe(r,e,t){let n=r;for(;e-- >bt;)n*=n,n%=t;return n}function Qi(r,e){if(r===bt)throw new Error("invert: expected non-zero number");if(e<=bt)throw new Error("invert: expected positive modulus, got "+e);let t=ke(r,e),n=e,s=bt,i=Ce,o=Ce,c=bt;for(;t!==bt;){let p=n/t,m=n%t,b=s-o*p,x=i-c*p;n=t,t=m,s=o,i=c,o=b,c=x}if(n!==Ce)throw new Error("invert: does not exist");return ke(s,e)}function Mg(r){let e=(r-Ce)/$n,t,n,s;for(t=r-Ce,n=0;t%$n===bt;t/=$n,n++);for(s=$n;s<r&&Pg(s,e,r)!==r-Ce;s++)if(s>1e3)throw new Error("Cannot find square root: likely non-prime P");if(n===1){let o=(r+Ce)/Ac;return function(u,p){let m=u.pow(p,o);if(!u.eql(u.sqr(m),p))throw new Error("Cannot find square root");return m}}let i=(t+Ce)/$n;return function(c,u){if(c.pow(u,e)===c.neg(c.ONE))throw new Error("Cannot find square root");let p=n,m=c.pow(c.mul(c.ONE,s),t),b=c.pow(u,i),x=c.pow(u,t);for(;!c.eql(x,c.ONE);){if(c.eql(x,c.ZERO))return c.ZERO;let S=1;for(let I=c.sqr(x);S<p&&!c.eql(I,c.ONE);S++)I=c.sqr(I);let T=c.pow(m,Ce<<BigInt(p-S-1));m=c.sqr(T),b=c.mul(b,T),x=c.mul(x,m),p=S}return b}}function Ug(r){if(r%Ac===Lg){let e=(r+Ce)/Ac;return function(n,s){let i=n.pow(s,e);if(!n.eql(n.sqr(i),s))throw new Error("Cannot find square root");return i}}if(r%nd===rd){let e=(r-rd)/nd;return function(n,s){let i=n.mul(s,$n),o=n.pow(i,e),c=n.mul(s,o),u=n.mul(n.mul(c,$n),o),p=n.mul(c,n.sub(u,n.ONE));if(!n.eql(n.sqr(p),s))throw new Error("Cannot find square root");return p}}return r%Cg,Mg(r)}var sd=(r,e)=>(ke(r,e)&Ce)===Ce,Dg=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Ic(r){let e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},t=Dg.reduce((n,s)=>(n[s]="function",n),e);return br(r,t)}function zg(r,e,t){if(t<bt)throw new Error("invalid exponent, negatives unsupported");if(t===bt)return r.ONE;if(t===Ce)return e;let n=r.ONE,s=e;for(;t>bt;)t&Ce&&(n=r.mul(n,s)),s=r.sqr(s),t>>=Ce;return n}function Fg(r,e){let t=new Array(e.length),n=e.reduce((i,o,c)=>r.is0(o)?i:(t[c]=i,r.mul(i,o)),r.ONE),s=r.inv(n);return e.reduceRight((i,o,c)=>r.is0(o)?i:(t[c]=r.mul(i,t[c]),r.mul(i,o)),s),t}function kc(r,e){let t=e!==void 0?e:r.toString(2).length,n=Math.ceil(t/8);return{nBitLength:t,nByteLength:n}}function tn(r,e,t=!1,n={}){if(r<=bt)throw new Error("invalid field: expected ORDER > 0, got "+r);let{nBitLength:s,nByteLength:i}=kc(r,e);if(i>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let o,c=Object.freeze({ORDER:r,isLE:t,BITS:s,BYTES:i,MASK:Ks(s),ZERO:bt,ONE:Ce,create:u=>ke(u,r),isValid:u=>{if(typeof u!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof u);return bt<=u&&u<r},is0:u=>u===bt,isOdd:u=>(u&Ce)===Ce,neg:u=>ke(-u,r),eql:(u,p)=>u===p,sqr:u=>ke(u*u,r),add:(u,p)=>ke(u+p,r),sub:(u,p)=>ke(u-p,r),mul:(u,p)=>ke(u*p,r),pow:(u,p)=>zg(c,u,p),div:(u,p)=>ke(u*Qi(p,r),r),sqrN:u=>u*u,addN:(u,p)=>u+p,subN:(u,p)=>u-p,mulN:(u,p)=>u*p,inv:u=>Qi(u,r),sqrt:n.sqrt||(u=>(o||(o=Ug(r)),o(c,u))),invertBatch:u=>Fg(c,u),cmov:(u,p,m)=>m?p:u,toBytes:u=>t?zn(u,i):en(u,i),fromBytes:u=>{if(u.length!==i)throw new Error("Field.fromBytes: expected "+i+" bytes, got "+u.length);return t?Qr(u):Br(u)}});return Object.freeze(c)}function id(r){if(typeof r!="bigint")throw new Error("field order must be bigint");let e=r.toString(2).length;return Math.ceil(e/8)}function Oc(r){let e=id(r);return e+Math.ceil(e/2)}function od(r,e,t=!1){let n=r.length,s=id(e),i=Oc(e);if(n<16||n<i||n>1024)throw new Error("expected "+i+"-1024 bytes of input, got "+n);let o=t?Qr(r):Br(r),c=ke(o,e-Ce)+Ce;return t?zn(c,s):en(c,s)}var ad=BigInt(0),eo=BigInt(1);function Tc(r,e){let t=e.negate();return r?t:e}function cd(r,e){if(!Number.isSafeInteger(r)||r<=0||r>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+r)}function Nc(r,e){cd(r,e);let t=Math.ceil(e/r)+1,n=2**(r-1);return{windows:t,windowSize:n}}function $g(r,e){if(!Array.isArray(r))throw new Error("array expected");r.forEach((t,n)=>{if(!(t instanceof e))throw new Error("invalid point at index "+n)})}function Vg(r,e){if(!Array.isArray(r))throw new Error("array of scalars expected");r.forEach((t,n)=>{if(!e.isValid(t))throw new Error("invalid scalar at index "+n)})}var Lc=new WeakMap,ud=new WeakMap;function Bc(r){return ud.get(r)||1}function to(r,e){return{constTimeNegate:Tc,hasPrecomputes(t){return Bc(t)!==1},unsafeLadder(t,n,s=r.ZERO){let i=t;for(;n>ad;)n&eo&&(s=s.add(i)),i=i.double(),n>>=eo;return s},precomputeWindow(t,n){let{windows:s,windowSize:i}=Nc(n,e),o=[],c=t,u=c;for(let p=0;p<s;p++){u=c,o.push(u);for(let m=1;m<i;m++)u=u.add(c),o.push(u);c=u.double()}return o},wNAF(t,n,s){let{windows:i,windowSize:o}=Nc(t,e),c=r.ZERO,u=r.BASE,p=BigInt(2**t-1),m=2**t,b=BigInt(t);for(let x=0;x<i;x++){let S=x*o,T=Number(s&p);s>>=b,T>o&&(T-=m,s+=eo);let I=S,A=S+Math.abs(T)-1,L=x%2!==0,U=T<0;T===0?u=u.add(Tc(L,n[I])):c=c.add(Tc(U,n[A]))}return{p:c,f:u}},wNAFUnsafe(t,n,s,i=r.ZERO){let{windows:o,windowSize:c}=Nc(t,e),u=BigInt(2**t-1),p=2**t,m=BigInt(t);for(let b=0;b<o;b++){let x=b*c;if(s===ad)break;let S=Number(s&u);if(s>>=m,S>c&&(S-=p,s+=eo),S===0)continue;let T=n[x+Math.abs(S)-1];S<0&&(T=T.negate()),i=i.add(T)}return i},getPrecomputes(t,n,s){let i=Lc.get(n);return i||(i=this.precomputeWindow(n,t),t!==1&&Lc.set(n,s(i))),i},wNAFCached(t,n,s){let i=Bc(t);return this.wNAF(i,this.getPrecomputes(i,t,s),n)},wNAFCachedUnsafe(t,n,s,i){let o=Bc(t);return o===1?this.unsafeLadder(t,n,i):this.wNAFUnsafe(o,this.getPrecomputes(o,t,s),n,i)},setWindowSize(t,n){cd(n,e),ud.set(t,n),Lc.delete(t)}}}function ro(r,e,t,n){if($g(t,r),Vg(n,e),t.length!==n.length)throw new Error("arrays of points and scalars must have equal length");let s=r.ZERO,i=Sc(BigInt(t.length)),o=i>12?i-3:i>4?i-2:i?2:1,c=(1<<o)-1,u=new Array(c+1).fill(s),p=Math.floor((e.BITS-1)/o)*o,m=s;for(let b=p;b>=0;b-=o){u.fill(s);for(let S=0;S<n.length;S++){let T=n[S],I=Number(T>>BigInt(b)&BigInt(c));u[I]=u[I].add(t[S])}let x=s;for(let S=u.length-1,T=s;S>0;S--)T=T.add(u[S]),x=x.add(T);if(m=m.add(x),b!==0)for(let S=0;S<o;S++)m=m.double()}return m}function Hs(r){return Ic(r.Fp),br(r,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...kc(r.n,r.nBitLength),...r,p:r.Fp.ORDER})}var fr=BigInt(0),Kt=BigInt(1),no=BigInt(2),Wg=BigInt(8),qg={zip215:!0};function jg(r){let e=Hs(r);return br(r,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...e})}function fd(r){let e=jg(r),{Fp:t,n,prehash:s,hash:i,randomBytes:o,nByteLength:c,h:u}=e,p=no<<BigInt(c*8)-Kt,m=t.create,b=tn(e.n,e.nBitLength),x=e.uvRatio||((d,h)=>{try{return{isValid:!0,value:t.sqrt(d*t.inv(h))}}catch{return{isValid:!1,value:fr}}}),S=e.adjustScalarBytes||(d=>d),T=e.domain||((d,h,g)=>{if(ur("phflag",g),h.length||g)throw new Error("Contexts/pre-hash are not supported");return d});function I(d,h){jt("coordinate "+d,h,fr,p)}function A(d){if(!(d instanceof B))throw new Error("ExtendedPoint expected")}let L=Fn((d,h)=>{let{ex:g,ey:w,ez:v}=d,y=d.is0();h==null&&(h=y?Wg:t.inv(v));let f=m(g*h),_=m(w*h),C=m(v*h);if(y)return{x:fr,y:Kt};if(C!==Kt)throw new Error("invZ was invalid");return{x:f,y:_}}),U=Fn(d=>{let{a:h,d:g}=e;if(d.is0())throw new Error("bad point: ZERO");let{ex:w,ey:v,ez:y,et:f}=d,_=m(w*w),C=m(v*v),D=m(y*y),$=m(D*D),X=m(_*h),ie=m(D*m(X+C)),fe=m($+m(g*m(_*C)));if(ie!==fe)throw new Error("bad point: equation left != right (1)");let Be=m(w*v),he=m(y*f);if(Be!==he)throw new Error("bad point: equation left != right (2)");return!0});class B{constructor(h,g,w,v){this.ex=h,this.ey=g,this.ez=w,this.et=v,I("x",h),I("y",g),I("z",w),I("t",v),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(h){if(h instanceof B)throw new Error("extended point not allowed");let{x:g,y:w}=h||{};return I("x",g),I("y",w),new B(g,w,Kt,m(g*w))}static normalizeZ(h){let g=t.invertBatch(h.map(w=>w.ez));return h.map((w,v)=>w.toAffine(g[v])).map(B.fromAffine)}static msm(h,g){return ro(B,b,h,g)}_setWindowSize(h){G.setWindowSize(this,h)}assertValidity(){U(this)}equals(h){A(h);let{ex:g,ey:w,ez:v}=this,{ex:y,ey:f,ez:_}=h,C=m(g*_),D=m(y*v),$=m(w*_),X=m(f*v);return C===D&&$===X}is0(){return this.equals(B.ZERO)}negate(){return new B(m(-this.ex),this.ey,this.ez,m(-this.et))}double(){let{a:h}=e,{ex:g,ey:w,ez:v}=this,y=m(g*g),f=m(w*w),_=m(no*m(v*v)),C=m(h*y),D=g+w,$=m(m(D*D)-y-f),X=C+f,ie=X-_,fe=C-f,Be=m($*ie),he=m(X*fe),me=m($*fe),Gt=m(ie*X);return new B(Be,he,Gt,me)}add(h){A(h);let{a:g,d:w}=e,{ex:v,ey:y,ez:f,et:_}=this,{ex:C,ey:D,ez:$,et:X}=h;if(g===BigInt(-1)){let Ue=m((y-v)*(D+C)),De=m((y+v)*(D-C)),rs=m(De-Ue);if(rs===fr)return this.double();let ze=m(f*no*X),Fe=m(_*no*$),Us=Fe+ze,$e=De+Ue,Ve=Fe-ze,Ci=m(Us*rs),He=m($e*Ve),Ge=m(Us*Ve),Pi=m(rs*$e);return new B(Ci,He,Pi,Ge)}let ie=m(v*C),fe=m(y*D),Be=m(_*w*X),he=m(f*$),me=m((v+y)*(C+D)-ie-fe),Gt=he-Be,xe=he+Be,Ne=m(fe-g*ie),Li=m(me*Gt),je=m(xe*Ne),Ke=m(me*Ne),Bi=m(Gt*xe);return new B(Li,je,Bi,Ke)}subtract(h){return this.add(h.negate())}wNAF(h){return G.wNAFCached(this,h,B.normalizeZ)}multiply(h){let g=h;jt("scalar",g,Kt,n);let{p:w,f:v}=this.wNAF(g);return B.normalizeZ([w,v])[0]}multiplyUnsafe(h,g=B.ZERO){let w=h;return jt("scalar",w,fr,n),w===fr?te:this.is0()||w===Kt?this:G.wNAFCachedUnsafe(this,w,B.normalizeZ,g)}isSmallOrder(){return this.multiplyUnsafe(u).is0()}isTorsionFree(){return G.unsafeLadder(this,n).is0()}toAffine(h){return L(this,h)}clearCofactor(){let{h}=e;return h===Kt?this:this.multiplyUnsafe(h)}static fromHex(h,g=!1){let{d:w,a:v}=e,y=t.BYTES;h=We("pointHex",h,y),ur("zip215",g);let f=h.slice(),_=h[y-1];f[y-1]=_&-129;let C=Qr(f),D=g?p:t.ORDER;jt("pointHex.y",C,fr,D);let $=m(C*C),X=m($-Kt),ie=m(w*$-v),{isValid:fe,value:Be}=x(X,ie);if(!fe)throw new Error("Point.fromHex: invalid y coordinate");let he=(Be&Kt)===Kt,me=(_&128)!==0;if(!g&&Be===fr&&me)throw new Error("Point.fromHex: x=0 and x_0=1");return me!==he&&(Be=m(-Be)),B.fromAffine({x:Be,y:C})}static fromPrivateKey(h){return Y(h).point}toRawBytes(){let{x:h,y:g}=this.toAffine(),w=zn(g,t.BYTES);return w[w.length-1]|=h&Kt?128:0,w}toHex(){return Lr(this.toRawBytes())}}B.BASE=new B(e.Gx,e.Gy,Kt,m(e.Gx*e.Gy)),B.ZERO=new B(fr,Kt,Kt,fr);let{BASE:F,ZERO:te}=B,G=to(B,c*8);function Z(d){return ke(d,n)}function ee(d){return Z(Qr(d))}function Y(d){let h=t.BYTES;d=We("private key",d,h);let g=We("hashed private key",i(d),2*h),w=S(g.slice(0,h)),v=g.slice(h,2*h),y=ee(w),f=F.multiply(y),_=f.toRawBytes();return{head:w,prefix:v,scalar:y,point:f,pointBytes:_}}function Ie(d){return Y(d).pointBytes}function re(d=new Uint8Array,...h){let g=Cr(...h);return ee(i(T(g,We("context",d),!!s)))}function le(d,h,g={}){d=We("message",d),s&&(d=s(d));let{prefix:w,scalar:v,pointBytes:y}=Y(h),f=re(g.context,w,d),_=F.multiply(f).toRawBytes(),C=re(g.context,_,y,d),D=Z(f+C*v);jt("signature.s",D,fr,n);let $=Cr(_,zn(D,t.BYTES));return We("result",$,t.BYTES*2)}let E=qg;function a(d,h,g,w=E){let{context:v,zip215:y}=w,f=t.BYTES;d=We("signature",d,2*f),h=We("message",h),g=We("publicKey",g,f),y!==void 0&&ur("zip215",y),s&&(h=s(h));let _=Qr(d.slice(f,2*f)),C,D,$;try{C=B.fromHex(g,y),D=B.fromHex(d.slice(0,f),y),$=F.multiplyUnsafe(_)}catch{return!1}if(!y&&C.isSmallOrder())return!1;let X=re(v,D.toRawBytes(),C.toRawBytes(),h);return D.add(C.multiplyUnsafe(X)).subtract($).clearCofactor().equals(B.ZERO)}return F._setWindowSize(8),{CURVE:e,getPublicKey:Ie,sign:le,verify:a,ExtendedPoint:B,utils:{getExtendedPublicKey:Y,randomPrivateKey:()=>o(t.BYTES),precompute(d=8,h=B.BASE){return h._setWindowSize(d),h.multiply(BigInt(3)),h}}}}var Cc=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),ld=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752"),Ax=BigInt(0),Kg=BigInt(1),dd=BigInt(2),Ix=BigInt(3),Hg=BigInt(5),Gg=BigInt(8);function Zg(r){let e=BigInt(10),t=BigInt(20),n=BigInt(40),s=BigInt(80),i=Cc,c=r*r%i*r%i,u=Pe(c,dd,i)*c%i,p=Pe(u,Kg,i)*r%i,m=Pe(p,Hg,i)*p%i,b=Pe(m,e,i)*m%i,x=Pe(b,t,i)*b%i,S=Pe(x,n,i)*x%i,T=Pe(S,s,i)*S%i,I=Pe(T,s,i)*S%i,A=Pe(I,e,i)*m%i;return{pow_p_5_8:Pe(A,dd,i)*r%i,b2:c}}function Yg(r){return r[0]&=248,r[31]&=127,r[31]|=64,r}function Jg(r,e){let t=Cc,n=ke(e*e*e,t),s=ke(n*n*e,t),i=Zg(r*s).pow_p_5_8,o=ke(r*n*i,t),c=ke(e*o*o,t),u=o,p=ke(o*ld,t),m=c===r,b=c===ke(-r,t),x=c===ke(-r*ld,t);return m&&(o=u),(b||x)&&(o=p),sd(o,t)&&(o=ke(-o,t)),{isValid:m||b,value:o}}var Xg=tn(Cc,void 0,!0),Qg={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:Xg,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:Gg,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:Ql,randomBytes:Gi,adjustScalarBytes:Yg,uvRatio:Jg},Vn=fd(Qg);var ku=Sr(Mc()),Rt=Sr(Dc());var ny=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),rn=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),nn=new Uint32Array(64),zc=class extends ws{constructor(){super(64,32,8,!1),this.A=rn[0]|0,this.B=rn[1]|0,this.C=rn[2]|0,this.D=rn[3]|0,this.E=rn[4]|0,this.F=rn[5]|0,this.G=rn[6]|0,this.H=rn[7]|0}get(){let{A:e,B:t,C:n,D:s,E:i,F:o,G:c,H:u}=this;return[e,t,n,s,i,o,c,u]}set(e,t,n,s,i,o,c,u){this.A=e|0,this.B=t|0,this.C=n|0,this.D=s|0,this.E=i|0,this.F=o|0,this.G=c|0,this.H=u|0}process(e,t){for(let b=0;b<16;b++,t+=4)nn[b]=e.getUint32(t,!1);for(let b=16;b<64;b++){let x=nn[b-15],S=nn[b-2],T=cr(x,7)^cr(x,18)^x>>>3,I=cr(S,17)^cr(S,19)^S>>>10;nn[b]=I+nn[b-7]+T+nn[b-16]|0}let{A:n,B:s,C:i,D:o,E:c,F:u,G:p,H:m}=this;for(let b=0;b<64;b++){let x=cr(c,6)^cr(c,11)^cr(c,25),S=m+x+Yl(c,u,p)+ny[b]+nn[b]|0,I=(cr(n,2)^cr(n,13)^cr(n,22))+Jl(n,s,i)|0;m=p,p=u,u=c,c=o+S|0,o=i,i=s,s=n,n=S+I|0}n=n+this.A|0,s=s+this.B|0,i=i+this.C|0,o=o+this.D|0,c=c+this.E|0,u=u+this.F|0,p=p+this.G|0,m=m+this.H|0,this.set(n,s,i,o,c,u,p,m)}roundClean(){nn.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};var Gs=bs(()=>new zc);var Ns=Sr(Ad()),R=Sr(Gc()),Xh=Sr(Gc());var wy=1,Ey=2,Ry=3,vy=4,Sy=5,xy=6,Ay=7,Iy=8,ky=9,Oy=10,Ty=-32700,Ny=-32603,Ly=-32602,By=-32601,Cy=-32600,Py=-32016,My=-32015,Uy=-32014,Dy=-32013,zy=-32012,Fy=-32011,$y=-32010,Vy=-32009,Wy=-32008,qy=-32007,jy=-32006,Ky=-32005,Hy=-32004,Gy=-32003,Zy=-32002,Yy=-32001,Jy=28e5,Xy=2800001,Qy=2800002,e_=2800003,t_=2800004,r_=2800005,n_=2800006,s_=2800007,i_=2800008,o_=2800009,a_=2800010,c_=323e4,u_=32300001,f_=3230002,l_=3230003,d_=3230004,h_=361e4,p_=3610001,m_=3610002,g_=3610003,y_=3610004,__=3610005,b_=3610006,w_=3610007,E_=3611e3,R_=3704e3,v_=3704001,S_=3704002,x_=3704003,A_=3704004,I_=4128e3,k_=4128001,O_=4128002,T_=4615e3,N_=4615001,L_=4615002,B_=4615003,C_=4615004,P_=4615005,M_=4615006,U_=4615007,D_=4615008,z_=4615009,F_=4615010,$_=4615011,V_=4615012,W_=4615013,q_=4615014,j_=4615015,K_=4615016,H_=4615017,G_=4615018,Z_=4615019,Y_=4615020,J_=4615021,X_=4615022,Q_=4615023,eb=4615024,tb=4615025,rb=4615026,nb=4615027,sb=4615028,ib=4615029,ob=4615030,ab=4615031,cb=4615032,ub=4615033,fb=4615034,lb=4615035,db=4615036,hb=4615037,pb=4615038,mb=4615039,gb=4615040,yb=4615041,_b=4615042,bb=4615043,wb=4615044,Eb=4615045,Rb=4615046,vb=4615047,Sb=4615048,xb=4615049,Ab=4615050,Ib=4615051,kb=4615052,Ob=4615053,Tb=4615054,Nb=5508e3,Lb=5508001,Bb=5508002,Cb=5508003,Pb=5508004,Mb=5508005,Ub=5508006,Db=5508007,zb=5508008,Fb=5508009,$b=5508010,Vb=5508011,Wb=5663e3,qb=5663001,jb=5663002,Kb=5663003,Hb=5663004,Gb=5663005,Zb=5663006,Yb=5663007,Jb=5663008,Xb=5663009,Qb=5663010,ew=5663011,tw=5663012,rw=5663013,nw=5663014,sw=5663015,iw=5663016,ow=5663017,aw=5663018,cw=5663019,uw=705e4,fw=7050001,lw=7050002,dw=7050003,hw=7050004,pw=7050005,mw=7050006,gw=7050007,yw=7050008,_w=7050009,bw=7050010,ww=7050011,Ew=7050012,Rw=7050013,vw=7050014,Sw=7050015,xw=7050016,Aw=7050017,Iw=7050018,kw=7050019,Ow=7050020,Tw=7050021,Nw=7050022,Lw=7050023,Bw=7050024,Cw=7050025,Pw=7050026,Mw=7050027,Uw=7050028,Dw=7050029,zw=7050030,Fw=7050031,$w=7050032,Vw=7050033,Ww=7050034,qw=7050035,jw=7050036,Zc=8078e3,Yc=8078001,Id=8078002,kd=8078003,Jc=8078004,Xc=8078005,Qc=8078006,Kw=8078007,Hw=8078008,Gw=8078009,Zw=8078010,eu=8078011,Yw=8078012,Od=8078013,Td=8078014,Jw=8078015,Xw=8078016,Qw=8078017,e1=8078018,t1=8078019,Nd=8078020,Ld=8078021,r1=8078022,n1=81e5,s1=8100001,i1=8100002,o1=8100003,a1=819e4,c1=8190001,u1=8190002,f1=8190003,l1=8190004,d1=99e5,h1=9900001,p1=9900002,m1=9900003,g1=9900004;function Bd(r){return Array.isArray(r)?"%5B"+r.map(Bd).join("%2C%20")+"%5D":typeof r=="bigint"?`${r}n`:encodeURIComponent(String(r!=null&&Object.getPrototypeOf(r)===null?{...r}:r))}function y1([r,e]){return`${r}=${Bd(e)}`}function _1(r){let e=Object.entries(r).map(y1).join("&");return btoa(e)}var zx={[c_]:"Account not found at address: $address",[d_]:"Not all accounts were decoded. Encoded accounts found at addresses: $addresses.",[l_]:"Expected decoded account at address: $address",[f_]:"Failed to decode account data at address: $address",[u_]:"Accounts not found at addresses: $addresses",[o_]:"Unable to find a viable program address bump seed.",[Qy]:"$putativeAddress is not a base58-encoded address.",[Jy]:"Expected base58 encoded address to decode to a byte array of length 32. Actual length: $actualLength.",[e_]:"The `CryptoKey` must be an `Ed25519` public key.",[i_]:"Invalid seeds; point must fall off the Ed25519 curve.",[t_]:"Expected given program derived address to have the following format: [Address, ProgramDerivedAddressBump].",[n_]:"A maximum of $maxSeeds seeds, including the bump seed, may be supplied when creating an address. Received: $actual.",[s_]:"The seed at index $index with length $actual exceeds the maximum length of $maxSeedLength bytes.",[r_]:"Expected program derived address bump to be in the range [0, 255], got: $bump.",[a_]:"Program address cannot end with PDA marker.",[Xy]:"Expected base58-encoded address string of length in the range [32, 44]. Actual length: $actualLength.",[vy]:"Expected base58-encoded blockash string of length in the range [32, 44]. Actual length: $actualLength.",[wy]:"The network has progressed past the last block for which this transaction could have been committed.",[Zc]:"Codec [$codecDescription] cannot decode empty byte arrays.",[r1]:"Enum codec cannot use lexical values [$stringValues] as discriminators. Either remove all lexical values or set `useValuesAsDiscriminators` to `false`.",[Nd]:"Sentinel [$hexSentinel] must not be present in encoded bytes [$hexEncodedBytes].",[Xc]:"Encoder and decoder must have the same fixed size, got [$encoderFixedSize] and [$decoderFixedSize].",[Qc]:"Encoder and decoder must have the same max size, got [$encoderMaxSize] and [$decoderMaxSize].",[Jc]:"Encoder and decoder must either both be fixed-size or variable-size.",[Hw]:"Enum discriminator out of range. Expected a number in [$formattedValidDiscriminators], got $discriminator.",[Id]:"Expected a fixed-size codec, got a variable-size one.",[Od]:"Codec [$codecDescription] expected a positive byte length, got $bytesLength.",[kd]:"Expected a variable-size codec, got a fixed-size one.",[t1]:"Codec [$codecDescription] expected zero-value [$hexZeroValue] to have the same size as the provided fixed-size item [$expectedSize bytes].",[Yc]:"Codec [$codecDescription] expected $expected bytes, got $bytesLength.",[e1]:"Expected byte array constant [$hexConstant] to be present in data [$hexData] at offset [$offset].",[Gw]:"Invalid discriminated union variant. Expected one of [$variants], got $value.",[Zw]:"Invalid enum variant. Expected one of [$stringValues] or a number in [$formattedNumericalValues], got $variant.",[Jw]:"Invalid literal union variant. Expected one of [$variants], got $value.",[Kw]:"Expected [$codecDescription] to have $expected items, got $actual.",[Yw]:"Invalid value $value for base $base with alphabet $alphabet.",[Xw]:"Literal union discriminator out of range. Expected a number between $minRange and $maxRange, got $discriminator.",[eu]:"Codec [$codecDescription] expected number to be in the range [$min, $max], got $value.",[Td]:"Codec [$codecDescription] expected offset to be in the range [0, $bytesLength], got $offset.",[Ld]:"Expected sentinel [$hexSentinel] to be present in decoded bytes [$hexDecodedBytes].",[Qw]:"Union variant out of range. Expected an index between $minRange and $maxRange, got $variant.",[E_]:"No random values implementation could be found.",[z_]:"instruction requires an uninitialized account",[Q_]:"instruction tries to borrow reference for an account which is already borrowed",[eb]:"instruction left account with an outstanding borrowed reference",[J_]:"program other than the account's owner changed the size of the account data",[P_]:"account data too small for instruction",[X_]:"instruction expected an executable account",[Rb]:"An account does not have enough lamports to be rent-exempt",[Sb]:"Program arithmetic overflowed",[Eb]:"Failed to serialize or deserialize account data: $encodedData",[Tb]:"Builtin programs must consume compute units",[cb]:"Cross-program invocation call depth too deep",[pb]:"Computational budget exceeded",[rb]:"custom program error: #$code",[H_]:"instruction contains duplicate accounts",[tb]:"instruction modifications of multiply-passed account differ",[ob]:"executable accounts must be rent exempt",[sb]:"instruction changed executable accounts data",[ib]:"instruction changed the balance of an executable account",[G_]:"instruction changed executable bit of an account",[q_]:"instruction modified data of an account it does not own",[W_]:"instruction spent from the balance of an account it does not own",[N_]:"generic instruction error",[Ab]:"Provided owner is not allowed",[bb]:"Account is immutable",[wb]:"Incorrect authority provided",[U_]:"incorrect program id for instruction",[M_]:"insufficient funds for instruction",[C_]:"invalid account data for instruction",[vb]:"Invalid account owner",[L_]:"invalid program argument",[nb]:"program returned invalid error code",[B_]:"invalid instruction data",[hb]:"Failed to reallocate account data",[db]:"Provided seeds do not result in a valid address",[Ib]:"Accounts data allocations exceeded the maximum allowed per transaction",[kb]:"Max accounts exceeded",[Ob]:"Max instruction trace length exceeded",[lb]:"Length of the seed is too long for address generation",[ub]:"An account required by the instruction is missing",[D_]:"missing required signature for instruction",[V_]:"instruction illegally modified the program id of an account",[Y_]:"insufficient account keys for instruction",[mb]:"Cross-program invocation with unauthorized signer or writable account",[gb]:"Failed to create program execution environment",[_b]:"Program failed to compile",[yb]:"Program failed to complete",[K_]:"instruction modified data of a read-only account",[j_]:"instruction changed the balance of a read-only account",[fb]:"Cross-program invocation reentrancy not allowed for this instruction",[Z_]:"instruction modified rent epoch of an account",[$_]:"sum of account balances before and after instruction do not match",[F_]:"instruction requires an initialized account",[T_]:"",[ab]:"Unsupported program id",[xb]:"Unsupported sysvar",[I_]:"The instruction does not have any accounts.",[k_]:"The instruction does not have any data.",[O_]:"Expected instruction to have progress address $expectedProgramAddress, got $actualProgramAddress.",[Sy]:"Expected base58 encoded blockhash to decode to a byte array of length 32. Actual length: $actualLength.",[Ey]:"The nonce `$expectedNonceValue` is no longer valid. It has advanced to `$actualNonceValue`",[p1]:"Invariant violation: Found no abortable iterable cache entry for key `$cacheKey`. It should be impossible to hit this error; please file an issue at https://sola.na/web3invariant",[g1]:"Invariant violation: This data publisher does not publish to the channel named `$channelName`. Supported channels include $supportedChannelNames.",[h1]:"Invariant violation: WebSocket message iterator state is corrupt; iterated without first resolving existing message promise. It should be impossible to hit this error; please file an issue at https://sola.na/web3invariant",[d1]:"Invariant violation: WebSocket message iterator is missing state storage. It should be impossible to hit this error; please file an issue at https://sola.na/web3invariant",[m1]:"Invariant violation: Switch statement non-exhaustive. Received unexpected value `$unexpectedValue`. It should be impossible to hit this error; please file an issue at https://sola.na/web3invariant",[Ny]:"JSON-RPC error: Internal JSON-RPC error ($__serverMessage)",[Ly]:"JSON-RPC error: Invalid method parameter(s) ($__serverMessage)",[Cy]:"JSON-RPC error: The JSON sent is not a valid `Request` object ($__serverMessage)",[By]:"JSON-RPC error: The method does not exist / is not available ($__serverMessage)",[Ty]:"JSON-RPC error: An error occurred on the server while parsing the JSON text ($__serverMessage)",[zy]:"$__serverMessage",[Yy]:"$__serverMessage",[Hy]:"$__serverMessage",[Uy]:"$__serverMessage",[$y]:"$__serverMessage",[Vy]:"$__serverMessage",[Py]:"Minimum context slot has not been reached",[Ky]:"Node is unhealthy; behind by $numSlotsBehind slots",[Wy]:"No snapshot",[Zy]:"Transaction simulation failed",[qy]:"$__serverMessage",[Fy]:"Transaction history is not available from this node",[jy]:"$__serverMessage",[Dy]:"Transaction signature length mismatch",[Gy]:"Transaction signature verification failure",[My]:"$__serverMessage",[R_]:"Key pair bytes must be of length 64, got $byteLength.",[v_]:"Expected private key bytes with length 32. Actual length: $actualLength.",[S_]:"Expected base58-encoded signature to decode to a byte array of length 64. Actual length: $actualLength.",[A_]:"The provided private key does not match the provided public key.",[x_]:"Expected base58-encoded signature string of length in the range [64, 88]. Actual length: $actualLength.",[xy]:"Lamports value must be in the range [0, 2e64-1]",[Ay]:"`$value` cannot be parsed as a `BigInt`",[Oy]:"$message",[Iy]:"`$value` cannot be parsed as a `Number`",[Ry]:"No nonce account could be found at address `$nonceAccountAddress`",[a1]:"The notification name must end in 'Notifications' and the API must supply a subscription plan creator function for the notification '$notificationName'.",[u1]:"WebSocket was closed before payload could be added to the send buffer",[f1]:"WebSocket connection closed",[l1]:"WebSocket failed to connect",[c1]:"Failed to obtain a subscription id from the server",[o1]:"Could not find an API plan for RPC method: `$method`",[n1]:"The $argumentLabel argument to the `$methodName` RPC method$optionalPathLabel was `$value`. This number is unsafe for use with the Solana JSON-RPC because it exceeds `Number.MAX_SAFE_INTEGER`.",[i1]:"HTTP error ($statusCode): $message",[s1]:"HTTP header(s) forbidden: $headers. Learn more at https://developer.mozilla.org/en-US/docs/Glossary/Forbidden_header_name.",[Nb]:"Multiple distinct signers were identified for address `$address`. Please ensure that you are using the same signer instance for each address.",[Lb]:"The provided value does not implement the `KeyPairSigner` interface",[Cb]:"The provided value does not implement the `MessageModifyingSigner` interface",[Pb]:"The provided value does not implement the `MessagePartialSigner` interface",[Bb]:"The provided value does not implement any of the `MessageSigner` interfaces",[Ub]:"The provided value does not implement the `TransactionModifyingSigner` interface",[Db]:"The provided value does not implement the `TransactionPartialSigner` interface",[zb]:"The provided value does not implement the `TransactionSendingSigner` interface",[Mb]:"The provided value does not implement any of the `TransactionSigner` interfaces",[Fb]:"More than one `TransactionSendingSigner` was identified.",[$b]:"No `TransactionSendingSigner` was identified. Please provide a valid `ITransactionWithSingleSendingSigner` transaction.",[Vb]:"Wallet account signers do not support signing multiple messages/transactions in a single operation",[w_]:"Cannot export a non-extractable key.",[p_]:"No digest implementation could be found.",[h_]:"Cryptographic operations are only allowed in secure browser contexts. Read more here: https://developer.mozilla.org/en-US/docs/Web/Security/Secure_Contexts.",[m_]:`This runtime does not support the generation of Ed25519 key pairs.

Install @solana/webcrypto-ed25519-polyfill and call its \`install\` function before generating keys in environments that do not support Ed25519.

For a list of runtimes that currently support Ed25519 operations, visit https://github.com/WICG/webcrypto-secure-curves/issues/20.`,[g_]:"No signature verification implementation could be found.",[y_]:"No key generation implementation could be found.",[__]:"No signing implementation could be found.",[b_]:"No key export implementation could be found.",[ky]:"Timestamp value must be in the range [-(2n ** 63n), (2n ** 63n) - 1]. `$value` given",[xw]:"Transaction processing left an account with an outstanding borrowed reference",[fw]:"Account in use",[lw]:"Account loaded twice",[dw]:"Attempt to debit an account but found no record of a prior credit.",[Lw]:"Transaction loads an address table account that doesn't exist",[gw]:"This transaction has already been processed",[yw]:"Blockhash not found",[_w]:"Loader call chain is too deep",[Sw]:"Transactions are currently disabled due to cluster maintenance",[zw]:"Transaction contains a duplicate instruction ($index) that is not allowed",[pw]:"Insufficient funds for fee",[Fw]:"Transaction results in an account ($accountIndex) with insufficient funds for rent",[mw]:"This account may not be used to pay transaction fees",[ww]:"Transaction contains an invalid account reference",[Cw]:"Transaction loads an address table account with invalid data",[Pw]:"Transaction address table lookup uses an invalid index",[Bw]:"Transaction loads an address table account with an invalid owner",[Vw]:"LoadedAccountsDataSizeLimit set for transaction must be greater than 0.",[Rw]:"This program may not be used for executing instructions",[Mw]:"Transaction leaves an account with a lower balance than rent-exempt minimum",[kw]:"Transaction loads a writable account that cannot be written",[$w]:"Transaction exceeded max loaded accounts data size cap",[bw]:"Transaction requires a fee but has no signature present",[hw]:"Attempt to load a program that does not exist",[qw]:"Execution of the program referenced by account at index $accountIndex is temporarily restricted.",[Ww]:"ResanitizationNeeded",[vw]:"Transaction failed to sanitize accounts offsets correctly",[Ew]:"Transaction did not pass signature verification",[Nw]:"Transaction locked too many accounts",[jw]:"Sum of account balances before and after transaction do not match",[uw]:"The transaction failed with the error `$errorName`",[Iw]:"Transaction version is unsupported",[Tw]:"Transaction would exceed account data limit within the block",[Dw]:"Transaction would exceed total account data limit",[Ow]:"Transaction would exceed max account limit within the block",[Aw]:"Transaction would exceed max Block Cost Limit",[Uw]:"Transaction would exceed max Vote Cost Limit",[sw]:"Attempted to sign a transaction with an address that is not a signer for it",[Qb]:"Transaction is missing an address at index: $index.",[iw]:"Transaction has no expected signers therefore it cannot be encoded",[jb]:"Transaction does not have a blockhash lifetime",[Kb]:"Transaction is not a durable nonce transaction",[Gb]:"Contents of these address lookup tables unknown: $lookupTableAddresses",[Zb]:"Lookup of address at index $highestRequestedIndex failed for lookup table `$lookupTableAddress`. Highest known index is $highestKnownIndex. The lookup table may have been extended since its contents were retrieved",[Jb]:"No fee payer set in CompiledTransaction",[Yb]:"Could not find program address at index $index",[aw]:"Failed to estimate the compute unit consumption for this transaction message. This is likely because simulating the transaction failed. Inspect the `cause` property of this error to learn more",[cw]:"Transaction failed when it was simulated in order to estimate the compute unit consumption. The compute unit estimate provided is for a transaction that failed when simulated and may not be representative of the compute units this transaction would consume if successful. Inspect the `cause` property of this error to learn more",[ew]:"Transaction is missing a fee payer.",[tw]:"Could not determine this transaction's signature. Make sure that the transaction has been signed by its fee payer.",[nw]:"Transaction first instruction is not advance nonce account instruction.",[rw]:"Transaction with no instructions cannot be durable nonce transaction.",[Wb]:"This transaction includes an address (`$programAddress`) which is both invoked and set as the fee payer. Program addresses may not pay fees",[qb]:"This transaction includes an address (`$programAddress`) which is both invoked and marked writable. Program addresses may not be writable",[ow]:"The transaction message expected the transaction to have $signerAddressesLength signatures, got $signaturesLength.",[Xb]:"Transaction is missing signatures for addresses: $addresses.",[Hb]:"Transaction version must be in the range [0, 127]. `$actualVersion` given"};function b1(r,e={}){{let t=`Solana error #${r}; Decode this error by running \`npx @solana/errors decode -- ${r}`;return Object.keys(e).length&&(t+=` '${_1(e)}'`),`${t}\``}}var an=class extends Error{cause=this.cause;context;constructor(...[r,e]){let t,n;if(e){let{cause:i,...o}=e;i&&(n={cause:i}),Object.keys(o).length>0&&(t=o)}let s=b1(r,t);super(s,n),this.context={__code:r,...t},this.name="SolanaError"}};function w1(r,e){return"fixedSize"in e?e.fixedSize:e.getSizeFromValue(r)}function Cd(r){return Object.freeze({...r,encode:e=>{let t=new Uint8Array(w1(e,r));return r.write(e,t,0),t}})}function Pd(r){return Object.freeze({...r,decode:(e,t=0)=>r.read(e,t)[0]})}function As(r){return"fixedSize"in r&&typeof r.fixedSize=="number"}function Md(r,e){if(As(r)!==As(e))throw new an(Jc);if(As(r)&&As(e)&&r.fixedSize!==e.fixedSize)throw new an(Xc,{decoderFixedSize:e.fixedSize,encoderFixedSize:r.fixedSize});if(!As(r)&&!As(e)&&r.maxSize!==e.maxSize)throw new an(Qc,{decoderMaxSize:e.maxSize,encoderMaxSize:r.maxSize});return{...e,...r,decode:e.decode,encode:r.encode,read:e.read,write:r.write}}function Ud(r,e,t=0){if(e.length-t<=0)throw new an(Zc,{codecDescription:r})}function Dd(r,e,t,n=0){let s=t.length-n;if(s<e)throw new an(Yc,{bytesLength:s,codecDescription:r,expected:e})}function E1(r,e,t,n){if(n<e||n>t)throw new an(eu,{codecDescription:r,max:t,min:e,value:n})}function zd(r){return r?.endian!==1}function R1(r){return Cd({fixedSize:r.size,write(e,t,n){r.range&&E1(r.name,r.range[0],r.range[1],e);let s=new ArrayBuffer(r.size);return r.set(new DataView(s),e,zd(r.config)),t.set(new Uint8Array(s),n),n+r.size}})}function v1(r){return Pd({fixedSize:r.size,read(e,t=0){Ud(r.name,e,t),Dd(r.name,r.size,e,t);let n=new DataView(S1(e,t,r.size));return[r.get(n,zd(r.config)),t+r.size]}})}function S1(r,e,t){let n=r.byteOffset+(e??0),s=t??r.byteLength;return r.buffer.slice(n,n+s)}var tu=(r={})=>R1({config:r,name:"u64",range:[0n,BigInt("0xffffffffffffffff")],set:(e,t,n)=>e.setBigUint64(0,BigInt(t),n),size:8}),x1=(r={})=>v1({config:r,get:(e,t)=>e.getBigUint64(0,t),name:"u64",size:8}),Fd=(r={})=>Md(tu(r),x1(r));var ru=class extends TypeError{constructor(e,t){let n,{message:s,explanation:i,...o}=e,{path:c}=e,u=c.length===0?s:`At path: ${c.join(".")} -- ${s}`;super(i??u),i!=null&&(this.cause=u),Object.assign(this,o),this.name=this.constructor.name,this.failures=()=>n??(n=[e,...t()])}};function A1(r){return ei(r)&&typeof r[Symbol.iterator]=="function"}function ei(r){return typeof r=="object"&&r!=null}function Lo(r){return ei(r)&&!Array.isArray(r)}function lr(r){return typeof r=="symbol"?r.toString():typeof r=="string"?JSON.stringify(r):`${r}`}function I1(r){let{done:e,value:t}=r.next();return e?void 0:t}function k1(r,e,t,n){if(r===!0)return;r===!1?r={}:typeof r=="string"&&(r={message:r});let{path:s,branch:i}=e,{type:o}=t,{refinement:c,message:u=`Expected a value of type \`${o}\`${c?` with refinement \`${c}\``:""}, but received: \`${lr(n)}\``}=r;return{value:n,type:o,refinement:c,key:s[s.length-1],path:s,branch:i,...r,message:u}}function*$d(r,e,t,n){A1(r)||(r=[r]);for(let s of r){let i=k1(s,e,t,n);i&&(yield i)}}function*nu(r,e,t={}){let{path:n=[],branch:s=[r],coerce:i=!1,mask:o=!1}=t,c={path:n,branch:s,mask:o};i&&(r=e.coercer(r,c));let u="valid";for(let p of e.validator(r,c))p.explanation=t.message,u="not_valid",yield[p,void 0];for(let[p,m,b]of e.entries(r,c)){let x=nu(m,b,{path:p===void 0?n:[...n,p],branch:p===void 0?s:[...s,m],coerce:i,mask:o,message:t.message});for(let S of x)S[0]?(u=S[0].refinement!=null?"not_refined":"not_valid",yield[S[0],void 0]):i&&(m=S[1],p===void 0?r=m:r instanceof Map?r.set(p,m):r instanceof Set?r.add(m):ei(r)&&(m!==void 0||p in r)&&(r[p]=m))}if(u!=="not_valid")for(let p of e.refiner(r,c))p.explanation=t.message,u="not_refined",yield[p,void 0];u==="valid"&&(yield[void 0,r])}var ir=class{constructor(e){let{type:t,schema:n,validator:s,refiner:i,coercer:o=u=>u,entries:c=function*(){}}=e;this.type=t,this.schema=n,this.entries=c,this.coercer=o,s?this.validator=(u,p)=>{let m=s(u,p);return $d(m,p,this,u)}:this.validator=()=>[],i?this.refiner=(u,p)=>{let m=i(u,p);return $d(m,p,this,u)}:this.refiner=()=>[]}assert(e,t){return Vd(e,this,t)}create(e,t){return W(e,this,t)}is(e){return Wd(e,this)}mask(e,t){return O1(e,this,t)}validate(e,t={}){return ti(e,this,t)}};function Vd(r,e,t){let n=ti(r,e,{message:t});if(n[0])throw n[0]}function W(r,e,t){let n=ti(r,e,{coerce:!0,message:t});if(n[0])throw n[0];return n[1]}function O1(r,e,t){let n=ti(r,e,{coerce:!0,mask:!0,message:t});if(n[0])throw n[0];return n[1]}function Wd(r,e){return!ti(r,e)[0]}function ti(r,e,t={}){let n=nu(r,e,t),s=I1(n);return s[0]?[new ru(s[0],function*(){for(let o of n)o[0]&&(yield o[0])}),void 0]:[void 0,s[1]]}function Kn(r,e){return new ir({type:r,schema:null,validator:e})}function qd(){return Kn("any",()=>!0)}function j(r){return new ir({type:"array",schema:r,*entries(e){if(r&&Array.isArray(e))for(let[t,n]of e.entries())yield[t,n,r]},coercer(e){return Array.isArray(e)?e.slice():e},validator(e){return Array.isArray(e)||`Expected an array value, but received: ${lr(e)}`}})}function dr(){return Kn("boolean",r=>typeof r=="boolean")}function Bo(r){return Kn("instance",e=>e instanceof r||`Expected a \`${r.name}\` instance, but received: ${lr(e)}`)}function Me(r){let e=lr(r),t=typeof r;return new ir({type:"literal",schema:t==="string"||t==="number"||t==="boolean"?r:null,validator(n){return n===r||`Expected the literal \`${e}\`, but received: ${lr(n)}`}})}function T1(){return Kn("never",()=>!1)}function K(r){return new ir({...r,validator:(e,t)=>e===null||r.validator(e,t),refiner:(e,t)=>e===null||r.refiner(e,t)})}function k(){return Kn("number",r=>typeof r=="number"&&!isNaN(r)||`Expected a number, but received: ${lr(r)}`)}function ne(r){return new ir({...r,validator:(e,t)=>e===void 0||r.validator(e,t),refiner:(e,t)=>e===void 0||r.refiner(e,t)})}function su(r,e){return new ir({type:"record",schema:null,*entries(t){if(ei(t))for(let n in t){let s=t[n];yield[n,n,r],yield[n,s,e]}},validator(t){return Lo(t)||`Expected an object, but received: ${lr(t)}`},coercer(t){return Lo(t)?{...t}:t}})}function z(){return Kn("string",r=>typeof r=="string"||`Expected a string, but received: ${lr(r)}`)}function Co(r){let e=T1();return new ir({type:"tuple",schema:null,*entries(t){if(Array.isArray(t)){let n=Math.max(r.length,t.length);for(let s=0;s<n;s++)yield[s,t[s],r[s]||e]}},validator(t){return Array.isArray(t)||`Expected an array, but received: ${lr(t)}`},coercer(t){return Array.isArray(t)?t.slice():t}})}function P(r){let e=Object.keys(r);return new ir({type:"type",schema:r,*entries(t){if(ei(t))for(let n of e)yield[n,t[n],r[n]]},validator(t){return Lo(t)||`Expected an object, but received: ${lr(t)}`},coercer(t){return Lo(t)?{...t}:t}})}function Nt(r){let e=r.map(t=>t.type).join(" | ");return new ir({type:"union",schema:null,coercer(t,n){for(let s of r){let[i,o]=s.validate(t,{coerce:!0,mask:n.mask});if(!i)return o}return t},validator(t,n){let s=[];for(let i of r){let[...o]=nu(t,i,n),[c]=o;if(c[0])for(let[u]of o)u&&s.push(u);else return[]}return[`Expected the value to satisfy a union of \`${e}\`, but received: ${lr(t)}`,...s]}})}function Hn(){return Kn("unknown",()=>!0)}function Is(r,e,t){return new ir({...r,coercer:(n,s)=>Wd(n,e)?r.coercer(t(n,s),s):r.coercer(n,s)})}var Qh=Sr(ph());var _h=Sr(Ws(),1);var Gn=Sr(gh(),1);var yh=Gn.default;var rE=class extends Gn.default{socket;constructor(r,e,t){super(),this.socket=new window.WebSocket(r,t),this.socket.onopen=()=>this.emit("open"),this.socket.onmessage=n=>this.emit("message",n.data),this.socket.onerror=n=>this.emit("error",n),this.socket.onclose=n=>{this.emit("close",n.code,n.reason)}}send(r,e,t){let n=t||e;try{this.socket.send(r),n()}catch(s){n(s)}}close(r,e){this.socket.close(r,e)}addEventListener(r,e,t){this.socket.addEventListener(r,e,t)}};function bh(r,e){return new rE(r,e)}var nE=class{encode(r){return JSON.stringify(r)}decode(r){return JSON.parse(r)}},wh=class extends Gn.default{address;rpc_id;queue;options;autoconnect;ready;reconnect;reconnect_timer_id;reconnect_interval;max_reconnects;rest_options;current_reconnects;generate_request_id;socket;webSocketFactory;dataPack;constructor(r,e="ws://localhost:8080",{autoconnect:t=!0,reconnect:n=!0,reconnect_interval:s=1e3,max_reconnects:i=5,...o}={},c,u){super(),this.webSocketFactory=r,this.queue={},this.rpc_id=0,this.address=e,this.autoconnect=t,this.ready=!1,this.reconnect=n,this.reconnect_timer_id=void 0,this.reconnect_interval=s,this.max_reconnects=i,this.rest_options=o,this.current_reconnects=0,this.generate_request_id=c||(()=>typeof this.rpc_id=="number"?++this.rpc_id:Number(this.rpc_id)+1),u?this.dataPack=u:this.dataPack=new nE,this.autoconnect&&this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}connect(){this.socket||this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}call(r,e,t,n){return!n&&typeof t=="object"&&(n=t,t=null),new Promise((s,i)=>{if(!this.ready)return i(new Error("socket not ready"));let o=this.generate_request_id(r,e),c={jsonrpc:"2.0",method:r,params:e||void 0,id:o};this.socket.send(this.dataPack.encode(c),n,u=>{if(u)return i(u);this.queue[o]={promise:[s,i]},t&&(this.queue[o].timeout=setTimeout(()=>{delete this.queue[o],i(new Error("reply timeout"))},t))})})}async login(r){let e=await this.call("rpc.login",r);if(!e)throw new Error("authentication failed");return e}async listMethods(){return await this.call("__listMethods")}notify(r,e){return new Promise((t,n)=>{if(!this.ready)return n(new Error("socket not ready"));let s={jsonrpc:"2.0",method:r,params:e};this.socket.send(this.dataPack.encode(s),i=>{if(i)return n(i);t()})})}async subscribe(r){typeof r=="string"&&(r=[r]);let e=await this.call("rpc.on",r);if(typeof r=="string"&&e[r]!=="ok")throw new Error("Failed subscribing to an event '"+r+"' with: "+e[r]);return e}async unsubscribe(r){typeof r=="string"&&(r=[r]);let e=await this.call("rpc.off",r);if(typeof r=="string"&&e[r]!=="ok")throw new Error("Failed unsubscribing from an event with: "+e);return e}close(r,e){this.socket.close(r||1e3,e)}setAutoReconnect(r){this.reconnect=r}setReconnectInterval(r){this.reconnect_interval=r}setMaxReconnects(r){this.max_reconnects=r}_connect(r,e){clearTimeout(this.reconnect_timer_id),this.socket=this.webSocketFactory(r,e),this.socket.addEventListener("open",()=>{this.ready=!0,this.emit("open"),this.current_reconnects=0}),this.socket.addEventListener("message",({data:t})=>{t instanceof ArrayBuffer&&(t=_h.Buffer.from(t).toString());try{t=this.dataPack.decode(t)}catch{return}if(t.notification&&this.listeners(t.notification).length){if(!Object.keys(t.params).length)return this.emit(t.notification);let n=[t.notification];if(t.params.constructor===Object)n.push(t.params);else for(let s=0;s<t.params.length;s++)n.push(t.params[s]);return Promise.resolve().then(()=>{this.emit.apply(this,n)})}if(!this.queue[t.id])return t.method?Promise.resolve().then(()=>{this.emit(t.method,t?.params)}):void 0;"error"in t=="result"in t&&this.queue[t.id].promise[1](new Error('Server response malformed. Response must include either "result" or "error", but not both.')),this.queue[t.id].timeout&&clearTimeout(this.queue[t.id].timeout),t.error?this.queue[t.id].promise[1](t.error):this.queue[t.id].promise[0](t.result),delete this.queue[t.id]}),this.socket.addEventListener("error",t=>this.emit("error",t)),this.socket.addEventListener("close",({code:t,reason:n})=>{this.ready&&setTimeout(()=>this.emit("close",t,n),0),this.ready=!1,this.socket=void 0,t!==1e3&&(this.current_reconnects++,this.reconnect&&(this.max_reconnects>this.current_reconnects||this.max_reconnects===0)&&(this.reconnect_timer_id=setTimeout(()=>this._connect(r,e),this.reconnect_interval)))})}};var vh=[],Sh=[],xh=[],sE=BigInt(0),ai=BigInt(1),iE=BigInt(2),oE=BigInt(7),aE=BigInt(256),cE=BigInt(113);for(let r=0,e=ai,t=1,n=0;r<24;r++){[t,n]=[n,(2*t+3*n)%5],vh.push(2*(5*n+t)),Sh.push((r+1)*(r+2)/2%64);let s=sE;for(let i=0;i<7;i++)e=(e<<ai^(e>>oE)*cE)%aE,e&iE&&(s^=ai<<(ai<<BigInt(i))-ai);xh.push(s)}var[uE,fE]=mc(xh,!0),Eh=(r,e,t)=>t>32?_c(r,e,t):gc(r,e,t),Rh=(r,e,t)=>t>32?bc(r,e,t):yc(r,e,t);function lE(r,e=24){let t=new Uint32Array(10);for(let n=24-e;n<24;n++){for(let o=0;o<10;o++)t[o]=r[o]^r[o+10]^r[o+20]^r[o+30]^r[o+40];for(let o=0;o<10;o+=2){let c=(o+8)%10,u=(o+2)%10,p=t[u],m=t[u+1],b=Eh(p,m,1)^t[c],x=Rh(p,m,1)^t[c+1];for(let S=0;S<50;S+=10)r[o+S]^=b,r[o+S+1]^=x}let s=r[2],i=r[3];for(let o=0;o<24;o++){let c=Sh[o],u=Eh(s,i,c),p=Rh(s,i,c),m=vh[o];s=r[m],i=r[m+1],r[m]=u,r[m+1]=p}for(let o=0;o<50;o+=10){for(let c=0;c<10;c++)t[c]=r[o+c];for(let c=0;c<10;c++)r[o+c]^=~t[(c+2)%10]&t[(c+4)%10]}r[0]^=uE[n],r[1]^=fE[n]}t.fill(0)}var $o=class r extends Gr{constructor(e,t,n,s=!1,i=24){if(super(),this.blockLen=e,this.suffix=t,this.outputLen=n,this.enableXOF=s,this.rounds=i,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,qs(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=Hl(this.state)}keccak(){lc||dc(this.state32),lE(this.state32,this.rounds),lc||dc(this.state32),this.posOut=0,this.pos=0}update(e){Tr(this);let{blockLen:t,state:n}=this;e=Zr(e);let s=e.length;for(let i=0;i<s;){let o=Math.min(t-this.pos,s-i);for(let c=0;c<o;c++)n[this.pos++]^=e[i++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;let{state:e,suffix:t,pos:n,blockLen:s}=this;e[n]^=t,(t&128)!==0&&n===s-1&&this.keccak(),e[s-1]^=128,this.keccak()}writeInto(e){Tr(this,!1),Hr(e),this.finish();let t=this.state,{blockLen:n}=this;for(let s=0,i=e.length;s<i;){this.posOut>=n&&this.keccak();let o=Math.min(n-this.posOut,i-s);e.set(t.subarray(this.posOut,this.posOut+o),s),this.posOut+=o,s+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return qs(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(Ki(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){let{blockLen:t,suffix:n,outputLen:s,rounds:i,enableXOF:o}=this;return e||(e=new r(t,n,s,o,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=n,e.outputLen=s,e.enableXOF=o,e.destroyed=this.destroyed,e}},ln=(r,e,t)=>bs(()=>new $o(e,r,t)),WA=ln(6,144,224/8),qA=ln(6,136,256/8),jA=ln(6,104,384/8),KA=ln(6,72,512/8),HA=ln(1,144,224/8),mu=ln(1,136,256/8),GA=ln(1,104,384/8),ZA=ln(1,72,512/8),Ah=(r,e,t)=>Zl((n={})=>new $o(e,r,n.dkLen===void 0?t:n.dkLen,!0)),YA=Ah(31,168,128/8),JA=Ah(31,136,256/8);var Vo=class extends Gr{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,Kl(e);let n=Zr(t);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let s=this.blockLen,i=new Uint8Array(s);i.set(n.length>s?e.create().update(n).digest():n);for(let o=0;o<i.length;o++)i[o]^=54;this.iHash.update(i),this.oHash=e.create();for(let o=0;o<i.length;o++)i[o]^=106;this.oHash.update(i),i.fill(0)}update(e){return Tr(this),this.iHash.update(e),this}digestInto(e){Tr(this),Hr(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){let e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));let{oHash:t,iHash:n,finished:s,destroyed:i,blockLen:o,outputLen:c}=this;return e=e,e.finished=s,e.destroyed=i,e.blockLen=o,e.outputLen=c,e.oHash=t._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}},gu=(r,e,t)=>new Vo(r,e).update(t).digest();gu.create=(r,e)=>new Vo(r,e);function Ih(r){r.lowS!==void 0&&ur("lowS",r.lowS),r.prehash!==void 0&&ur("prehash",r.prehash)}function dE(r){let e=Hs(r);br(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});let{endo:t,Fp:n,a:s}=e;if(t){if(!n.eql(s,n.ZERO))throw new Error("invalid endomorphism, can only be defined for Koblitz curves that have a=0");if(typeof t!="object"||typeof t.beta!="bigint"||typeof t.splitScalar!="function")throw new Error("invalid endomorphism, expected beta: bigint and splitScalar: function")}return Object.freeze({...e})}var{bytesToNumberBE:hE,hexToBytes:pE}=Xi,yu=class extends Error{constructor(e=""){super(e)}},Ur={Err:yu,_tlv:{encode:(r,e)=>{let{Err:t}=Ur;if(r<0||r>256)throw new t("tlv.encode: wrong tag");if(e.length&1)throw new t("tlv.encode: unpadded data");let n=e.length/2,s=Un(n);if(s.length/2&128)throw new t("tlv.encode: long form length too big");let i=n>127?Un(s.length/2|128):"";return Un(r)+i+s+e},decode(r,e){let{Err:t}=Ur,n=0;if(r<0||r>256)throw new t("tlv.encode: wrong tag");if(e.length<2||e[n++]!==r)throw new t("tlv.decode: wrong tlv");let s=e[n++],i=!!(s&128),o=0;if(!i)o=s;else{let u=s&127;if(!u)throw new t("tlv.decode(long): indefinite length not supported");if(u>4)throw new t("tlv.decode(long): byte length is too big");let p=e.subarray(n,n+u);if(p.length!==u)throw new t("tlv.decode: length bytes not complete");if(p[0]===0)throw new t("tlv.decode(long): zero leftmost byte");for(let m of p)o=o<<8|m;if(n+=u,o<128)throw new t("tlv.decode(long): not minimal encoding")}let c=e.subarray(n,n+o);if(c.length!==o)throw new t("tlv.decode: wrong value length");return{v:c,l:e.subarray(n+o)}}},_int:{encode(r){let{Err:e}=Ur;if(r<Dr)throw new e("integer: negative integers are not allowed");let t=Un(r);if(Number.parseInt(t[0],16)&8&&(t="00"+t),t.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return t},decode(r){let{Err:e}=Ur;if(r[0]&128)throw new e("invalid signature integer: negative");if(r[0]===0&&!(r[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return hE(r)}},toSig(r){let{Err:e,_int:t,_tlv:n}=Ur,s=typeof r=="string"?pE(r):r;Es(s);let{v:i,l:o}=n.decode(48,s);if(o.length)throw new e("invalid signature: left bytes after parsing");let{v:c,l:u}=n.decode(2,i),{v:p,l:m}=n.decode(2,u);if(m.length)throw new e("invalid signature: left bytes after parsing");return{r:t.decode(c),s:t.decode(p)}},hexFromSig(r){let{_tlv:e,_int:t}=Ur,n=e.encode(2,t.encode(r.r)),s=e.encode(2,t.encode(r.s)),i=n+s;return e.encode(48,i)}},Dr=BigInt(0),Et=BigInt(1),iI=BigInt(2),kh=BigInt(3),oI=BigInt(4);function mE(r){let e=dE(r),{Fp:t}=e,n=tn(e.n,e.nBitLength),s=e.toBytes||((I,A,L)=>{let U=A.toAffine();return Cr(Uint8Array.from([4]),t.toBytes(U.x),t.toBytes(U.y))}),i=e.fromBytes||(I=>{let A=I.subarray(1),L=t.fromBytes(A.subarray(0,t.BYTES)),U=t.fromBytes(A.subarray(t.BYTES,2*t.BYTES));return{x:L,y:U}});function o(I){let{a:A,b:L}=e,U=t.sqr(I),B=t.mul(U,I);return t.add(t.add(B,t.mul(I,A)),L)}if(!t.eql(t.sqr(e.Gy),o(e.Gx)))throw new Error("bad generator point: equation left != right");function c(I){return js(I,Et,e.n)}function u(I){let{allowedPrivateKeyLengths:A,nByteLength:L,wrapPrivateKey:U,n:B}=e;if(A&&typeof I!="bigint"){if(Xr(I)&&(I=Lr(I)),typeof I!="string"||!A.includes(I.length))throw new Error("invalid private key");I=I.padStart(L*2,"0")}let F;try{F=typeof I=="bigint"?I:Br(We("private key",I,L))}catch{throw new Error("invalid private key, expected hex or "+L+" bytes, got "+typeof I)}return U&&(F=ke(F,B)),jt("private key",F,Et,B),F}function p(I){if(!(I instanceof x))throw new Error("ProjectivePoint expected")}let m=Fn((I,A)=>{let{px:L,py:U,pz:B}=I;if(t.eql(B,t.ONE))return{x:L,y:U};let F=I.is0();A==null&&(A=F?t.ONE:t.inv(B));let te=t.mul(L,A),G=t.mul(U,A),Z=t.mul(B,A);if(F)return{x:t.ZERO,y:t.ZERO};if(!t.eql(Z,t.ONE))throw new Error("invZ was invalid");return{x:te,y:G}}),b=Fn(I=>{if(I.is0()){if(e.allowInfinityPoint&&!t.is0(I.py))return;throw new Error("bad point: ZERO")}let{x:A,y:L}=I.toAffine();if(!t.isValid(A)||!t.isValid(L))throw new Error("bad point: x or y not FE");let U=t.sqr(L),B=o(A);if(!t.eql(U,B))throw new Error("bad point: equation left != right");if(!I.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class x{constructor(A,L,U){if(this.px=A,this.py=L,this.pz=U,A==null||!t.isValid(A))throw new Error("x required");if(L==null||!t.isValid(L))throw new Error("y required");if(U==null||!t.isValid(U))throw new Error("z required");Object.freeze(this)}static fromAffine(A){let{x:L,y:U}=A||{};if(!A||!t.isValid(L)||!t.isValid(U))throw new Error("invalid affine point");if(A instanceof x)throw new Error("projective point not allowed");let B=F=>t.eql(F,t.ZERO);return B(L)&&B(U)?x.ZERO:new x(L,U,t.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(A){let L=t.invertBatch(A.map(U=>U.pz));return A.map((U,B)=>U.toAffine(L[B])).map(x.fromAffine)}static fromHex(A){let L=x.fromAffine(i(We("pointHex",A)));return L.assertValidity(),L}static fromPrivateKey(A){return x.BASE.multiply(u(A))}static msm(A,L){return ro(x,n,A,L)}_setWindowSize(A){T.setWindowSize(this,A)}assertValidity(){b(this)}hasEvenY(){let{y:A}=this.toAffine();if(t.isOdd)return!t.isOdd(A);throw new Error("Field doesn't support isOdd")}equals(A){p(A);let{px:L,py:U,pz:B}=this,{px:F,py:te,pz:G}=A,Z=t.eql(t.mul(L,G),t.mul(F,B)),ee=t.eql(t.mul(U,G),t.mul(te,B));return Z&&ee}negate(){return new x(this.px,t.neg(this.py),this.pz)}double(){let{a:A,b:L}=e,U=t.mul(L,kh),{px:B,py:F,pz:te}=this,G=t.ZERO,Z=t.ZERO,ee=t.ZERO,Y=t.mul(B,B),Ie=t.mul(F,F),re=t.mul(te,te),le=t.mul(B,F);return le=t.add(le,le),ee=t.mul(B,te),ee=t.add(ee,ee),G=t.mul(A,ee),Z=t.mul(U,re),Z=t.add(G,Z),G=t.sub(Ie,Z),Z=t.add(Ie,Z),Z=t.mul(G,Z),G=t.mul(le,G),ee=t.mul(U,ee),re=t.mul(A,re),le=t.sub(Y,re),le=t.mul(A,le),le=t.add(le,ee),ee=t.add(Y,Y),Y=t.add(ee,Y),Y=t.add(Y,re),Y=t.mul(Y,le),Z=t.add(Z,Y),re=t.mul(F,te),re=t.add(re,re),Y=t.mul(re,le),G=t.sub(G,Y),ee=t.mul(re,Ie),ee=t.add(ee,ee),ee=t.add(ee,ee),new x(G,Z,ee)}add(A){p(A);let{px:L,py:U,pz:B}=this,{px:F,py:te,pz:G}=A,Z=t.ZERO,ee=t.ZERO,Y=t.ZERO,Ie=e.a,re=t.mul(e.b,kh),le=t.mul(L,F),E=t.mul(U,te),a=t.mul(B,G),l=t.add(L,U),d=t.add(F,te);l=t.mul(l,d),d=t.add(le,E),l=t.sub(l,d),d=t.add(L,B);let h=t.add(F,G);return d=t.mul(d,h),h=t.add(le,a),d=t.sub(d,h),h=t.add(U,B),Z=t.add(te,G),h=t.mul(h,Z),Z=t.add(E,a),h=t.sub(h,Z),Y=t.mul(Ie,d),Z=t.mul(re,a),Y=t.add(Z,Y),Z=t.sub(E,Y),Y=t.add(E,Y),ee=t.mul(Z,Y),E=t.add(le,le),E=t.add(E,le),a=t.mul(Ie,a),d=t.mul(re,d),E=t.add(E,a),a=t.sub(le,a),a=t.mul(Ie,a),d=t.add(d,a),le=t.mul(E,d),ee=t.add(ee,le),le=t.mul(h,d),Z=t.mul(l,Z),Z=t.sub(Z,le),le=t.mul(l,E),Y=t.mul(h,Y),Y=t.add(Y,le),new x(Z,ee,Y)}subtract(A){return this.add(A.negate())}is0(){return this.equals(x.ZERO)}wNAF(A){return T.wNAFCached(this,A,x.normalizeZ)}multiplyUnsafe(A){let{endo:L,n:U}=e;jt("scalar",A,Dr,U);let B=x.ZERO;if(A===Dr)return B;if(this.is0()||A===Et)return this;if(!L||T.hasPrecomputes(this))return T.wNAFCachedUnsafe(this,A,x.normalizeZ);let{k1neg:F,k1:te,k2neg:G,k2:Z}=L.splitScalar(A),ee=B,Y=B,Ie=this;for(;te>Dr||Z>Dr;)te&Et&&(ee=ee.add(Ie)),Z&Et&&(Y=Y.add(Ie)),Ie=Ie.double(),te>>=Et,Z>>=Et;return F&&(ee=ee.negate()),G&&(Y=Y.negate()),Y=new x(t.mul(Y.px,L.beta),Y.py,Y.pz),ee.add(Y)}multiply(A){let{endo:L,n:U}=e;jt("scalar",A,Et,U);let B,F;if(L){let{k1neg:te,k1:G,k2neg:Z,k2:ee}=L.splitScalar(A),{p:Y,f:Ie}=this.wNAF(G),{p:re,f:le}=this.wNAF(ee);Y=T.constTimeNegate(te,Y),re=T.constTimeNegate(Z,re),re=new x(t.mul(re.px,L.beta),re.py,re.pz),B=Y.add(re),F=Ie.add(le)}else{let{p:te,f:G}=this.wNAF(A);B=te,F=G}return x.normalizeZ([B,F])[0]}multiplyAndAddUnsafe(A,L,U){let B=x.BASE,F=(G,Z)=>Z===Dr||Z===Et||!G.equals(B)?G.multiplyUnsafe(Z):G.multiply(Z),te=F(this,L).add(F(A,U));return te.is0()?void 0:te}toAffine(A){return m(this,A)}isTorsionFree(){let{h:A,isTorsionFree:L}=e;if(A===Et)return!0;if(L)return L(x,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){let{h:A,clearCofactor:L}=e;return A===Et?this:L?L(x,this):this.multiplyUnsafe(e.h)}toRawBytes(A=!0){return ur("isCompressed",A),this.assertValidity(),s(x,this,A)}toHex(A=!0){return ur("isCompressed",A),Lr(this.toRawBytes(A))}}x.BASE=new x(e.Gx,e.Gy,t.ONE),x.ZERO=new x(t.ZERO,t.ONE,t.ZERO);let S=e.nBitLength,T=to(x,e.endo?Math.ceil(S/2):S);return{CURVE:e,ProjectivePoint:x,normPrivateKeyToScalar:u,weierstrassEquation:o,isWithinCurveOrder:c}}function gE(r){let e=Hs(r);return br(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function Oh(r){let e=gE(r),{Fp:t,n}=e,s=t.BYTES+1,i=2*t.BYTES+1;function o(a){return ke(a,n)}function c(a){return Qi(a,n)}let{ProjectivePoint:u,normPrivateKeyToScalar:p,weierstrassEquation:m,isWithinCurveOrder:b}=mE({...e,toBytes(a,l,d){let h=l.toAffine(),g=t.toBytes(h.x),w=Cr;return ur("isCompressed",d),d?w(Uint8Array.from([l.hasEvenY()?2:3]),g):w(Uint8Array.from([4]),g,t.toBytes(h.y))},fromBytes(a){let l=a.length,d=a[0],h=a.subarray(1);if(l===s&&(d===2||d===3)){let g=Br(h);if(!js(g,Et,t.ORDER))throw new Error("Point is not on curve");let w=m(g),v;try{v=t.sqrt(w)}catch(_){let C=_ instanceof Error?": "+_.message:"";throw new Error("Point is not on curve"+C)}let y=(v&Et)===Et;return(d&1)===1!==y&&(v=t.neg(v)),{x:g,y:v}}else if(l===i&&d===4){let g=t.fromBytes(h.subarray(0,t.BYTES)),w=t.fromBytes(h.subarray(t.BYTES,2*t.BYTES));return{x:g,y:w}}else{let g=s,w=i;throw new Error("invalid Point, expected length of "+g+", or uncompressed "+w+", got "+l)}}}),x=a=>Lr(en(a,e.nByteLength));function S(a){let l=n>>Et;return a>l}function T(a){return S(a)?o(-a):a}let I=(a,l,d)=>Br(a.slice(l,d));class A{constructor(l,d,h){this.r=l,this.s=d,this.recovery=h,this.assertValidity()}static fromCompact(l){let d=e.nByteLength;return l=We("compactSignature",l,d*2),new A(I(l,0,d),I(l,d,2*d))}static fromDER(l){let{r:d,s:h}=Ur.toSig(We("DER",l));return new A(d,h)}assertValidity(){jt("r",this.r,Et,n),jt("s",this.s,Et,n)}addRecoveryBit(l){return new A(this.r,this.s,l)}recoverPublicKey(l){let{r:d,s:h,recovery:g}=this,w=G(We("msgHash",l));if(g==null||![0,1,2,3].includes(g))throw new Error("recovery id invalid");let v=g===2||g===3?d+e.n:d;if(v>=t.ORDER)throw new Error("recovery id 2 or 3 invalid");let y=(g&1)===0?"02":"03",f=u.fromHex(y+x(v)),_=c(v),C=o(-w*_),D=o(h*_),$=u.BASE.multiplyAndAddUnsafe(f,C,D);if(!$)throw new Error("point at infinify");return $.assertValidity(),$}hasHighS(){return S(this.s)}normalizeS(){return this.hasHighS()?new A(this.r,o(-this.s),this.recovery):this}toDERRawBytes(){return Dn(this.toDERHex())}toDERHex(){return Ur.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return Dn(this.toCompactHex())}toCompactHex(){return x(this.r)+x(this.s)}}let L={isValidPrivateKey(a){try{return p(a),!0}catch{return!1}},normPrivateKeyToScalar:p,randomPrivateKey:()=>{let a=Oc(e.n);return od(e.randomBytes(a),e.n)},precompute(a=8,l=u.BASE){return l._setWindowSize(a),l.multiply(BigInt(3)),l}};function U(a,l=!0){return u.fromPrivateKey(a).toRawBytes(l)}function B(a){let l=Xr(a),d=typeof a=="string",h=(l||d)&&a.length;return l?h===s||h===i:d?h===2*s||h===2*i:a instanceof u}function F(a,l,d=!0){if(B(a))throw new Error("first arg must be private key");if(!B(l))throw new Error("second arg must be public key");return u.fromHex(l).multiply(p(a)).toRawBytes(d)}let te=e.bits2int||function(a){if(a.length>8192)throw new Error("input is too large");let l=Br(a),d=a.length*8-e.nBitLength;return d>0?l>>BigInt(d):l},G=e.bits2int_modN||function(a){return o(te(a))},Z=Ks(e.nBitLength);function ee(a){return jt("num < 2^"+e.nBitLength,a,Dr,Z),en(a,e.nByteLength)}function Y(a,l,d=Ie){if(["recovered","canonical"].some(ie=>ie in d))throw new Error("sign() legacy options not supported");let{hash:h,randomBytes:g}=e,{lowS:w,prehash:v,extraEntropy:y}=d;w==null&&(w=!0),a=We("msgHash",a),Ih(d),v&&(a=We("prehashed msgHash",h(a)));let f=G(a),_=p(l),C=[ee(_),ee(f)];if(y!=null&&y!==!1){let ie=y===!0?g(t.BYTES):y;C.push(We("extraEntropy",ie))}let D=Cr(...C),$=f;function X(ie){let fe=te(ie);if(!b(fe))return;let Be=c(fe),he=u.BASE.multiply(fe).toAffine(),me=o(he.x);if(me===Dr)return;let Gt=o(Be*o($+me*_));if(Gt===Dr)return;let xe=(he.x===me?0:2)|Number(he.y&Et),Ne=Gt;return w&&S(Gt)&&(Ne=T(Gt),xe^=1),new A(me,Ne,xe)}return{seed:D,k2sig:X}}let Ie={lowS:e.lowS,prehash:!1},re={lowS:e.lowS,prehash:!1};function le(a,l,d=Ie){let{seed:h,k2sig:g}=Y(a,l,d),w=e;return xc(w.hash.outputLen,w.nByteLength,w.hmac)(h,g)}u.BASE._setWindowSize(8);function E(a,l,d,h=re){let g=a;l=We("msgHash",l),d=We("publicKey",d);let{lowS:w,prehash:v,format:y}=h;if(Ih(h),"strict"in h)throw new Error("options.strict was renamed to lowS");if(y!==void 0&&y!=="compact"&&y!=="der")throw new Error("format must be compact or der");let f=typeof g=="string"||Xr(g),_=!f&&!y&&typeof g=="object"&&g!==null&&typeof g.r=="bigint"&&typeof g.s=="bigint";if(!f&&!_)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let C,D;try{if(_&&(C=new A(g.r,g.s)),f){try{y!=="compact"&&(C=A.fromDER(g))}catch(xe){if(!(xe instanceof Ur.Err))throw xe}!C&&y!=="der"&&(C=A.fromCompact(g))}D=u.fromHex(d)}catch{return!1}if(!C||w&&C.hasHighS())return!1;v&&(l=e.hash(l));let{r:$,s:X}=C,ie=G(l),fe=c(X),Be=o(ie*fe),he=o($*fe),me=u.BASE.multiplyAndAddUnsafe(D,Be,he)?.toAffine();return me?o(me.x)===$:!1}return{CURVE:e,getPublicKey:U,getSharedSecret:F,sign:le,verify:E,ProjectivePoint:u,Signature:A,utils:L}}function yE(r){return{hash:r,hmac:(e,...t)=>gu(r,e,hc(...t)),randomBytes:Gi}}function Th(r,e){let t=n=>Oh({...r,...yE(n)});return{...t(e),create:t}}var Bh=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),Nh=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),_E=BigInt(1),_u=BigInt(2),Lh=(r,e)=>(r+e/_u)/e;function bE(r){let e=Bh,t=BigInt(3),n=BigInt(6),s=BigInt(11),i=BigInt(22),o=BigInt(23),c=BigInt(44),u=BigInt(88),p=r*r*r%e,m=p*p*r%e,b=Pe(m,t,e)*m%e,x=Pe(b,t,e)*m%e,S=Pe(x,_u,e)*p%e,T=Pe(S,s,e)*S%e,I=Pe(T,i,e)*T%e,A=Pe(I,c,e)*I%e,L=Pe(A,u,e)*A%e,U=Pe(L,c,e)*I%e,B=Pe(U,t,e)*m%e,F=Pe(B,o,e)*T%e,te=Pe(F,n,e)*p%e,G=Pe(te,_u,e);if(!bu.eql(bu.sqr(G),r))throw new Error("Cannot find square root");return G}var bu=tn(Bh,void 0,void 0,{sqrt:bE}),ci=Th({a:BigInt(0),b:BigInt(7),Fp:bu,n:Nh,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:r=>{let e=Nh,t=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-_E*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),s=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),i=t,o=BigInt("0x100000000000000000000000000000000"),c=Lh(i*r,e),u=Lh(-n*r,e),p=ke(r-c*t-u*s,e),m=ke(-c*n-u*i,e),b=p>o,x=m>o;if(b&&(p=e-p),x&&(m=e-m),p>o||m>o)throw new Error("splitScalar: Endomorphism failed, k="+r);return{k1neg:b,k1:p,k2neg:x,k2:m}}}},Gs),mI=BigInt(0);var gI=ci.ProjectivePoint;var xI=Vn.utils.randomPrivateKey,Ch=()=>{let r=Vn.utils.randomPrivateKey(),e=Ou(r),t=new Uint8Array(64);return t.set(r),t.set(e,32),{publicKey:e,secretKey:t}},Ou=Vn.getPublicKey;function Ph(r){try{return Vn.ExtendedPoint.fromHex(r),!0}catch{return!1}}var Wu=(r,e)=>Vn.sign(r,e.slice(0,32)),wE=Vn.verify,we=r=>ce.Buffer.isBuffer(r)?r:r instanceof Uint8Array?ce.Buffer.from(r.buffer,r.byteOffset,r.byteLength):ce.Buffer.from(r),Tu=class{constructor(e){Object.assign(this,e)}encode(){return ce.Buffer.from((0,Ns.serialize)(jo,this))}static decode(e){return(0,Ns.deserialize)(jo,this,e)}static decodeUnchecked(e){return(0,Ns.deserializeUnchecked)(jo,this,e)}};var jo=new Map,ep,EE=32,pn=32;function RE(r){return r._bn!==void 0}var Mh=1,ue=class r extends Tu{constructor(e){if(super({}),this._bn=void 0,RE(e))this._bn=e._bn;else{if(typeof e=="string"){let t=Rt.default.decode(e);if(t.length!=pn)throw new Error("Invalid public key input");this._bn=new ku.default(t)}else this._bn=new ku.default(e);if(this._bn.byteLength()>pn)throw new Error("Invalid public key input")}}static unique(){let e=new r(Mh);return Mh+=1,new r(e.toBuffer())}equals(e){return this._bn.eq(e._bn)}toBase58(){return Rt.default.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){let e=this.toBuffer();return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}toBuffer(){let e=this._bn.toArrayLike(ce.Buffer);if(e.length===pn)return e;let t=ce.Buffer.alloc(32);return e.copy(t,32-e.length),t}get[Symbol.toStringTag](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(e,t,n){let s=ce.Buffer.concat([e.toBuffer(),ce.Buffer.from(t),n.toBuffer()]),i=Gs(s);return new r(i)}static createProgramAddressSync(e,t){let n=ce.Buffer.alloc(0);e.forEach(function(i){if(i.length>EE)throw new TypeError("Max seed length exceeded");n=ce.Buffer.concat([n,we(i)])}),n=ce.Buffer.concat([n,t.toBuffer(),ce.Buffer.from("ProgramDerivedAddress")]);let s=Gs(n);if(Ph(s))throw new Error("Invalid seeds, address must fall off the curve");return new r(s)}static async createProgramAddress(e,t){return this.createProgramAddressSync(e,t)}static findProgramAddressSync(e,t){let n=255,s;for(;n!=0;){try{let i=e.concat(ce.Buffer.from([n]));s=this.createProgramAddressSync(i,t)}catch(i){if(i instanceof TypeError)throw i;n--;continue}return[s,n]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(e,t){return this.findProgramAddressSync(e,t)}static isOnCurve(e){let t=new r(e);return Ph(t.toBytes())}};ep=ue;ue.default=new ep("11111111111111111111111111111111");jo.set(ue,{kind:"struct",fields:[["_bn","u256"]]});var AI=new ue("BPFLoader1111111111111111111111111111111111"),Jn=1232,qu=127,Ko=64,Ho=class extends Error{constructor(e){super(`Signature ${e} has expired: block height exceeded.`),this.signature=void 0,this.signature=e}};Object.defineProperty(Ho.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});var Go=class extends Error{constructor(e,t){super(`Transaction was not confirmed in ${t.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${e} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=e}};Object.defineProperty(Go.prototype,"name",{value:"TransactionExpiredTimeoutError"});var Yn=class extends Error{constructor(e){super(`Signature ${e} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=e}};Object.defineProperty(Yn.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});var Os=class{constructor(e,t){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=e,this.accountKeysFromLookups=t}keySegments(){let e=[this.staticAccountKeys];return this.accountKeysFromLookups&&(e.push(this.accountKeysFromLookups.writable),e.push(this.accountKeysFromLookups.readonly)),e}get(e){for(let t of this.keySegments()){if(e<t.length)return t[e];e-=t.length}}get length(){return this.keySegments().flat().length}compileInstructions(e){if(this.length>256)throw new Error("Account index overflow encountered during compilation");let n=new Map;this.keySegments().flat().forEach((i,o)=>{n.set(i.toBase58(),o)});let s=i=>{let o=n.get(i.toBase58());if(o===void 0)throw new Error("Encountered an unknown instruction account key during compilation");return o};return e.map(i=>({programIdIndex:s(i.programId),accountKeyIndexes:i.keys.map(o=>s(o.pubkey)),data:i.data}))}},be=(r="publicKey")=>R.blob(32,r),vE=(r="signature")=>R.blob(64,r),ks=(r="string")=>{let e=R.struct([R.u32("length"),R.u32("lengthPadding"),R.blob(R.offset(R.u32(),-8),"chars")],r),t=e.decode.bind(e),n=e.encode.bind(e),s=e;return s.decode=(i,o)=>t(i,o).chars.toString(),s.encode=(i,o,c)=>{let u={chars:ce.Buffer.from(i,"utf8")};return n(u,o,c)},s.alloc=i=>R.u32().span+R.u32().span+ce.Buffer.from(i,"utf8").length,s},SE=(r="authorized")=>R.struct([be("staker"),be("withdrawer")],r),xE=(r="lockup")=>R.struct([R.ns64("unixTimestamp"),R.ns64("epoch"),be("custodian")],r),AE=(r="voteInit")=>R.struct([be("nodePubkey"),be("authorizedVoter"),be("authorizedWithdrawer"),R.u8("commission")],r),IE=(r="voteAuthorizeWithSeedArgs")=>R.struct([R.u32("voteAuthorizationType"),be("currentAuthorityDerivedKeyOwnerPubkey"),ks("currentAuthorityDerivedKeySeed"),be("newAuthorized")],r);function tp(r,e){let t=s=>{if(s.span>=0)return s.span;if(typeof s.alloc=="function")return s.alloc(e[s.property]);if("count"in s&&"elementLayout"in s){let i=e[s.property];if(Array.isArray(i))return i.length*t(s.elementLayout)}else if("fields"in s)return tp({layout:s},e[s.property]);return 0},n=0;return r.layout.fields.forEach(s=>{n+=t(s)}),n}function Yt(r){let e=0,t=0;for(;;){let n=r.shift();if(e|=(n&127)<<t*7,t+=1,(n&128)===0)break}return e}function Jt(r,e){let t=e;for(;;){let n=t&127;if(t>>=7,t==0){r.push(n);break}else n|=128,r.push(n)}}function Ae(r,e){if(!r)throw new Error(e||"Assertion failed")}var Zo=class r{constructor(e,t){this.payer=void 0,this.keyMetaMap=void 0,this.payer=e,this.keyMetaMap=t}static compile(e,t){let n=new Map,s=o=>{let c=o.toBase58(),u=n.get(c);return u===void 0&&(u={isSigner:!1,isWritable:!1,isInvoked:!1},n.set(c,u)),u},i=s(t);i.isSigner=!0,i.isWritable=!0;for(let o of e){s(o.programId).isInvoked=!0;for(let c of o.keys){let u=s(c.pubkey);u.isSigner||=c.isSigner,u.isWritable||=c.isWritable}}return new r(t,n)}getMessageComponents(){let e=[...this.keyMetaMap.entries()];Ae(e.length<=256,"Max static account keys length exceeded");let t=e.filter(([,u])=>u.isSigner&&u.isWritable),n=e.filter(([,u])=>u.isSigner&&!u.isWritable),s=e.filter(([,u])=>!u.isSigner&&u.isWritable),i=e.filter(([,u])=>!u.isSigner&&!u.isWritable),o={numRequiredSignatures:t.length+n.length,numReadonlySignedAccounts:n.length,numReadonlyUnsignedAccounts:i.length};{Ae(t.length>0,"Expected at least one writable signer key");let[u]=t[0];Ae(u===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}let c=[...t.map(([u])=>new ue(u)),...n.map(([u])=>new ue(u)),...s.map(([u])=>new ue(u)),...i.map(([u])=>new ue(u))];return[o,c]}extractTableLookup(e){let[t,n]=this.drainKeysFoundInLookupTable(e.state.addresses,o=>!o.isSigner&&!o.isInvoked&&o.isWritable),[s,i]=this.drainKeysFoundInLookupTable(e.state.addresses,o=>!o.isSigner&&!o.isInvoked&&!o.isWritable);if(!(t.length===0&&s.length===0))return[{accountKey:e.key,writableIndexes:t,readonlyIndexes:s},{writable:n,readonly:i}]}drainKeysFoundInLookupTable(e,t){let n=new Array,s=new Array;for(let[i,o]of this.keyMetaMap.entries())if(t(o)){let c=new ue(i),u=e.findIndex(p=>p.equals(c));u>=0&&(Ae(u<256,"Max lookup table index exceeded"),n.push(u),s.push(c),this.keyMetaMap.delete(i))}return[n,s]}},rp="Reached end of buffer unexpectedly";function Fr(r){if(r.length===0)throw new Error(rp);return r.shift()}function Xt(r,...e){let[t]=e;if(e.length===2?t+(e[1]??0)>r.length:t>=r.length)throw new Error(rp);return r.splice(...e)}var mn=class r{constructor(e){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=e.header,this.accountKeys=e.accountKeys.map(t=>new ue(t)),this.recentBlockhash=e.recentBlockhash,this.instructions=e.instructions,this.instructions.forEach(t=>this.indexToProgramIds.set(t.programIdIndex,this.accountKeys[t.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:Rt.default.decode(e.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new Os(this.staticAccountKeys)}static compile(e){let t=Zo.compile(e.instructions,e.payerKey),[n,s]=t.getMessageComponents(),o=new Os(s).compileInstructions(e.instructions).map(c=>({programIdIndex:c.programIdIndex,accounts:c.accountKeyIndexes,data:Rt.default.encode(c.data)}));return new r({header:n,accountKeys:s,recentBlockhash:e.recentBlockhash,instructions:o})}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){let t=this.header.numRequiredSignatures;if(e>=this.header.numRequiredSignatures){let n=e-t,i=this.accountKeys.length-t-this.header.numReadonlyUnsignedAccounts;return n<i}else{let n=t-this.header.numReadonlySignedAccounts;return e<n}}isProgramId(e){return this.indexToProgramIds.has(e)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((e,t)=>!this.isProgramId(t))}serialize(){let e=this.accountKeys.length,t=[];Jt(t,e);let n=this.instructions.map(b=>{let{accounts:x,programIdIndex:S}=b,T=Array.from(Rt.default.decode(b.data)),I=[];Jt(I,x.length);let A=[];return Jt(A,T.length),{programIdIndex:S,keyIndicesCount:ce.Buffer.from(I),keyIndices:x,dataLength:ce.Buffer.from(A),data:T}}),s=[];Jt(s,n.length);let i=ce.Buffer.alloc(Jn);ce.Buffer.from(s).copy(i);let o=s.length;n.forEach(b=>{let S=R.struct([R.u8("programIdIndex"),R.blob(b.keyIndicesCount.length,"keyIndicesCount"),R.seq(R.u8("keyIndex"),b.keyIndices.length,"keyIndices"),R.blob(b.dataLength.length,"dataLength"),R.seq(R.u8("userdatum"),b.data.length,"data")]).encode(b,i,o);o+=S}),i=i.slice(0,o);let c=R.struct([R.blob(1,"numRequiredSignatures"),R.blob(1,"numReadonlySignedAccounts"),R.blob(1,"numReadonlyUnsignedAccounts"),R.blob(t.length,"keyCount"),R.seq(be("key"),e,"keys"),be("recentBlockhash")]),u={numRequiredSignatures:ce.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:ce.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:ce.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:ce.Buffer.from(t),keys:this.accountKeys.map(b=>we(b.toBytes())),recentBlockhash:Rt.default.decode(this.recentBlockhash)},p=ce.Buffer.alloc(2048),m=c.encode(u,p);return i.copy(p,m),p.slice(0,m+i.length)}static from(e){let t=[...e],n=Fr(t);if(n!==(n&qu))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");let s=Fr(t),i=Fr(t),o=Yt(t),c=[];for(let x=0;x<o;x++){let S=Xt(t,0,pn);c.push(new ue(ce.Buffer.from(S)))}let u=Xt(t,0,pn),p=Yt(t),m=[];for(let x=0;x<p;x++){let S=Fr(t),T=Yt(t),I=Xt(t,0,T),A=Yt(t),L=Xt(t,0,A),U=Rt.default.encode(ce.Buffer.from(L));m.push({programIdIndex:S,accounts:I,data:U})}let b={header:{numRequiredSignatures:n,numReadonlySignedAccounts:s,numReadonlyUnsignedAccounts:i},recentBlockhash:Rt.default.encode(ce.Buffer.from(u)),accountKeys:c,instructions:m};return new r(b)}},Yo=class r{constructor(e){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=e.header,this.staticAccountKeys=e.staticAccountKeys,this.recentBlockhash=e.recentBlockhash,this.compiledInstructions=e.compiledInstructions,this.addressTableLookups=e.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let e=0;for(let t of this.addressTableLookups)e+=t.readonlyIndexes.length+t.writableIndexes.length;return e}getAccountKeys(e){let t;if(e&&"accountKeysFromLookups"in e&&e.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=e.accountKeysFromLookups.writable.length+e.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");t=e.accountKeysFromLookups}else if(e&&"addressLookupTableAccounts"in e&&e.addressLookupTableAccounts)t=this.resolveAddressTableLookups(e.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new Os(this.staticAccountKeys,t)}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){let t=this.header.numRequiredSignatures,n=this.staticAccountKeys.length;if(e>=n){let s=e-n,i=this.addressTableLookups.reduce((o,c)=>o+c.writableIndexes.length,0);return s<i}else if(e>=this.header.numRequiredSignatures){let s=e-t,o=n-t-this.header.numReadonlyUnsignedAccounts;return s<o}else{let s=t-this.header.numReadonlySignedAccounts;return e<s}}resolveAddressTableLookups(e){let t={writable:[],readonly:[]};for(let n of this.addressTableLookups){let s=e.find(i=>i.key.equals(n.accountKey));if(!s)throw new Error(`Failed to find address lookup table account for table key ${n.accountKey.toBase58()}`);for(let i of n.writableIndexes)if(i<s.state.addresses.length)t.writable.push(s.state.addresses[i]);else throw new Error(`Failed to find address for index ${i} in address lookup table ${n.accountKey.toBase58()}`);for(let i of n.readonlyIndexes)if(i<s.state.addresses.length)t.readonly.push(s.state.addresses[i]);else throw new Error(`Failed to find address for index ${i} in address lookup table ${n.accountKey.toBase58()}`)}return t}static compile(e){let t=Zo.compile(e.instructions,e.payerKey),n=new Array,s={writable:new Array,readonly:new Array},i=e.addressLookupTableAccounts||[];for(let m of i){let b=t.extractTableLookup(m);if(b!==void 0){let[x,{writable:S,readonly:T}]=b;n.push(x),s.writable.push(...S),s.readonly.push(...T)}}let[o,c]=t.getMessageComponents(),p=new Os(c,s).compileInstructions(e.instructions);return new r({header:o,staticAccountKeys:c,recentBlockhash:e.recentBlockhash,compiledInstructions:p,addressTableLookups:n})}serialize(){let e=Array();Jt(e,this.staticAccountKeys.length);let t=this.serializeInstructions(),n=Array();Jt(n,this.compiledInstructions.length);let s=this.serializeAddressTableLookups(),i=Array();Jt(i,this.addressTableLookups.length);let o=R.struct([R.u8("prefix"),R.struct([R.u8("numRequiredSignatures"),R.u8("numReadonlySignedAccounts"),R.u8("numReadonlyUnsignedAccounts")],"header"),R.blob(e.length,"staticAccountKeysLength"),R.seq(be(),this.staticAccountKeys.length,"staticAccountKeys"),be("recentBlockhash"),R.blob(n.length,"instructionsLength"),R.blob(t.length,"serializedInstructions"),R.blob(i.length,"addressTableLookupsLength"),R.blob(s.length,"serializedAddressTableLookups")]),c=new Uint8Array(Jn),p=o.encode({prefix:128,header:this.header,staticAccountKeysLength:new Uint8Array(e),staticAccountKeys:this.staticAccountKeys.map(m=>m.toBytes()),recentBlockhash:Rt.default.decode(this.recentBlockhash),instructionsLength:new Uint8Array(n),serializedInstructions:t,addressTableLookupsLength:new Uint8Array(i),serializedAddressTableLookups:s},c);return c.slice(0,p)}serializeInstructions(){let e=0,t=new Uint8Array(Jn);for(let n of this.compiledInstructions){let s=Array();Jt(s,n.accountKeyIndexes.length);let i=Array();Jt(i,n.data.length);let o=R.struct([R.u8("programIdIndex"),R.blob(s.length,"encodedAccountKeyIndexesLength"),R.seq(R.u8(),n.accountKeyIndexes.length,"accountKeyIndexes"),R.blob(i.length,"encodedDataLength"),R.blob(n.data.length,"data")]);e+=o.encode({programIdIndex:n.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(s),accountKeyIndexes:n.accountKeyIndexes,encodedDataLength:new Uint8Array(i),data:n.data},t,e)}return t.slice(0,e)}serializeAddressTableLookups(){let e=0,t=new Uint8Array(Jn);for(let n of this.addressTableLookups){let s=Array();Jt(s,n.writableIndexes.length);let i=Array();Jt(i,n.readonlyIndexes.length);let o=R.struct([be("accountKey"),R.blob(s.length,"encodedWritableIndexesLength"),R.seq(R.u8(),n.writableIndexes.length,"writableIndexes"),R.blob(i.length,"encodedReadonlyIndexesLength"),R.seq(R.u8(),n.readonlyIndexes.length,"readonlyIndexes")]);e+=o.encode({accountKey:n.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(s),writableIndexes:n.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(i),readonlyIndexes:n.readonlyIndexes},t,e)}return t.slice(0,e)}static deserialize(e){let t=[...e],n=Fr(t),s=n&qu;Ae(n!==s,"Expected versioned message but received legacy message");let i=s;Ae(i===0,`Expected versioned message with version 0 but found version ${i}`);let o={numRequiredSignatures:Fr(t),numReadonlySignedAccounts:Fr(t),numReadonlyUnsignedAccounts:Fr(t)},c=[],u=Yt(t);for(let T=0;T<u;T++)c.push(new ue(Xt(t,0,pn)));let p=Rt.default.encode(Xt(t,0,pn)),m=Yt(t),b=[];for(let T=0;T<m;T++){let I=Fr(t),A=Yt(t),L=Xt(t,0,A),U=Yt(t),B=new Uint8Array(Xt(t,0,U));b.push({programIdIndex:I,accountKeyIndexes:L,data:B})}let x=Yt(t),S=[];for(let T=0;T<x;T++){let I=new ue(Xt(t,0,pn)),A=Yt(t),L=Xt(t,0,A),U=Yt(t),B=Xt(t,0,U);S.push({accountKey:I,writableIndexes:L,readonlyIndexes:B})}return new r({header:o,staticAccountKeys:c,recentBlockhash:p,compiledInstructions:b,addressTableLookups:S})}},na={deserializeMessageVersion(r){let e=r[0],t=e&qu;return t===e?"legacy":t},deserialize:r=>{let e=na.deserializeMessageVersion(r);if(e==="legacy")return mn.from(r);if(e===0)return Yo.deserialize(r);throw new Error(`Transaction message version ${e} deserialization is not supported`)}},dn=function(r){return r[r.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",r[r.PROCESSED=1]="PROCESSED",r[r.TIMED_OUT=2]="TIMED_OUT",r[r.NONCE_INVALID=3]="NONCE_INVALID",r}({}),kE=ce.Buffer.alloc(Ko).fill(0),Te=class{constructor(e){this.keys=void 0,this.programId=void 0,this.data=ce.Buffer.alloc(0),this.programId=e.programId,this.keys=e.keys,e.data&&(this.data=e.data)}toJSON(){return{keys:this.keys.map(({pubkey:e,isSigner:t,isWritable:n})=>({pubkey:e.toJSON(),isSigner:t,isWritable:n})),programId:this.programId.toJSON(),data:[...this.data]}}},Se=class r{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(e){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,!!e)if(e.feePayer&&(this.feePayer=e.feePayer),e.signatures&&(this.signatures=e.signatures),Object.prototype.hasOwnProperty.call(e,"nonceInfo")){let{minContextSlot:t,nonceInfo:n}=e;this.minNonceContextSlot=t,this.nonceInfo=n}else if(Object.prototype.hasOwnProperty.call(e,"lastValidBlockHeight")){let{blockhash:t,lastValidBlockHeight:n}=e;this.recentBlockhash=t,this.lastValidBlockHeight=n}else{let{recentBlockhash:t,nonceInfo:n}=e;n&&(this.nonceInfo=n),this.recentBlockhash=t}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(e=>e.toJSON()),signers:this.signatures.map(({publicKey:e})=>e.toJSON())}}add(...e){if(e.length===0)throw new Error("No instructions");return e.forEach(t=>{"instructions"in t?this.instructions=this.instructions.concat(t.instructions):"data"in t&&"programId"in t&&"keys"in t?this.instructions.push(t):this.instructions.push(new Te(t))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let e,t;if(this.nonceInfo?(e=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?t=[this.nonceInfo.nonceInstruction,...this.instructions]:t=this.instructions):(e=this.recentBlockhash,t=this.instructions),!e)throw new Error("Transaction recentBlockhash required");t.length<1&&console.warn("No instructions provided");let n;if(this.feePayer)n=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)n=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let I=0;I<t.length;I++)if(t[I].programId===void 0)throw new Error(`Transaction instruction index ${I} has undefined program id`);let s=[],i=[];t.forEach(I=>{I.keys.forEach(L=>{i.push({...L})});let A=I.programId.toString();s.includes(A)||s.push(A)}),s.forEach(I=>{i.push({pubkey:new ue(I),isSigner:!1,isWritable:!1})});let o=[];i.forEach(I=>{let A=I.pubkey.toString(),L=o.findIndex(U=>U.pubkey.toString()===A);L>-1?(o[L].isWritable=o[L].isWritable||I.isWritable,o[L].isSigner=o[L].isSigner||I.isSigner):o.push(I)}),o.sort(function(I,A){if(I.isSigner!==A.isSigner)return I.isSigner?-1:1;if(I.isWritable!==A.isWritable)return I.isWritable?-1:1;let L={localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"};return I.pubkey.toBase58().localeCompare(A.pubkey.toBase58(),"en",L)});let c=o.findIndex(I=>I.pubkey.equals(n));if(c>-1){let[I]=o.splice(c,1);I.isSigner=!0,I.isWritable=!0,o.unshift(I)}else o.unshift({pubkey:n,isSigner:!0,isWritable:!0});for(let I of this.signatures){let A=o.findIndex(L=>L.pubkey.equals(I.publicKey));if(A>-1)o[A].isSigner||(o[A].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${I.publicKey.toString()}`)}let u=0,p=0,m=0,b=[],x=[];o.forEach(({pubkey:I,isSigner:A,isWritable:L})=>{A?(b.push(I.toString()),u+=1,L||(p+=1)):(x.push(I.toString()),L||(m+=1))});let S=b.concat(x),T=t.map(I=>{let{data:A,programId:L}=I;return{programIdIndex:S.indexOf(L.toString()),accounts:I.keys.map(U=>S.indexOf(U.pubkey.toString())),data:Rt.default.encode(A)}});return T.forEach(I=>{Ae(I.programIdIndex>=0),I.accounts.forEach(A=>Ae(A>=0))}),new mn({header:{numRequiredSignatures:u,numReadonlySignedAccounts:p,numReadonlyUnsignedAccounts:m},accountKeys:S,recentBlockhash:e,instructions:T})}_compile(){let e=this.compileMessage(),t=e.accountKeys.slice(0,e.header.numRequiredSignatures);return this.signatures.length===t.length&&this.signatures.every((s,i)=>t[i].equals(s.publicKey))||(this.signatures=t.map(n=>({signature:null,publicKey:n}))),e}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(e){return(await e.getFeeForMessage(this.compileMessage())).value}setSigners(...e){if(e.length===0)throw new Error("No signers");let t=new Set;this.signatures=e.filter(n=>{let s=n.toString();return t.has(s)?!1:(t.add(s),!0)}).map(n=>({signature:null,publicKey:n}))}sign(...e){if(e.length===0)throw new Error("No signers");let t=new Set,n=[];for(let i of e){let o=i.publicKey.toString();t.has(o)||(t.add(o),n.push(i))}this.signatures=n.map(i=>({signature:null,publicKey:i.publicKey}));let s=this._compile();this._partialSign(s,...n)}partialSign(...e){if(e.length===0)throw new Error("No signers");let t=new Set,n=[];for(let i of e){let o=i.publicKey.toString();t.has(o)||(t.add(o),n.push(i))}let s=this._compile();this._partialSign(s,...n)}_partialSign(e,...t){let n=e.serialize();t.forEach(s=>{let i=Wu(n,s.secretKey);this._addSignature(s.publicKey,we(i))})}addSignature(e,t){this._compile(),this._addSignature(e,t)}_addSignature(e,t){Ae(t.length===64);let n=this.signatures.findIndex(s=>e.equals(s.publicKey));if(n<0)throw new Error(`unknown signer: ${e.toString()}`);this.signatures[n].signature=ce.Buffer.from(t)}verifySignatures(e=!0){return!this._getMessageSignednessErrors(this.serializeMessage(),e)}_getMessageSignednessErrors(e,t){let n={};for(let{signature:s,publicKey:i}of this.signatures)s===null?t&&(n.missing||=[]).push(i):wE(s,e,i.toBytes())||(n.invalid||=[]).push(i);return n.invalid||n.missing?n:void 0}serialize(e){let{requireAllSignatures:t,verifySignatures:n}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},e),s=this.serializeMessage();if(n){let i=this._getMessageSignednessErrors(s,t);if(i){let o="Signature verification failed.";throw i.invalid&&(o+=`
Invalid signature for public key${i.invalid.length===1?"":"(s)"} [\`${i.invalid.map(c=>c.toBase58()).join("`, `")}\`].`),i.missing&&(o+=`
Missing signature for public key${i.missing.length===1?"":"(s)"} [\`${i.missing.map(c=>c.toBase58()).join("`, `")}\`].`),new Error(o)}}return this._serialize(s)}_serialize(e){let{signatures:t}=this,n=[];Jt(n,t.length);let s=n.length+t.length*64+e.length,i=ce.Buffer.alloc(s);return Ae(t.length<256),ce.Buffer.from(n).copy(i,0),t.forEach(({signature:o},c)=>{o!==null&&(Ae(o.length===64,"signature has invalid length"),ce.Buffer.from(o).copy(i,n.length+c*64))}),e.copy(i,n.length+t.length*64),Ae(i.length<=Jn,`Transaction too large: ${i.length} > ${Jn}`),i}get keys(){return Ae(this.instructions.length===1),this.instructions[0].keys.map(e=>e.pubkey)}get programId(){return Ae(this.instructions.length===1),this.instructions[0].programId}get data(){return Ae(this.instructions.length===1),this.instructions[0].data}static from(e){let t=[...e],n=Yt(t),s=[];for(let i=0;i<n;i++){let o=Xt(t,0,Ko);s.push(Rt.default.encode(ce.Buffer.from(o)))}return r.populate(mn.from(t),s)}static populate(e,t=[]){let n=new r;return n.recentBlockhash=e.recentBlockhash,e.header.numRequiredSignatures>0&&(n.feePayer=e.accountKeys[0]),t.forEach((s,i)=>{let o={signature:s==Rt.default.encode(kE)?null:Rt.default.decode(s),publicKey:e.accountKeys[i]};n.signatures.push(o)}),e.instructions.forEach(s=>{let i=s.accounts.map(o=>{let c=e.accountKeys[o];return{pubkey:c,isSigner:n.signatures.some(u=>u.publicKey.toString()===c.toString())||e.isAccountSigner(o),isWritable:e.isAccountWritable(o)}});n.instructions.push(new Te({keys:i,programId:e.accountKeys[s.programIdIndex],data:Rt.default.decode(s.data)}))}),n._message=e,n._json=n.toJSON(),n}};var Jo=class r{get version(){return this.message.version}constructor(e,t){if(this.signatures=void 0,this.message=void 0,t!==void 0)Ae(t.length===e.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=t;else{let n=[];for(let s=0;s<e.header.numRequiredSignatures;s++)n.push(new Uint8Array(Ko));this.signatures=n}this.message=e}serialize(){let e=this.message.serialize(),t=Array();Jt(t,this.signatures.length);let n=R.struct([R.blob(t.length,"encodedSignaturesLength"),R.seq(vE(),this.signatures.length,"signatures"),R.blob(e.length,"serializedMessage")]),s=new Uint8Array(2048),i=n.encode({encodedSignaturesLength:new Uint8Array(t),signatures:this.signatures,serializedMessage:e},s);return s.slice(0,i)}static deserialize(e){let t=[...e],n=[],s=Yt(t);for(let o=0;o<s;o++)n.push(new Uint8Array(Xt(t,0,Ko)));let i=na.deserialize(new Uint8Array(t));return new r(i,n)}sign(e){let t=this.message.serialize(),n=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(let s of e){let i=n.findIndex(o=>o.equals(s.publicKey));Ae(i>=0,`Cannot sign with non signer key ${s.publicKey.toBase58()}`),this.signatures[i]=Wu(t,s.secretKey)}}addSignature(e,t){Ae(t.byteLength===64,"Signature must be 64 bytes long");let s=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex(i=>i.equals(e));Ae(s>=0,`Can not add signature; \`${e.toBase58()}\` is not required to sign this transaction`),this.signatures[s]=t}},OE=160,TE=64,NE=OE/TE,np=1e3/NE,zr=new ue("SysvarC1ock11111111111111111111111111111111"),II=new ue("SysvarEpochSchedu1e111111111111111111111111"),kI=new ue("Sysvar1nstructions1111111111111111111111111"),wu=new ue("SysvarRecentB1ockHashes11111111111111111111"),di=new ue("SysvarRent111111111111111111111111111111111"),OI=new ue("SysvarRewards111111111111111111111111111111"),TI=new ue("SysvarS1otHashes111111111111111111111111111"),NI=new ue("SysvarS1otHistory11111111111111111111111111"),Eu=new ue("SysvarStakeHistory1111111111111111111111111"),hi=class extends Error{constructor({action:e,signature:t,transactionMessage:n,logs:s}){let i=s?`Logs: 
${JSON.stringify(s.slice(-10),null,2)}. `:"",o="\nCatch the `SendTransactionError` and call `getLogs()` on it for full details.",c;switch(e){case"send":c=`Transaction ${t} resulted in an error. 
${n}. `+i+o;break;case"simulate":c=`Simulation failed. 
Message: ${n}. 
`+i+o;break;default:c=`Unknown action '${(u=>u)(e)}'`}super(c),this.signature=void 0,this.transactionMessage=void 0,this.transactionLogs=void 0,this.signature=t,this.transactionMessage=n,this.transactionLogs=s||void 0}get transactionError(){return{message:this.transactionMessage,logs:Array.isArray(this.transactionLogs)?this.transactionLogs:void 0}}get logs(){let e=this.transactionLogs;if(!(e!=null&&typeof e=="object"&&"then"in e))return e}async getLogs(e){return Array.isArray(this.transactionLogs)||(this.transactionLogs=new Promise((t,n)=>{e.getTransaction(this.signature).then(s=>{if(s&&s.meta&&s.meta.logMessages){let i=s.meta.logMessages;this.transactionLogs=i,t(i)}else n(new Error("Log messages not found"))}).catch(n)})),await this.transactionLogs}};var Q=class extends Error{constructor({code:e,message:t,data:n},s){super(s!=null?`${s}: ${t}`:t),this.code=void 0,this.data=void 0,this.code=e,this.data=n,this.name="SolanaJSONRPCError"}};async function Uh(r,e,t,n){let s=n&&{skipPreflight:n.skipPreflight,preflightCommitment:n.preflightCommitment||n.commitment,maxRetries:n.maxRetries,minContextSlot:n.minContextSlot},i=await r.sendTransaction(e,t,s),o;if(e.recentBlockhash!=null&&e.lastValidBlockHeight!=null)o=(await r.confirmTransaction({abortSignal:n?.abortSignal,signature:i,blockhash:e.recentBlockhash,lastValidBlockHeight:e.lastValidBlockHeight},n&&n.commitment)).value;else if(e.minNonceContextSlot!=null&&e.nonceInfo!=null){let{nonceInstruction:c}=e.nonceInfo,u=c.keys[0].pubkey;o=(await r.confirmTransaction({abortSignal:n?.abortSignal,minContextSlot:e.minNonceContextSlot,nonceAccountPubkey:u,nonceValue:e.nonceInfo.nonce,signature:i},n&&n.commitment)).value}else n?.abortSignal!=null&&console.warn("sendAndConfirmTransaction(): A transaction with a deprecated confirmation strategy was supplied along with an `abortSignal`. Only transactions having `lastValidBlockHeight` or a combination of `nonceInfo` and `minNonceContextSlot` are abortable."),o=(await r.confirmTransaction(i,n&&n.commitment)).value;if(o.err)throw i!=null?new hi({action:"send",signature:i,transactionMessage:`Status: (${JSON.stringify(o)})`}):new Error(`Transaction ${i} failed (${JSON.stringify(o)})`);return i}function Zn(r){return new Promise(e=>setTimeout(e,r))}function Ee(r,e){let t=r.layout.span>=0?r.layout.span:tp(r,e),n=ce.Buffer.alloc(t),s=Object.assign({instruction:r.index},e);return r.layout.encode(s,n),n}var LE=R.nu64("lamportsPerSignature"),sp=R.struct([R.u32("version"),R.u32("state"),be("authorizedPubkey"),be("nonce"),R.struct([LE],"feeCalculator")]),Dh=sp.span,Nu=class r{constructor(e){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=e.authorizedPubkey,this.nonce=e.nonce,this.feeCalculator=e.feeCalculator}static fromAccountData(e){let t=sp.decode(we(e),0);return new r({authorizedPubkey:new ue(t.authorizedPubkey),nonce:new ue(t.nonce).toString(),feeCalculator:t.feeCalculator})}};function Ts(r){let e=(0,Xh.blob)(8,r),t=e.decode.bind(e),n=e.encode.bind(e),s=e,i=Fd();return s.decode=(o,c)=>{let u=t(o,c);return i.decode(u)},s.encode=(o,c,u)=>{let p=i.encode(o);return n(p,c,u)},s}var or=Object.freeze({Create:{index:0,layout:R.struct([R.u32("instruction"),R.ns64("lamports"),R.ns64("space"),be("programId")])},Assign:{index:1,layout:R.struct([R.u32("instruction"),be("programId")])},Transfer:{index:2,layout:R.struct([R.u32("instruction"),Ts("lamports")])},CreateWithSeed:{index:3,layout:R.struct([R.u32("instruction"),be("base"),ks("seed"),R.ns64("lamports"),R.ns64("space"),be("programId")])},AdvanceNonceAccount:{index:4,layout:R.struct([R.u32("instruction")])},WithdrawNonceAccount:{index:5,layout:R.struct([R.u32("instruction"),R.ns64("lamports")])},InitializeNonceAccount:{index:6,layout:R.struct([R.u32("instruction"),be("authorized")])},AuthorizeNonceAccount:{index:7,layout:R.struct([R.u32("instruction"),be("authorized")])},Allocate:{index:8,layout:R.struct([R.u32("instruction"),R.ns64("space")])},AllocateWithSeed:{index:9,layout:R.struct([R.u32("instruction"),be("base"),ks("seed"),R.ns64("space"),be("programId")])},AssignWithSeed:{index:10,layout:R.struct([R.u32("instruction"),be("base"),ks("seed"),be("programId")])},TransferWithSeed:{index:11,layout:R.struct([R.u32("instruction"),Ts("lamports"),ks("seed"),be("programId")])},UpgradeNonceAccount:{index:12,layout:R.struct([R.u32("instruction")])}}),Ft=class r{constructor(){}static createAccount(e){let t=or.Create,n=Ee(t,{lamports:e.lamports,space:e.space,programId:we(e.programId.toBuffer())});return new Te({keys:[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:n})}static transfer(e){let t,n;if("basePubkey"in e){let s=or.TransferWithSeed;t=Ee(s,{lamports:BigInt(e.lamports),seed:e.seed,programId:we(e.programId.toBuffer())}),n=[{pubkey:e.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}else{let s=or.Transfer;t=Ee(s,{lamports:BigInt(e.lamports)}),n=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}return new Te({keys:n,programId:this.programId,data:t})}static assign(e){let t,n;if("basePubkey"in e){let s=or.AssignWithSeed;t=Ee(s,{base:we(e.basePubkey.toBuffer()),seed:e.seed,programId:we(e.programId.toBuffer())}),n=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{let s=or.Assign;t=Ee(s,{programId:we(e.programId.toBuffer())}),n=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new Te({keys:n,programId:this.programId,data:t})}static createAccountWithSeed(e){let t=or.CreateWithSeed,n=Ee(t,{base:we(e.basePubkey.toBuffer()),seed:e.seed,lamports:e.lamports,space:e.space,programId:we(e.programId.toBuffer())}),s=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!1,isWritable:!0}];return e.basePubkey.equals(e.fromPubkey)||s.push({pubkey:e.basePubkey,isSigner:!0,isWritable:!1}),new Te({keys:s,programId:this.programId,data:n})}static createNonceAccount(e){let t=new Se;"basePubkey"in e&&"seed"in e?t.add(r.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:Dh,programId:this.programId})):t.add(r.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,lamports:e.lamports,space:Dh,programId:this.programId}));let n={noncePubkey:e.noncePubkey,authorizedPubkey:e.authorizedPubkey};return t.add(this.nonceInitialize(n)),t}static nonceInitialize(e){let t=or.InitializeNonceAccount,n=Ee(t,{authorized:we(e.authorizedPubkey.toBuffer())}),s={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:wu,isSigner:!1,isWritable:!1},{pubkey:di,isSigner:!1,isWritable:!1}],programId:this.programId,data:n};return new Te(s)}static nonceAdvance(e){let t=or.AdvanceNonceAccount,n=Ee(t),s={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:wu,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:n};return new Te(s)}static nonceWithdraw(e){let t=or.WithdrawNonceAccount,n=Ee(t,{lamports:e.lamports});return new Te({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0},{pubkey:wu,isSigner:!1,isWritable:!1},{pubkey:di,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:n})}static nonceAuthorize(e){let t=or.AuthorizeNonceAccount,n=Ee(t,{authorized:we(e.newAuthorizedPubkey.toBuffer())});return new Te({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:n})}static allocate(e){let t,n;if("basePubkey"in e){let s=or.AllocateWithSeed;t=Ee(s,{base:we(e.basePubkey.toBuffer()),seed:e.seed,space:e.space,programId:we(e.programId.toBuffer())}),n=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{let s=or.Allocate;t=Ee(s,{space:e.space}),n=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new Te({keys:n,programId:this.programId,data:t})}};Ft.programId=new ue("11111111111111111111111111111111");var BE=Jn-300,Lu=class r{constructor(){}static getMinNumSignatures(e){return 2*(Math.ceil(e/r.chunkSize)+1+1)}static async load(e,t,n,s,i){{let b=await e.getMinimumBalanceForRentExemption(i.length),x=await e.getAccountInfo(n.publicKey,"confirmed"),S=null;if(x!==null){if(x.executable)return console.error("Program load failed, account is already executable"),!1;x.data.length!==i.length&&(S=S||new Se,S.add(Ft.allocate({accountPubkey:n.publicKey,space:i.length}))),x.owner.equals(s)||(S=S||new Se,S.add(Ft.assign({accountPubkey:n.publicKey,programId:s}))),x.lamports<b&&(S=S||new Se,S.add(Ft.transfer({fromPubkey:t.publicKey,toPubkey:n.publicKey,lamports:b-x.lamports})))}else S=new Se().add(Ft.createAccount({fromPubkey:t.publicKey,newAccountPubkey:n.publicKey,lamports:b>0?b:1,space:i.length,programId:s}));S!==null&&await Uh(e,S,[t,n],{commitment:"confirmed"})}let o=R.struct([R.u32("instruction"),R.u32("offset"),R.u32("bytesLength"),R.u32("bytesLengthPadding"),R.seq(R.u8("byte"),R.offset(R.u32(),-8),"bytes")]),c=r.chunkSize,u=0,p=i,m=[];for(;p.length>0;){let b=p.slice(0,c),x=ce.Buffer.alloc(c+16);o.encode({instruction:0,offset:u,bytes:b,bytesLength:0,bytesLengthPadding:0},x);let S=new Se().add({keys:[{pubkey:n.publicKey,isSigner:!0,isWritable:!0}],programId:s,data:x});m.push(Uh(e,S,[t,n],{commitment:"confirmed"})),e._rpcEndpoint.includes("solana.com")&&await Zn(1e3/4),u+=c,p=p.slice(c)}await Promise.all(m);{let b=R.struct([R.u32("instruction")]),x=ce.Buffer.alloc(b.span);b.encode({instruction:1},x);let S=new Se().add({keys:[{pubkey:n.publicKey,isSigner:!0,isWritable:!0},{pubkey:di,isSigner:!1,isWritable:!1}],programId:s,data:x}),T="processed",I=await e.sendTransaction(S,[t,n],{preflightCommitment:T}),{context:A,value:L}=await e.confirmTransaction({signature:I,lastValidBlockHeight:S.lastValidBlockHeight,blockhash:S.recentBlockhash},T);if(L.err)throw new Error(`Transaction ${I} failed (${JSON.stringify(L)})`);for(;;){try{if(await e.getSlot({commitment:T})>A.slot)break}catch{}await new Promise(U=>setTimeout(U,Math.round(np/2)))}}return!0}};Lu.chunkSize=BE;var LI=new ue("BPFLoader2111111111111111111111111111111111");function CE(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Ru,zh;function PE(){if(zh)return Ru;zh=1;var r=Object.prototype.toString,e=Object.keys||function(n){var s=[];for(var i in n)s.push(i);return s};function t(n,s){var i,o,c,u,p,m,b;if(n===!0)return"true";if(n===!1)return"false";switch(typeof n){case"object":if(n===null)return null;if(n.toJSON&&typeof n.toJSON=="function")return t(n.toJSON(),s);if(b=r.call(n),b==="[object Array]"){for(c="[",o=n.length-1,i=0;i<o;i++)c+=t(n[i],!0)+",";return o>-1&&(c+=t(n[i],!0)),c+"]"}else if(b==="[object Object]"){for(u=e(n).sort(),o=u.length,c="",i=0;i<o;)p=u[i],m=t(n[p],!1),m!==void 0&&(c&&(c+=","),c+=JSON.stringify(p)+":"+m),i++;return"{"+c+"}"}else return JSON.stringify(n);case"function":case"undefined":return s?null:void 0;case"string":return JSON.stringify(n);default:return isFinite(n)?n:null}}return Ru=function(n){var s=t(n,!1);if(s!==void 0)return""+s},Ru}var ME=PE(),Fh=CE(ME),ui=32;function vu(r){let e=0;for(;r>1;)r/=2,e++;return e}function UE(r){return r===0?1:(r--,r|=r>>1,r|=r>>2,r|=r>>4,r|=r>>8,r|=r>>16,r|=r>>32,r+1)}var Bu=class{constructor(e,t,n,s,i){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=e,this.leaderScheduleSlotOffset=t,this.warmup=n,this.firstNormalEpoch=s,this.firstNormalSlot=i}getEpoch(e){return this.getEpochAndSlotIndex(e)[0]}getEpochAndSlotIndex(e){if(e<this.firstNormalSlot){let t=vu(UE(e+ui+1))-vu(ui)-1,n=this.getSlotsInEpoch(t),s=e-(n-ui);return[t,s]}else{let t=e-this.firstNormalSlot,n=Math.floor(t/this.slotsPerEpoch),s=this.firstNormalEpoch+n,i=t%this.slotsPerEpoch;return[s,i]}}getFirstSlotInEpoch(e){return e<=this.firstNormalEpoch?(Math.pow(2,e)-1)*ui:(e-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(e){return this.getFirstSlotInEpoch(e)+this.getSlotsInEpoch(e)-1}getSlotsInEpoch(e){return e<this.firstNormalEpoch?Math.pow(2,e+vu(ui)):this.slotsPerEpoch}},DE=globalThis.fetch,Cu=class extends wh{constructor(e,t,n){let s=i=>{let o=bh(i,{autoconnect:!0,max_reconnects:5,reconnect:!0,reconnect_interval:1e3,...t});return"socket"in o?this.underlyingSocket=o.socket:this.underlyingSocket=o,o};super(s,e,t,n),this.underlyingSocket=void 0}call(...e){let t=this.underlyingSocket?.readyState;return t===1?super.call(...e):Promise.reject(new Error("Tried to call a JSON-RPC method `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+t+")"))}notify(...e){let t=this.underlyingSocket?.readyState;return t===1?super.notify(...e):Promise.reject(new Error("Tried to send a JSON-RPC notification `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+t+")"))}};function zE(r,e){let t;try{t=r.layout.decode(e)}catch(n){throw new Error("invalid instruction; "+n)}if(t.typeIndex!==r.index)throw new Error(`invalid account data; account type mismatch ${t.typeIndex} != ${r.index}`);return t}var $h=56,Xo=class{constructor(e){this.key=void 0,this.state=void 0,this.key=e.key,this.state=e.state}isActive(){let e=BigInt("0xffffffffffffffff");return this.state.deactivationSlot===e}static deserialize(e){let t=zE(FE,e),n=e.length-$h;Ae(n>=0,"lookup table is invalid"),Ae(n%32===0,"lookup table is invalid");let s=n/32,{addresses:i}=R.struct([R.seq(be(),s,"addresses")]).decode(e.slice($h));return{deactivationSlot:t.deactivationSlot,lastExtendedSlot:t.lastExtendedSlot,lastExtendedSlotStartIndex:t.lastExtendedStartIndex,authority:t.authority.length!==0?new ue(t.authority[0]):void 0,addresses:i.map(o=>new ue(o))}}},FE={index:1,layout:R.struct([R.u32("typeIndex"),Ts("deactivationSlot"),R.nu64("lastExtendedSlot"),R.u8("lastExtendedStartIndex"),R.u8(),R.seq(be(),R.offset(R.u8(),-1),"authority")])},$E=/^[^:]+:\/\/([^:[]+|\[[^\]]+\])(:\d+)?(.*)/i;function VE(r){let e=r.match($E);if(e==null)throw TypeError(`Failed to validate endpoint URL \`${r}\``);let[t,n,s,i]=e,o=r.startsWith("https:")?"wss:":"ws:",c=s==null?null:parseInt(s.slice(1),10),u=c==null?"":`:${c+1}`;return`${o}//${n}${u}${i}`}var qe=Is(Bo(ue),z(),r=>new ue(r)),ip=Co([z(),Me("base64")]),ju=Is(Bo(ce.Buffer),ip,r=>ce.Buffer.from(r[0],"base64")),WE=30*1e3;function qE(r){if(/^https?:/.test(r)===!1)throw new TypeError("Endpoint URL must start with `http:` or `https:`.");return r}function Le(r){let e,t;if(typeof r=="string")e=r;else if(r){let{commitment:n,...s}=r;e=n,t=s}return{commitment:e,config:t}}function Vh(r){return r.map(e=>"memcmp"in e?{...e,memcmp:{...e.memcmp,encoding:e.memcmp.encoding??"base58"}}:e)}function op(r){return Nt([P({jsonrpc:Me("2.0"),id:z(),result:r}),P({jsonrpc:Me("2.0"),id:z(),error:P({code:Hn(),message:z(),data:ne(qd())})})])}var jE=op(Hn());function ye(r){return Is(op(r),jE,e=>"error"in e?e:{...e,result:W(e.result,r)})}function Ze(r){return ye(P({context:P({slot:k()}),value:r}))}function sa(r){return P({context:P({slot:k()}),value:r})}function Su(r,e){return r===0?new Yo({header:e.header,staticAccountKeys:e.accountKeys.map(t=>new ue(t)),recentBlockhash:e.recentBlockhash,compiledInstructions:e.instructions.map(t=>({programIdIndex:t.programIdIndex,accountKeyIndexes:t.accounts,data:Rt.default.decode(t.data)})),addressTableLookups:e.addressTableLookups}):new mn(e)}var KE=P({foundation:k(),foundationTerm:k(),initial:k(),taper:k(),terminal:k()}),HE=ye(j(K(P({epoch:k(),effectiveSlot:k(),amount:k(),postBalance:k(),commission:ne(K(k()))})))),GE=j(P({slot:k(),prioritizationFee:k()})),ZE=P({total:k(),validator:k(),foundation:k(),epoch:k()}),YE=P({epoch:k(),slotIndex:k(),slotsInEpoch:k(),absoluteSlot:k(),blockHeight:ne(k()),transactionCount:ne(k())}),JE=P({slotsPerEpoch:k(),leaderScheduleSlotOffset:k(),warmup:dr(),firstNormalEpoch:k(),firstNormalSlot:k()}),XE=su(z(),j(k())),Xn=K(Nt([P({}),z()])),QE=P({err:Xn}),eR=Me("receivedSignature"),tR=P({"solana-core":z(),"feature-set":ne(k())}),rR=P({program:z(),programId:qe,parsed:Hn()}),nR=P({programId:qe,accounts:j(qe),data:z()}),Wh=Ze(P({err:K(Nt([P({}),z()])),logs:K(j(z())),accounts:ne(K(j(K(P({executable:dr(),owner:z(),lamports:k(),data:j(z()),rentEpoch:ne(k())}))))),unitsConsumed:ne(k()),returnData:ne(K(P({programId:z(),data:Co([z(),Me("base64")])}))),innerInstructions:ne(K(j(P({index:k(),instructions:j(Nt([rR,nR]))}))))})),sR=Ze(P({byIdentity:su(z(),j(k())),range:P({firstSlot:k(),lastSlot:k()})}));function iR(r,e,t,n,s,i){let o=t||DE,c;i!=null&&console.warn("You have supplied an `httpAgent` when creating a `Connection` in a browser environment.It has been ignored; `httpAgent` is only used in Node environments.");let u;return n&&(u=async(m,b)=>{let x=await new Promise((S,T)=>{try{n(m,b,(I,A)=>S([I,A]))}catch(I){T(I)}});return await o(...x)}),new Qh.default(async(m,b)=>{let x={method:"POST",body:m,agent:c,headers:Object.assign({"Content-Type":"application/json"},e||{},iv)};try{let S=5,T,I=500;for(;u?T=await u(r,x):T=await o(r,x),!(T.status!==429||s===!0||(S-=1,S===0));)console.error(`Server responded with ${T.status} ${T.statusText}.  Retrying after ${I}ms delay...`),await Zn(I),I*=2;let A=await T.text();T.ok?b(null,A):b(new Error(`${T.status} ${T.statusText}: ${A}`))}catch(S){S instanceof Error&&b(S)}},{})}function oR(r){return(e,t)=>new Promise((n,s)=>{r.request(e,t,(i,o)=>{if(i){s(i);return}n(o)})})}function aR(r){return e=>new Promise((t,n)=>{e.length===0&&t([]);let s=e.map(i=>r.request(i.methodName,i.args));r.request(s,(i,o)=>{if(i){n(i);return}t(o)})})}var cR=ye(KE),uR=ye(ZE),fR=ye(GE),lR=ye(YE),dR=ye(JE),hR=ye(XE),pR=ye(k()),mR=Ze(P({total:k(),circulating:k(),nonCirculating:k(),nonCirculatingAccounts:j(qe)})),Pu=P({amount:z(),uiAmount:K(k()),decimals:k(),uiAmountString:ne(z())}),gR=Ze(j(P({address:qe,amount:z(),uiAmount:K(k()),decimals:k(),uiAmountString:ne(z())}))),yR=Ze(j(P({pubkey:qe,account:P({executable:dr(),owner:qe,lamports:k(),data:ju,rentEpoch:k()})}))),Mu=P({program:z(),parsed:Hn(),space:k()}),_R=Ze(j(P({pubkey:qe,account:P({executable:dr(),owner:qe,lamports:k(),data:Mu,rentEpoch:k()})}))),bR=Ze(j(P({lamports:k(),address:qe}))),pi=P({executable:dr(),owner:qe,lamports:k(),data:ju,rentEpoch:k()}),wR=P({pubkey:qe,account:pi}),ER=Is(Nt([Bo(ce.Buffer),Mu]),Nt([ip,Mu]),r=>Array.isArray(r)?W(r,ju):r),Uu=P({executable:dr(),owner:qe,lamports:k(),data:ER,rentEpoch:k()}),RR=P({pubkey:qe,account:Uu}),vR=P({state:Nt([Me("active"),Me("inactive"),Me("activating"),Me("deactivating")]),active:k(),inactive:k()}),SR=ye(j(P({signature:z(),slot:k(),err:Xn,memo:K(z()),blockTime:ne(K(k()))}))),xR=ye(j(P({signature:z(),slot:k(),err:Xn,memo:K(z()),blockTime:ne(K(k()))}))),AR=P({subscription:k(),result:sa(pi)}),IR=P({pubkey:qe,account:pi}),kR=P({subscription:k(),result:sa(IR)}),OR=P({parent:k(),slot:k(),root:k()}),TR=P({subscription:k(),result:OR}),NR=Nt([P({type:Nt([Me("firstShredReceived"),Me("completed"),Me("optimisticConfirmation"),Me("root")]),slot:k(),timestamp:k()}),P({type:Me("createdBank"),parent:k(),slot:k(),timestamp:k()}),P({type:Me("frozen"),slot:k(),timestamp:k(),stats:P({numTransactionEntries:k(),numSuccessfulTransactions:k(),numFailedTransactions:k(),maxTransactionsPerEntry:k()})}),P({type:Me("dead"),slot:k(),timestamp:k(),err:z()})]),LR=P({subscription:k(),result:NR}),BR=P({subscription:k(),result:sa(Nt([QE,eR]))}),CR=P({subscription:k(),result:k()}),PR=P({pubkey:z(),gossip:K(z()),tpu:K(z()),rpc:K(z()),version:K(z())}),qh=P({votePubkey:z(),nodePubkey:z(),activatedStake:k(),epochVoteAccount:dr(),epochCredits:j(Co([k(),k(),k()])),commission:k(),lastVote:k(),rootSlot:K(k())}),MR=ye(P({current:j(qh),delinquent:j(qh)})),UR=Nt([Me("processed"),Me("confirmed"),Me("finalized")]),DR=P({slot:k(),confirmations:K(k()),err:Xn,confirmationStatus:ne(UR)}),zR=Ze(j(K(DR))),FR=ye(k()),ap=P({accountKey:qe,writableIndexes:j(k()),readonlyIndexes:j(k())}),Ku=P({signatures:j(z()),message:P({accountKeys:j(z()),header:P({numRequiredSignatures:k(),numReadonlySignedAccounts:k(),numReadonlyUnsignedAccounts:k()}),instructions:j(P({accounts:j(k()),data:z(),programIdIndex:k()})),recentBlockhash:z(),addressTableLookups:ne(j(ap))})}),cp=P({pubkey:qe,signer:dr(),writable:dr(),source:ne(Nt([Me("transaction"),Me("lookupTable")]))}),up=P({accountKeys:j(cp),signatures:j(z())}),fp=P({parsed:Hn(),program:z(),programId:qe}),lp=P({accounts:j(qe),data:z(),programId:qe}),$R=Nt([lp,fp]),VR=Nt([P({parsed:Hn(),program:z(),programId:z()}),P({accounts:j(z()),data:z(),programId:z()})]),dp=Is($R,VR,r=>"accounts"in r?W(r,lp):W(r,fp)),hp=P({signatures:j(z()),message:P({accountKeys:j(cp),instructions:j(dp),recentBlockhash:z(),addressTableLookups:ne(K(j(ap)))})}),Qo=P({accountIndex:k(),mint:z(),owner:ne(z()),programId:ne(z()),uiTokenAmount:Pu}),pp=P({writable:j(qe),readonly:j(qe)}),ia=P({err:Xn,fee:k(),innerInstructions:ne(K(j(P({index:k(),instructions:j(P({accounts:j(k()),data:z(),programIdIndex:k()}))})))),preBalances:j(k()),postBalances:j(k()),logMessages:ne(K(j(z()))),preTokenBalances:ne(K(j(Qo))),postTokenBalances:ne(K(j(Qo))),loadedAddresses:ne(pp),computeUnitsConsumed:ne(k())}),Hu=P({err:Xn,fee:k(),innerInstructions:ne(K(j(P({index:k(),instructions:j(dp)})))),preBalances:j(k()),postBalances:j(k()),logMessages:ne(K(j(z()))),preTokenBalances:ne(K(j(Qo))),postTokenBalances:ne(K(j(Qo))),loadedAddresses:ne(pp),computeUnitsConsumed:ne(k())}),Ls=Nt([Me(0),Me("legacy")]),Qn=P({pubkey:z(),lamports:k(),postBalance:K(k()),rewardType:K(z()),commission:ne(K(k()))}),WR=ye(K(P({blockhash:z(),previousBlockhash:z(),parentSlot:k(),transactions:j(P({transaction:Ku,meta:K(ia),version:ne(Ls)})),rewards:ne(j(Qn)),blockTime:K(k()),blockHeight:K(k())}))),qR=ye(K(P({blockhash:z(),previousBlockhash:z(),parentSlot:k(),rewards:ne(j(Qn)),blockTime:K(k()),blockHeight:K(k())}))),jR=ye(K(P({blockhash:z(),previousBlockhash:z(),parentSlot:k(),transactions:j(P({transaction:up,meta:K(ia),version:ne(Ls)})),rewards:ne(j(Qn)),blockTime:K(k()),blockHeight:K(k())}))),KR=ye(K(P({blockhash:z(),previousBlockhash:z(),parentSlot:k(),transactions:j(P({transaction:hp,meta:K(Hu),version:ne(Ls)})),rewards:ne(j(Qn)),blockTime:K(k()),blockHeight:K(k())}))),HR=ye(K(P({blockhash:z(),previousBlockhash:z(),parentSlot:k(),transactions:j(P({transaction:up,meta:K(Hu),version:ne(Ls)})),rewards:ne(j(Qn)),blockTime:K(k()),blockHeight:K(k())}))),GR=ye(K(P({blockhash:z(),previousBlockhash:z(),parentSlot:k(),rewards:ne(j(Qn)),blockTime:K(k()),blockHeight:K(k())}))),ZR=ye(K(P({blockhash:z(),previousBlockhash:z(),parentSlot:k(),transactions:j(P({transaction:Ku,meta:K(ia)})),rewards:ne(j(Qn)),blockTime:K(k())}))),jh=ye(K(P({blockhash:z(),previousBlockhash:z(),parentSlot:k(),signatures:j(z()),blockTime:K(k())}))),xu=ye(K(P({slot:k(),meta:K(ia),blockTime:ne(K(k())),transaction:Ku,version:ne(Ls)}))),Wo=ye(K(P({slot:k(),transaction:hp,meta:K(Hu),blockTime:ne(K(k())),version:ne(Ls)}))),YR=Ze(P({blockhash:z(),lastValidBlockHeight:k()})),JR=Ze(dr()),XR=P({slot:k(),numTransactions:k(),numSlots:k(),samplePeriodSecs:k()}),QR=ye(j(XR)),ev=Ze(K(P({feeCalculator:P({lamportsPerSignature:k()})}))),tv=ye(z()),rv=ye(z()),nv=P({err:Xn,logs:j(z()),signature:z()}),sv=P({result:sa(nv),subscription:k()}),iv={"solana-client":"js/1.0.0-maintenance"},ea=class{constructor(e,t){this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionHashByClientSubscriptionId={},this._subscriptionStateChangeCallbacksByHash={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set,this.getBlockHeight=(()=>{let p={};return async m=>{let{commitment:b,config:x}=Le(m),S=this._buildArgs([],b,void 0,x),T=Fh(S);return p[T]=p[T]??(async()=>{try{let I=await this._rpcRequest("getBlockHeight",S),A=W(I,ye(k()));if("error"in A)throw new Q(A.error,"failed to get block height information");return A.result}finally{delete p[T]}})(),await p[T]}})();let n,s,i,o,c,u;t&&typeof t=="string"?this._commitment=t:t&&(this._commitment=t.commitment,this._confirmTransactionInitialTimeout=t.confirmTransactionInitialTimeout,n=t.wsEndpoint,s=t.httpHeaders,i=t.fetch,o=t.fetchMiddleware,c=t.disableRetryOnRateLimit,u=t.httpAgent),this._rpcEndpoint=qE(e),this._rpcWsEndpoint=n||VE(e),this._rpcClient=iR(e,s,i,o,c,u),this._rpcRequest=oR(this._rpcClient),this._rpcBatchRequest=aR(this._rpcClient),this._rpcWebSocket=new Cu(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}async getBalanceAndContext(e,t){let{commitment:n,config:s}=Le(t),i=this._buildArgs([e.toBase58()],n,void 0,s),o=await this._rpcRequest("getBalance",i),c=W(o,Ze(k()));if("error"in c)throw new Q(c.error,`failed to get balance for ${e.toBase58()}`);return c.result}async getBalance(e,t){return await this.getBalanceAndContext(e,t).then(n=>n.value).catch(n=>{throw new Error("failed to get balance of account "+e.toBase58()+": "+n)})}async getBlockTime(e){let t=await this._rpcRequest("getBlockTime",[e]),n=W(t,ye(K(k())));if("error"in n)throw new Q(n.error,`failed to get block time for slot ${e}`);return n.result}async getMinimumLedgerSlot(){let e=await this._rpcRequest("minimumLedgerSlot",[]),t=W(e,ye(k()));if("error"in t)throw new Q(t.error,"failed to get minimum ledger slot");return t.result}async getFirstAvailableBlock(){let e=await this._rpcRequest("getFirstAvailableBlock",[]),t=W(e,pR);if("error"in t)throw new Q(t.error,"failed to get first available block");return t.result}async getSupply(e){let t={};typeof e=="string"?t={commitment:e}:e?t={...e,commitment:e&&e.commitment||this.commitment}:t={commitment:this.commitment};let n=await this._rpcRequest("getSupply",[t]),s=W(n,mR);if("error"in s)throw new Q(s.error,"failed to get supply");return s.result}async getTokenSupply(e,t){let n=this._buildArgs([e.toBase58()],t),s=await this._rpcRequest("getTokenSupply",n),i=W(s,Ze(Pu));if("error"in i)throw new Q(i.error,"failed to get token supply");return i.result}async getTokenAccountBalance(e,t){let n=this._buildArgs([e.toBase58()],t),s=await this._rpcRequest("getTokenAccountBalance",n),i=W(s,Ze(Pu));if("error"in i)throw new Q(i.error,"failed to get token account balance");return i.result}async getTokenAccountsByOwner(e,t,n){let{commitment:s,config:i}=Le(n),o=[e.toBase58()];"mint"in t?o.push({mint:t.mint.toBase58()}):o.push({programId:t.programId.toBase58()});let c=this._buildArgs(o,s,"base64",i),u=await this._rpcRequest("getTokenAccountsByOwner",c),p=W(u,yR);if("error"in p)throw new Q(p.error,`failed to get token accounts owned by account ${e.toBase58()}`);return p.result}async getParsedTokenAccountsByOwner(e,t,n){let s=[e.toBase58()];"mint"in t?s.push({mint:t.mint.toBase58()}):s.push({programId:t.programId.toBase58()});let i=this._buildArgs(s,n,"jsonParsed"),o=await this._rpcRequest("getTokenAccountsByOwner",i),c=W(o,_R);if("error"in c)throw new Q(c.error,`failed to get token accounts owned by account ${e.toBase58()}`);return c.result}async getLargestAccounts(e){let t={...e,commitment:e&&e.commitment||this.commitment},n=t.filter||t.commitment?[t]:[],s=await this._rpcRequest("getLargestAccounts",n),i=W(s,bR);if("error"in i)throw new Q(i.error,"failed to get largest accounts");return i.result}async getTokenLargestAccounts(e,t){let n=this._buildArgs([e.toBase58()],t),s=await this._rpcRequest("getTokenLargestAccounts",n),i=W(s,gR);if("error"in i)throw new Q(i.error,"failed to get token largest accounts");return i.result}async getAccountInfoAndContext(e,t){let{commitment:n,config:s}=Le(t),i=this._buildArgs([e.toBase58()],n,"base64",s),o=await this._rpcRequest("getAccountInfo",i),c=W(o,Ze(K(pi)));if("error"in c)throw new Q(c.error,`failed to get info about account ${e.toBase58()}`);return c.result}async getParsedAccountInfo(e,t){let{commitment:n,config:s}=Le(t),i=this._buildArgs([e.toBase58()],n,"jsonParsed",s),o=await this._rpcRequest("getAccountInfo",i),c=W(o,Ze(K(Uu)));if("error"in c)throw new Q(c.error,`failed to get info about account ${e.toBase58()}`);return c.result}async getAccountInfo(e,t){try{return(await this.getAccountInfoAndContext(e,t)).value}catch(n){throw new Error("failed to get info about account "+e.toBase58()+": "+n)}}async getMultipleParsedAccounts(e,t){let{commitment:n,config:s}=Le(t),i=e.map(p=>p.toBase58()),o=this._buildArgs([i],n,"jsonParsed",s),c=await this._rpcRequest("getMultipleAccounts",o),u=W(c,Ze(j(K(Uu))));if("error"in u)throw new Q(u.error,`failed to get info for accounts ${i}`);return u.result}async getMultipleAccountsInfoAndContext(e,t){let{commitment:n,config:s}=Le(t),i=e.map(p=>p.toBase58()),o=this._buildArgs([i],n,"base64",s),c=await this._rpcRequest("getMultipleAccounts",o),u=W(c,Ze(j(K(pi))));if("error"in u)throw new Q(u.error,`failed to get info for accounts ${i}`);return u.result}async getMultipleAccountsInfo(e,t){return(await this.getMultipleAccountsInfoAndContext(e,t)).value}async getStakeActivation(e,t,n){let{commitment:s,config:i}=Le(t),o=this._buildArgs([e.toBase58()],s,void 0,{...i,epoch:n??i?.epoch}),c=await this._rpcRequest("getStakeActivation",o),u=W(c,ye(vR));if("error"in u)throw new Q(u.error,`failed to get Stake Activation ${e.toBase58()}`);return u.result}async getProgramAccounts(e,t){let{commitment:n,config:s}=Le(t),{encoding:i,...o}=s||{},c=this._buildArgs([e.toBase58()],n,i||"base64",{...o,...o.filters?{filters:Vh(o.filters)}:null}),u=await this._rpcRequest("getProgramAccounts",c),p=j(wR),m=o.withContext===!0?W(u,Ze(p)):W(u,ye(p));if("error"in m)throw new Q(m.error,`failed to get accounts owned by program ${e.toBase58()}`);return m.result}async getParsedProgramAccounts(e,t){let{commitment:n,config:s}=Le(t),i=this._buildArgs([e.toBase58()],n,"jsonParsed",s),o=await this._rpcRequest("getProgramAccounts",i),c=W(o,ye(j(RR)));if("error"in c)throw new Q(c.error,`failed to get accounts owned by program ${e.toBase58()}`);return c.result}async confirmTransaction(e,t){let n;if(typeof e=="string")n=e;else{let i=e;if(i.abortSignal?.aborted)return Promise.reject(i.abortSignal.reason);n=i.signature}let s;try{s=Rt.default.decode(n)}catch{throw new Error("signature must be base58 encoded: "+n)}return Ae(s.length===64,"signature has invalid length"),typeof e=="string"?await this.confirmTransactionUsingLegacyTimeoutStrategy({commitment:t||this.commitment,signature:n}):"lastValidBlockHeight"in e?await this.confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:t||this.commitment,strategy:e}):await this.confirmTransactionUsingDurableNonceStrategy({commitment:t||this.commitment,strategy:e})}getCancellationPromise(e){return new Promise((t,n)=>{e!=null&&(e.aborted?n(e.reason):e.addEventListener("abort",()=>{n(e.reason)}))})}getTransactionConfirmationPromise({commitment:e,signature:t}){let n,s,i=!1,o=new Promise((u,p)=>{try{n=this.onSignature(t,(b,x)=>{n=void 0;let S={context:x,value:b};u({__type:dn.PROCESSED,response:S})},e);let m=new Promise(b=>{n==null?b():s=this._onSubscriptionStateChange(n,x=>{x==="subscribed"&&b()})});(async()=>{if(await m,i)return;let b=await this.getSignatureStatus(t);if(i||b==null)return;let{context:x,value:S}=b;if(S!=null)if(S?.err)p(S.err);else{switch(e){case"confirmed":case"single":case"singleGossip":{if(S.confirmationStatus==="processed")return;break}case"finalized":case"max":case"root":{if(S.confirmationStatus==="processed"||S.confirmationStatus==="confirmed")return;break}case"processed":case"recent":}i=!0,u({__type:dn.PROCESSED,response:{context:x,value:S}})}})()}catch(m){p(m)}});return{abortConfirmation:()=>{s&&(s(),s=void 0),n!=null&&(this.removeSignatureListener(n),n=void 0)},confirmationPromise:o}}async confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:e,strategy:{abortSignal:t,lastValidBlockHeight:n,signature:s}}){let i=!1,o=new Promise(b=>{let x=async()=>{try{return await this.getBlockHeight(e)}catch{return-1}};(async()=>{let S=await x();if(!i){for(;S<=n;)if(await Zn(1e3),i||(S=await x(),i))return;b({__type:dn.BLOCKHEIGHT_EXCEEDED})}})()}),{abortConfirmation:c,confirmationPromise:u}=this.getTransactionConfirmationPromise({commitment:e,signature:s}),p=this.getCancellationPromise(t),m;try{let b=await Promise.race([p,u,o]);if(b.__type===dn.PROCESSED)m=b.response;else throw new Ho(s)}finally{i=!0,c()}return m}async confirmTransactionUsingDurableNonceStrategy({commitment:e,strategy:{abortSignal:t,minContextSlot:n,nonceAccountPubkey:s,nonceValue:i,signature:o}}){let c=!1,u=new Promise(S=>{let T=i,I=null,A=async()=>{try{let{context:L,value:U}=await this.getNonceAndContext(s,{commitment:e,minContextSlot:n});return I=L.slot,U?.nonce}catch{return T}};(async()=>{if(T=await A(),!c)for(;;){if(i!==T){S({__type:dn.NONCE_INVALID,slotInWhichNonceDidAdvance:I});return}if(await Zn(2e3),c||(T=await A(),c))return}})()}),{abortConfirmation:p,confirmationPromise:m}=this.getTransactionConfirmationPromise({commitment:e,signature:o}),b=this.getCancellationPromise(t),x;try{let S=await Promise.race([b,m,u]);if(S.__type===dn.PROCESSED)x=S.response;else{let T;for(;;){let I=await this.getSignatureStatus(o);if(I==null)break;if(I.context.slot<(S.slotInWhichNonceDidAdvance??n)){await Zn(400);continue}T=I;break}if(T?.value){let I=e||"finalized",{confirmationStatus:A}=T.value;switch(I){case"processed":case"recent":if(A!=="processed"&&A!=="confirmed"&&A!=="finalized")throw new Yn(o);break;case"confirmed":case"single":case"singleGossip":if(A!=="confirmed"&&A!=="finalized")throw new Yn(o);break;case"finalized":case"max":case"root":if(A!=="finalized")throw new Yn(o);break;default:}x={context:T.context,value:{err:T.value.err}}}else throw new Yn(o)}}finally{c=!0,p()}return x}async confirmTransactionUsingLegacyTimeoutStrategy({commitment:e,signature:t}){let n,s=new Promise(u=>{let p=this._confirmTransactionInitialTimeout||6e4;switch(e){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":{p=this._confirmTransactionInitialTimeout||3e4;break}}n=setTimeout(()=>u({__type:dn.TIMED_OUT,timeoutMs:p}),p)}),{abortConfirmation:i,confirmationPromise:o}=this.getTransactionConfirmationPromise({commitment:e,signature:t}),c;try{let u=await Promise.race([o,s]);if(u.__type===dn.PROCESSED)c=u.response;else throw new Go(t,u.timeoutMs/1e3)}finally{clearTimeout(n),i()}return c}async getClusterNodes(){let e=await this._rpcRequest("getClusterNodes",[]),t=W(e,ye(j(PR)));if("error"in t)throw new Q(t.error,"failed to get cluster nodes");return t.result}async getVoteAccounts(e){let t=this._buildArgs([],e),n=await this._rpcRequest("getVoteAccounts",t),s=W(n,MR);if("error"in s)throw new Q(s.error,"failed to get vote accounts");return s.result}async getSlot(e){let{commitment:t,config:n}=Le(e),s=this._buildArgs([],t,void 0,n),i=await this._rpcRequest("getSlot",s),o=W(i,ye(k()));if("error"in o)throw new Q(o.error,"failed to get slot");return o.result}async getSlotLeader(e){let{commitment:t,config:n}=Le(e),s=this._buildArgs([],t,void 0,n),i=await this._rpcRequest("getSlotLeader",s),o=W(i,ye(z()));if("error"in o)throw new Q(o.error,"failed to get slot leader");return o.result}async getSlotLeaders(e,t){let n=[e,t],s=await this._rpcRequest("getSlotLeaders",n),i=W(s,ye(j(qe)));if("error"in i)throw new Q(i.error,"failed to get slot leaders");return i.result}async getSignatureStatus(e,t){let{context:n,value:s}=await this.getSignatureStatuses([e],t);Ae(s.length===1);let i=s[0];return{context:n,value:i}}async getSignatureStatuses(e,t){let n=[e];t&&n.push(t);let s=await this._rpcRequest("getSignatureStatuses",n),i=W(s,zR);if("error"in i)throw new Q(i.error,"failed to get signature status");return i.result}async getTransactionCount(e){let{commitment:t,config:n}=Le(e),s=this._buildArgs([],t,void 0,n),i=await this._rpcRequest("getTransactionCount",s),o=W(i,ye(k()));if("error"in o)throw new Q(o.error,"failed to get transaction count");return o.result}async getTotalSupply(e){return(await this.getSupply({commitment:e,excludeNonCirculatingAccountsList:!0})).value.total}async getInflationGovernor(e){let t=this._buildArgs([],e),n=await this._rpcRequest("getInflationGovernor",t),s=W(n,cR);if("error"in s)throw new Q(s.error,"failed to get inflation");return s.result}async getInflationReward(e,t,n){let{commitment:s,config:i}=Le(n),o=this._buildArgs([e.map(p=>p.toBase58())],s,void 0,{...i,epoch:t??i?.epoch}),c=await this._rpcRequest("getInflationReward",o),u=W(c,HE);if("error"in u)throw new Q(u.error,"failed to get inflation reward");return u.result}async getInflationRate(){let e=await this._rpcRequest("getInflationRate",[]),t=W(e,uR);if("error"in t)throw new Q(t.error,"failed to get inflation rate");return t.result}async getEpochInfo(e){let{commitment:t,config:n}=Le(e),s=this._buildArgs([],t,void 0,n),i=await this._rpcRequest("getEpochInfo",s),o=W(i,lR);if("error"in o)throw new Q(o.error,"failed to get epoch info");return o.result}async getEpochSchedule(){let e=await this._rpcRequest("getEpochSchedule",[]),t=W(e,dR);if("error"in t)throw new Q(t.error,"failed to get epoch schedule");let n=t.result;return new Bu(n.slotsPerEpoch,n.leaderScheduleSlotOffset,n.warmup,n.firstNormalEpoch,n.firstNormalSlot)}async getLeaderSchedule(){let e=await this._rpcRequest("getLeaderSchedule",[]),t=W(e,hR);if("error"in t)throw new Q(t.error,"failed to get leader schedule");return t.result}async getMinimumBalanceForRentExemption(e,t){let n=this._buildArgs([e],t),s=await this._rpcRequest("getMinimumBalanceForRentExemption",n),i=W(s,FR);return"error"in i?(console.warn("Unable to fetch minimum balance for rent exemption"),0):i.result}async getRecentBlockhashAndContext(e){let{context:t,value:{blockhash:n}}=await this.getLatestBlockhashAndContext(e);return{context:t,value:{blockhash:n,feeCalculator:{get lamportsPerSignature(){throw new Error("The capability to fetch `lamportsPerSignature` using the `getRecentBlockhash` API is no longer offered by the network. Use the `getFeeForMessage` API to obtain the fee for a given message.")},toJSON(){return{}}}}}}async getRecentPerformanceSamples(e){let t=await this._rpcRequest("getRecentPerformanceSamples",e?[e]:[]),n=W(t,QR);if("error"in n)throw new Q(n.error,"failed to get recent performance samples");return n.result}async getFeeCalculatorForBlockhash(e,t){let n=this._buildArgs([e],t),s=await this._rpcRequest("getFeeCalculatorForBlockhash",n),i=W(s,ev);if("error"in i)throw new Q(i.error,"failed to get fee calculator");let{context:o,value:c}=i.result;return{context:o,value:c!==null?c.feeCalculator:null}}async getFeeForMessage(e,t){let n=we(e.serialize()).toString("base64"),s=this._buildArgs([n],t),i=await this._rpcRequest("getFeeForMessage",s),o=W(i,Ze(K(k())));if("error"in o)throw new Q(o.error,"failed to get fee for message");if(o.result===null)throw new Error("invalid blockhash");return o.result}async getRecentPrioritizationFees(e){let t=e?.lockedWritableAccounts?.map(o=>o.toBase58()),n=t?.length?[t]:[],s=await this._rpcRequest("getRecentPrioritizationFees",n),i=W(s,fR);if("error"in i)throw new Q(i.error,"failed to get recent prioritization fees");return i.result}async getRecentBlockhash(e){try{return(await this.getRecentBlockhashAndContext(e)).value}catch(t){throw new Error("failed to get recent blockhash: "+t)}}async getLatestBlockhash(e){try{return(await this.getLatestBlockhashAndContext(e)).value}catch(t){throw new Error("failed to get recent blockhash: "+t)}}async getLatestBlockhashAndContext(e){let{commitment:t,config:n}=Le(e),s=this._buildArgs([],t,void 0,n),i=await this._rpcRequest("getLatestBlockhash",s),o=W(i,YR);if("error"in o)throw new Q(o.error,"failed to get latest blockhash");return o.result}async isBlockhashValid(e,t){let{commitment:n,config:s}=Le(t),i=this._buildArgs([e],n,void 0,s),o=await this._rpcRequest("isBlockhashValid",i),c=W(o,JR);if("error"in c)throw new Q(c.error,"failed to determine if the blockhash `"+e+"`is valid");return c.result}async getVersion(){let e=await this._rpcRequest("getVersion",[]),t=W(e,ye(tR));if("error"in t)throw new Q(t.error,"failed to get version");return t.result}async getGenesisHash(){let e=await this._rpcRequest("getGenesisHash",[]),t=W(e,ye(z()));if("error"in t)throw new Q(t.error,"failed to get genesis hash");return t.result}async getBlock(e,t){let{commitment:n,config:s}=Le(t),i=this._buildArgsAtLeastConfirmed([e],n,void 0,s),o=await this._rpcRequest("getBlock",i);try{switch(s?.transactionDetails){case"accounts":{let c=W(o,jR);if("error"in c)throw c.error;return c.result}case"none":{let c=W(o,qR);if("error"in c)throw c.error;return c.result}default:{let c=W(o,WR);if("error"in c)throw c.error;let{result:u}=c;return u?{...u,transactions:u.transactions.map(({transaction:p,meta:m,version:b})=>({meta:m,transaction:{...p,message:Su(b,p.message)},version:b}))}:null}}}catch(c){throw new Q(c,"failed to get confirmed block")}}async getParsedBlock(e,t){let{commitment:n,config:s}=Le(t),i=this._buildArgsAtLeastConfirmed([e],n,"jsonParsed",s),o=await this._rpcRequest("getBlock",i);try{switch(s?.transactionDetails){case"accounts":{let c=W(o,HR);if("error"in c)throw c.error;return c.result}case"none":{let c=W(o,GR);if("error"in c)throw c.error;return c.result}default:{let c=W(o,KR);if("error"in c)throw c.error;return c.result}}}catch(c){throw new Q(c,"failed to get block")}}async getBlockProduction(e){let t,n;if(typeof e=="string")n=e;else if(e){let{commitment:c,...u}=e;n=c,t=u}let s=this._buildArgs([],n,"base64",t),i=await this._rpcRequest("getBlockProduction",s),o=W(i,sR);if("error"in o)throw new Q(o.error,"failed to get block production information");return o.result}async getTransaction(e,t){let{commitment:n,config:s}=Le(t),i=this._buildArgsAtLeastConfirmed([e],n,void 0,s),o=await this._rpcRequest("getTransaction",i),c=W(o,xu);if("error"in c)throw new Q(c.error,"failed to get transaction");let u=c.result;return u&&{...u,transaction:{...u.transaction,message:Su(u.version,u.transaction.message)}}}async getParsedTransaction(e,t){let{commitment:n,config:s}=Le(t),i=this._buildArgsAtLeastConfirmed([e],n,"jsonParsed",s),o=await this._rpcRequest("getTransaction",i),c=W(o,Wo);if("error"in c)throw new Q(c.error,"failed to get transaction");return c.result}async getParsedTransactions(e,t){let{commitment:n,config:s}=Le(t),i=e.map(u=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([u],n,"jsonParsed",s)}));return(await this._rpcBatchRequest(i)).map(u=>{let p=W(u,Wo);if("error"in p)throw new Q(p.error,"failed to get transactions");return p.result})}async getTransactions(e,t){let{commitment:n,config:s}=Le(t),i=e.map(u=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([u],n,void 0,s)}));return(await this._rpcBatchRequest(i)).map(u=>{let p=W(u,xu);if("error"in p)throw new Q(p.error,"failed to get transactions");let m=p.result;return m&&{...m,transaction:{...m.transaction,message:Su(m.version,m.transaction.message)}}})}async getConfirmedBlock(e,t){let n=this._buildArgsAtLeastConfirmed([e],t),s=await this._rpcRequest("getBlock",n),i=W(s,ZR);if("error"in i)throw new Q(i.error,"failed to get confirmed block");let o=i.result;if(!o)throw new Error("Confirmed block "+e+" not found");let c={...o,transactions:o.transactions.map(({transaction:u,meta:p})=>{let m=new mn(u.message);return{meta:p,transaction:{...u,message:m}}})};return{...c,transactions:c.transactions.map(({transaction:u,meta:p})=>({meta:p,transaction:Se.populate(u.message,u.signatures)}))}}async getBlocks(e,t,n){let s=this._buildArgsAtLeastConfirmed(t!==void 0?[e,t]:[e],n),i=await this._rpcRequest("getBlocks",s),o=W(i,ye(j(k())));if("error"in o)throw new Q(o.error,"failed to get blocks");return o.result}async getBlockSignatures(e,t){let n=this._buildArgsAtLeastConfirmed([e],t,void 0,{transactionDetails:"signatures",rewards:!1}),s=await this._rpcRequest("getBlock",n),i=W(s,jh);if("error"in i)throw new Q(i.error,"failed to get block");let o=i.result;if(!o)throw new Error("Block "+e+" not found");return o}async getConfirmedBlockSignatures(e,t){let n=this._buildArgsAtLeastConfirmed([e],t,void 0,{transactionDetails:"signatures",rewards:!1}),s=await this._rpcRequest("getBlock",n),i=W(s,jh);if("error"in i)throw new Q(i.error,"failed to get confirmed block");let o=i.result;if(!o)throw new Error("Confirmed block "+e+" not found");return o}async getConfirmedTransaction(e,t){let n=this._buildArgsAtLeastConfirmed([e],t),s=await this._rpcRequest("getTransaction",n),i=W(s,xu);if("error"in i)throw new Q(i.error,"failed to get transaction");let o=i.result;if(!o)return o;let c=new mn(o.transaction.message),u=o.transaction.signatures;return{...o,transaction:Se.populate(c,u)}}async getParsedConfirmedTransaction(e,t){let n=this._buildArgsAtLeastConfirmed([e],t,"jsonParsed"),s=await this._rpcRequest("getTransaction",n),i=W(s,Wo);if("error"in i)throw new Q(i.error,"failed to get confirmed transaction");return i.result}async getParsedConfirmedTransactions(e,t){let n=e.map(o=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([o],t,"jsonParsed")}));return(await this._rpcBatchRequest(n)).map(o=>{let c=W(o,Wo);if("error"in c)throw new Q(c.error,"failed to get confirmed transactions");return c.result})}async getConfirmedSignaturesForAddress(e,t,n){let s={},i=await this.getFirstAvailableBlock();for(;!("until"in s)&&(t--,!(t<=0||t<i));)try{let u=await this.getConfirmedBlockSignatures(t,"finalized");u.signatures.length>0&&(s.until=u.signatures[u.signatures.length-1].toString())}catch(u){if(u instanceof Error&&u.message.includes("skipped"))continue;throw u}let o=await this.getSlot("finalized");for(;!("before"in s)&&(n++,!(n>o));)try{let u=await this.getConfirmedBlockSignatures(n);u.signatures.length>0&&(s.before=u.signatures[u.signatures.length-1].toString())}catch(u){if(u instanceof Error&&u.message.includes("skipped"))continue;throw u}return(await this.getConfirmedSignaturesForAddress2(e,s)).map(u=>u.signature)}async getConfirmedSignaturesForAddress2(e,t,n){let s=this._buildArgsAtLeastConfirmed([e.toBase58()],n,void 0,t),i=await this._rpcRequest("getConfirmedSignaturesForAddress2",s),o=W(i,SR);if("error"in o)throw new Q(o.error,"failed to get confirmed signatures for address");return o.result}async getSignaturesForAddress(e,t,n){let s=this._buildArgsAtLeastConfirmed([e.toBase58()],n,void 0,t),i=await this._rpcRequest("getSignaturesForAddress",s),o=W(i,xR);if("error"in o)throw new Q(o.error,"failed to get signatures for address");return o.result}async getAddressLookupTable(e,t){let{context:n,value:s}=await this.getAccountInfoAndContext(e,t),i=null;return s!==null&&(i=new Xo({key:e,state:Xo.deserialize(s.data)})),{context:n,value:i}}async getNonceAndContext(e,t){let{context:n,value:s}=await this.getAccountInfoAndContext(e,t),i=null;return s!==null&&(i=Nu.fromAccountData(s.data)),{context:n,value:i}}async getNonce(e,t){return await this.getNonceAndContext(e,t).then(n=>n.value).catch(n=>{throw new Error("failed to get nonce for account "+e.toBase58()+": "+n)})}async requestAirdrop(e,t){let n=await this._rpcRequest("requestAirdrop",[e.toBase58(),t]),s=W(n,tv);if("error"in s)throw new Q(s.error,`airdrop to ${e.toBase58()} failed`);return s.result}async _blockhashWithExpiryBlockHeight(e){if(!e){for(;this._pollingBlockhash;)await Zn(100);let n=Date.now()-this._blockhashInfo.lastFetch>=WE;if(this._blockhashInfo.latestBlockhash!==null&&!n)return this._blockhashInfo.latestBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{let e=Date.now(),t=this._blockhashInfo.latestBlockhash,n=t?t.blockhash:null;for(let s=0;s<50;s++){let i=await this.getLatestBlockhash("finalized");if(n!==i.blockhash)return this._blockhashInfo={latestBlockhash:i,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},i;await Zn(np/2)}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-e}ms`)}finally{this._pollingBlockhash=!1}}async getStakeMinimumDelegation(e){let{commitment:t,config:n}=Le(e),s=this._buildArgs([],t,"base64",n),i=await this._rpcRequest("getStakeMinimumDelegation",s),o=W(i,Ze(k()));if("error"in o)throw new Q(o.error,"failed to get stake minimum delegation");return o.result}async simulateTransaction(e,t,n){if("message"in e){let I=e.serialize(),A=ce.Buffer.from(I).toString("base64");if(Array.isArray(t)||n!==void 0)throw new Error("Invalid arguments");let L=t||{};L.encoding="base64","commitment"in L||(L.commitment=this.commitment),t&&typeof t=="object"&&"innerInstructions"in t&&(L.innerInstructions=t.innerInstructions);let U=[A,L],B=await this._rpcRequest("simulateTransaction",U),F=W(B,Wh);if("error"in F)throw new Error("failed to simulate transaction: "+F.error.message);return F.result}let s;if(e instanceof Se){let T=e;s=new Se,s.feePayer=T.feePayer,s.instructions=e.instructions,s.nonceInfo=T.nonceInfo,s.signatures=T.signatures}else s=Se.populate(e),s._message=s._json=void 0;if(t!==void 0&&!Array.isArray(t))throw new Error("Invalid arguments");let i=t;if(s.nonceInfo&&i)s.sign(...i);else{let T=this._disableBlockhashCaching;for(;;){let I=await this._blockhashWithExpiryBlockHeight(T);if(s.lastValidBlockHeight=I.lastValidBlockHeight,s.recentBlockhash=I.blockhash,!i)break;if(s.sign(...i),!s.signature)throw new Error("!signature");let A=s.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(A)&&!this._blockhashInfo.transactionSignatures.includes(A)){this._blockhashInfo.simulatedSignatures.push(A);break}else T=!0}}let o=s._compile(),c=o.serialize(),p=s._serialize(c).toString("base64"),m={encoding:"base64",commitment:this.commitment};if(n){let T=(Array.isArray(n)?n:o.nonProgramIds()).map(I=>I.toBase58());m.accounts={encoding:"base64",addresses:T}}i&&(m.sigVerify=!0),t&&typeof t=="object"&&"innerInstructions"in t&&(m.innerInstructions=t.innerInstructions);let b=[p,m],x=await this._rpcRequest("simulateTransaction",b),S=W(x,Wh);if("error"in S){let T;if("data"in S.error&&(T=S.error.data.logs,T&&Array.isArray(T))){let I=`
    `,A=I+T.join(I);console.error(S.error.message,A)}throw new hi({action:"simulate",signature:"",transactionMessage:S.error.message,logs:T})}return S.result}async sendTransaction(e,t,n){if("version"in e){if(t&&Array.isArray(t))throw new Error("Invalid arguments");let o=e.serialize();return await this.sendRawTransaction(o,t)}if(t===void 0||!Array.isArray(t))throw new Error("Invalid arguments");let s=t;if(e.nonceInfo)e.sign(...s);else{let o=this._disableBlockhashCaching;for(;;){let c=await this._blockhashWithExpiryBlockHeight(o);if(e.lastValidBlockHeight=c.lastValidBlockHeight,e.recentBlockhash=c.blockhash,e.sign(...s),!e.signature)throw new Error("!signature");let u=e.signature.toString("base64");if(this._blockhashInfo.transactionSignatures.includes(u))o=!0;else{this._blockhashInfo.transactionSignatures.push(u);break}}}let i=e.serialize();return await this.sendRawTransaction(i,n)}async sendRawTransaction(e,t){let n=we(e).toString("base64");return await this.sendEncodedTransaction(n,t)}async sendEncodedTransaction(e,t){let n={encoding:"base64"},s=t&&t.skipPreflight,i=s===!0?"processed":t&&t.preflightCommitment||this.commitment;t&&t.maxRetries!=null&&(n.maxRetries=t.maxRetries),t&&t.minContextSlot!=null&&(n.minContextSlot=t.minContextSlot),s&&(n.skipPreflight=s),i&&(n.preflightCommitment=i);let o=[e,n],c=await this._rpcRequest("sendTransaction",o),u=W(c,rv);if("error"in u){let p;throw"data"in u.error&&(p=u.error.data.logs),new hi({action:s?"send":"simulate",signature:"",transactionMessage:u.error.message,logs:p})}return u.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval(()=>{(async()=>{try{await this._rpcWebSocket.notify("ping")}catch{}})()},5e3),this._updateSubscriptions()}_wsOnError(e){this._rpcWebSocketConnected=!1,console.error("ws error:",e.message)}_wsOnClose(e){if(this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration=(this._rpcWebSocketGeneration+1)%Number.MAX_SAFE_INTEGER,this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null),this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),e===1e3){this._updateSubscriptions();return}this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach(([t,n])=>{this._setSubscription(t,{...n,state:"pending"})})}_setSubscription(e,t){let n=this._subscriptionsByHash[e]?.state;if(this._subscriptionsByHash[e]=t,n!==t.state){let s=this._subscriptionStateChangeCallbacksByHash[e];s&&s.forEach(i=>{try{i(t.state)}catch{}})}}_onSubscriptionStateChange(e,t){let n=this._subscriptionHashByClientSubscriptionId[e];if(n==null)return()=>{};let s=this._subscriptionStateChangeCallbacksByHash[n]||=new Set;return s.add(t),()=>{s.delete(t),s.size===0&&delete this._subscriptionStateChangeCallbacksByHash[n]}}async _updateSubscriptions(){if(Object.keys(this._subscriptionsByHash).length===0){this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout(()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(n){n instanceof Error&&console.log(`Error when closing socket connection: ${n.message}`)}},500));return}if(this._rpcWebSocketIdleTimeout!==null&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected){this._rpcWebSocket.connect();return}let e=this._rpcWebSocketGeneration,t=()=>e===this._rpcWebSocketGeneration;await Promise.all(Object.keys(this._subscriptionsByHash).map(async n=>{let s=this._subscriptionsByHash[n];if(s!==void 0)switch(s.state){case"pending":case"unsubscribed":if(s.callbacks.size===0){delete this._subscriptionsByHash[n],s.state==="unsubscribed"&&delete this._subscriptionCallbacksByServerSubscriptionId[s.serverSubscriptionId],await this._updateSubscriptions();return}await(async()=>{let{args:i,method:o}=s;try{this._setSubscription(n,{...s,state:"subscribing"});let c=await this._rpcWebSocket.call(o,i);this._setSubscription(n,{...s,serverSubscriptionId:c,state:"subscribed"}),this._subscriptionCallbacksByServerSubscriptionId[c]=s.callbacks,await this._updateSubscriptions()}catch(c){if(console.error(`Received ${c instanceof Error?"":"JSON-RPC "}error calling \`${o}\``,{args:i,error:c}),!t())return;this._setSubscription(n,{...s,state:"pending"}),await this._updateSubscriptions()}})();break;case"subscribed":s.callbacks.size===0&&await(async()=>{let{serverSubscriptionId:i,unsubscribeMethod:o}=s;if(this._subscriptionsAutoDisposedByRpc.has(i))this._subscriptionsAutoDisposedByRpc.delete(i);else{this._setSubscription(n,{...s,state:"unsubscribing"}),this._setSubscription(n,{...s,state:"unsubscribing"});try{await this._rpcWebSocket.call(o,[i])}catch(c){if(c instanceof Error&&console.error(`${o} error:`,c.message),!t())return;this._setSubscription(n,{...s,state:"subscribed"}),await this._updateSubscriptions();return}}this._setSubscription(n,{...s,state:"unsubscribed"}),await this._updateSubscriptions()})();break}}))}_handleServerNotification(e,t){let n=this._subscriptionCallbacksByServerSubscriptionId[e];n!==void 0&&n.forEach(s=>{try{s(...t)}catch(i){console.error(i)}})}_wsOnAccountNotification(e){let{result:t,subscription:n}=W(e,AR);this._handleServerNotification(n,[t.value,t.context])}_makeSubscription(e,t){let n=this._nextClientSubscriptionId++,s=Fh([e.method,t]),i=this._subscriptionsByHash[s];return i===void 0?this._subscriptionsByHash[s]={...e,args:t,callbacks:new Set([e.callback]),state:"pending"}:i.callbacks.add(e.callback),this._subscriptionHashByClientSubscriptionId[n]=s,this._subscriptionDisposeFunctionsByClientSubscriptionId[n]=async()=>{delete this._subscriptionDisposeFunctionsByClientSubscriptionId[n],delete this._subscriptionHashByClientSubscriptionId[n];let o=this._subscriptionsByHash[s];Ae(o!==void 0,`Could not find a \`Subscription\` when tearing down client subscription #${n}`),o.callbacks.delete(e.callback),await this._updateSubscriptions()},this._updateSubscriptions(),n}onAccountChange(e,t,n){let{commitment:s,config:i}=Le(n),o=this._buildArgs([e.toBase58()],s||this._commitment||"finalized","base64",i);return this._makeSubscription({callback:t,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},o)}async removeAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"account change")}_wsOnProgramAccountNotification(e){let{result:t,subscription:n}=W(e,kR);this._handleServerNotification(n,[{accountId:t.value.pubkey,accountInfo:t.value.account},t.context])}onProgramAccountChange(e,t,n,s){let{commitment:i,config:o}=Le(n),c=this._buildArgs([e.toBase58()],i||this._commitment||"finalized","base64",o||(s?{filters:Vh(s)}:void 0));return this._makeSubscription({callback:t,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},c)}async removeProgramAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"program account change")}onLogs(e,t,n){let s=this._buildArgs([typeof e=="object"?{mentions:[e.toString()]}:e],n||this._commitment||"finalized");return this._makeSubscription({callback:t,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},s)}async removeOnLogsListener(e){await this._unsubscribeClientSubscription(e,"logs")}_wsOnLogsNotification(e){let{result:t,subscription:n}=W(e,sv);this._handleServerNotification(n,[t.value,t.context])}_wsOnSlotNotification(e){let{result:t,subscription:n}=W(e,TR);this._handleServerNotification(n,[t])}onSlotChange(e){return this._makeSubscription({callback:e,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}async removeSlotChangeListener(e){await this._unsubscribeClientSubscription(e,"slot change")}_wsOnSlotUpdatesNotification(e){let{result:t,subscription:n}=W(e,LR);this._handleServerNotification(n,[t])}onSlotUpdate(e){return this._makeSubscription({callback:e,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}async removeSlotUpdateListener(e){await this._unsubscribeClientSubscription(e,"slot update")}async _unsubscribeClientSubscription(e,t){let n=this._subscriptionDisposeFunctionsByClientSubscriptionId[e];n?await n():console.warn(`Ignored unsubscribe request because an active subscription with id \`${e}\` for '${t}' events could not be found.`)}_buildArgs(e,t,n,s){let i=t||this._commitment;if(i||n||s){let o={};n&&(o.encoding=n),i&&(o.commitment=i),s&&(o=Object.assign(o,s)),e.push(o)}return e}_buildArgsAtLeastConfirmed(e,t,n,s){let i=t||this._commitment;if(i&&!["confirmed","finalized"].includes(i))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(e,t,n,s)}_wsOnSignatureNotification(e){let{result:t,subscription:n}=W(e,BR);t.value!=="receivedSignature"&&this._subscriptionsAutoDisposedByRpc.add(n),this._handleServerNotification(n,t.value==="receivedSignature"?[{type:"received"},t.context]:[{type:"status",result:t.value},t.context])}onSignature(e,t,n){let s=this._buildArgs([e],n||this._commitment||"finalized"),i=this._makeSubscription({callback:(o,c)=>{if(o.type==="status"){t(o.result,c);try{this.removeSignatureListener(i)}catch{}}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},s);return i}onSignatureWithOptions(e,t,n){let{commitment:s,...i}={...n,commitment:n&&n.commitment||this._commitment||"finalized"},o=this._buildArgs([e],s,void 0,i),c=this._makeSubscription({callback:(u,p)=>{t(u,p);try{this.removeSignatureListener(c)}catch{}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},o);return c}async removeSignatureListener(e){await this._unsubscribeClientSubscription(e,"signature result")}_wsOnRootNotification(e){let{result:t,subscription:n}=W(e,CR);this._handleServerNotification(n,[t])}onRootChange(e){return this._makeSubscription({callback:e,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}async removeRootChangeListener(e){await this._unsubscribeClientSubscription(e,"root change")}},Du=class r{constructor(e){this._keypair=void 0,this._keypair=e??Ch()}static generate(){return new r(Ch())}static fromSecretKey(e,t){if(e.byteLength!==64)throw new Error("bad secret key size");let n=e.slice(32,64);if(!t||!t.skipValidation){let s=e.slice(0,32),i=Ou(s);for(let o=0;o<32;o++)if(n[o]!==i[o])throw new Error("provided secretKey is invalid")}return new r({publicKey:n,secretKey:e})}static fromSeed(e){let t=Ou(e),n=new Uint8Array(64);return n.set(e),n.set(t,32),new r({publicKey:t,secretKey:n})}get publicKey(){return new ue(this._keypair.publicKey)}get secretKey(){return new Uint8Array(this._keypair.secretKey)}},fi=Object.freeze({CreateLookupTable:{index:0,layout:R.struct([R.u32("instruction"),Ts("recentSlot"),R.u8("bumpSeed")])},FreezeLookupTable:{index:1,layout:R.struct([R.u32("instruction")])},ExtendLookupTable:{index:2,layout:R.struct([R.u32("instruction"),Ts(),R.seq(be(),R.offset(R.u32(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:R.struct([R.u32("instruction")])},CloseLookupTable:{index:4,layout:R.struct([R.u32("instruction")])}});var zu=class{constructor(){}static createLookupTable(e){let[t,n]=ue.findProgramAddressSync([e.authority.toBuffer(),tu().encode(e.recentSlot)],this.programId),s=fi.CreateLookupTable,i=Ee(s,{recentSlot:BigInt(e.recentSlot),bumpSeed:n}),o=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:Ft.programId,isSigner:!1,isWritable:!1}];return[new Te({programId:this.programId,keys:o,data:i}),t]}static freezeLookupTable(e){let t=fi.FreezeLookupTable,n=Ee(t),s=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new Te({programId:this.programId,keys:s,data:n})}static extendLookupTable(e){let t=fi.ExtendLookupTable,n=Ee(t,{addresses:e.addresses.map(i=>i.toBytes())}),s=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return e.payer&&s.push({pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:Ft.programId,isSigner:!1,isWritable:!1}),new Te({programId:this.programId,keys:s,data:n})}static deactivateLookupTable(e){let t=fi.DeactivateLookupTable,n=Ee(t),s=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new Te({programId:this.programId,keys:s,data:n})}static closeLookupTable(e){let t=fi.CloseLookupTable,n=Ee(t),s=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.recipient,isSigner:!1,isWritable:!0}];return new Te({programId:this.programId,keys:s,data:n})}};zu.programId=new ue("AddressLookupTab1e1111111111111111111111111");var qo=Object.freeze({RequestUnits:{index:0,layout:R.struct([R.u8("instruction"),R.u32("units"),R.u32("additionalFee")])},RequestHeapFrame:{index:1,layout:R.struct([R.u8("instruction"),R.u32("bytes")])},SetComputeUnitLimit:{index:2,layout:R.struct([R.u8("instruction"),R.u32("units")])},SetComputeUnitPrice:{index:3,layout:R.struct([R.u8("instruction"),Ts("microLamports")])}}),Fu=class{constructor(){}static requestUnits(e){let t=qo.RequestUnits,n=Ee(t,e);return new Te({keys:[],programId:this.programId,data:n})}static requestHeapFrame(e){let t=qo.RequestHeapFrame,n=Ee(t,e);return new Te({keys:[],programId:this.programId,data:n})}static setComputeUnitLimit(e){let t=qo.SetComputeUnitLimit,n=Ee(t,e);return new Te({keys:[],programId:this.programId,data:n})}static setComputeUnitPrice(e){let t=qo.SetComputeUnitPrice,n=Ee(t,{microLamports:BigInt(e.microLamports)});return new Te({keys:[],programId:this.programId,data:n})}};Fu.programId=new ue("ComputeBudget111111111111111111111111111111");var Kh=64,Hh=32,Gh=64,Zh=R.struct([R.u8("numSignatures"),R.u8("padding"),R.u16("signatureOffset"),R.u16("signatureInstructionIndex"),R.u16("publicKeyOffset"),R.u16("publicKeyInstructionIndex"),R.u16("messageDataOffset"),R.u16("messageDataSize"),R.u16("messageInstructionIndex")]),$u=class r{constructor(){}static createInstructionWithPublicKey(e){let{publicKey:t,message:n,signature:s,instructionIndex:i}=e;Ae(t.length===Hh,`Public Key must be ${Hh} bytes but received ${t.length} bytes`),Ae(s.length===Gh,`Signature must be ${Gh} bytes but received ${s.length} bytes`);let o=Zh.span,c=o+t.length,u=c+s.length,p=1,m=ce.Buffer.alloc(u+n.length),b=i??65535;return Zh.encode({numSignatures:p,padding:0,signatureOffset:c,signatureInstructionIndex:b,publicKeyOffset:o,publicKeyInstructionIndex:b,messageDataOffset:u,messageDataSize:n.length,messageInstructionIndex:b},m),m.fill(t,o),m.fill(s,c),m.fill(n,u),new Te({keys:[],programId:r.programId,data:m})}static createInstructionWithPrivateKey(e){let{privateKey:t,message:n,instructionIndex:s}=e;Ae(t.length===Kh,`Private key must be ${Kh} bytes but received ${t.length} bytes`);try{let i=Du.fromSecretKey(t),o=i.publicKey.toBytes(),c=Wu(n,i.secretKey);return this.createInstructionWithPublicKey({publicKey:o,message:n,signature:c,instructionIndex:s})}catch(i){throw new Error(`Error creating instruction; ${i}`)}}};$u.programId=new ue("Ed25519SigVerify111111111111111111111111111");var ov=(r,e)=>{let t=ci.sign(r,e);return[t.toCompactRawBytes(),t.recovery]};ci.utils.isValidPrivateKey;var av=ci.getPublicKey,Yh=32,Au=20,Jh=64,cv=11,Iu=R.struct([R.u8("numSignatures"),R.u16("signatureOffset"),R.u8("signatureInstructionIndex"),R.u16("ethAddressOffset"),R.u8("ethAddressInstructionIndex"),R.u16("messageDataOffset"),R.u16("messageDataSize"),R.u8("messageInstructionIndex"),R.blob(20,"ethAddress"),R.blob(64,"signature"),R.u8("recoveryId")]),Vu=class r{constructor(){}static publicKeyToEthAddress(e){Ae(e.length===Jh,`Public key must be ${Jh} bytes but received ${e.length} bytes`);try{return ce.Buffer.from(mu(we(e))).slice(-Au)}catch(t){throw new Error(`Error constructing Ethereum address: ${t}`)}}static createInstructionWithPublicKey(e){let{publicKey:t,message:n,signature:s,recoveryId:i,instructionIndex:o}=e;return r.createInstructionWithEthAddress({ethAddress:r.publicKeyToEthAddress(t),message:n,signature:s,recoveryId:i,instructionIndex:o})}static createInstructionWithEthAddress(e){let{ethAddress:t,message:n,signature:s,recoveryId:i,instructionIndex:o=0}=e,c;typeof t=="string"?t.startsWith("0x")?c=ce.Buffer.from(t.substr(2),"hex"):c=ce.Buffer.from(t,"hex"):c=t,Ae(c.length===Au,`Address must be ${Au} bytes but received ${c.length} bytes`);let u=1+cv,p=u,m=u+c.length,b=m+s.length+1,x=1,S=ce.Buffer.alloc(Iu.span+n.length);return Iu.encode({numSignatures:x,signatureOffset:m,signatureInstructionIndex:o,ethAddressOffset:p,ethAddressInstructionIndex:o,messageDataOffset:b,messageDataSize:n.length,messageInstructionIndex:o,signature:we(s),ethAddress:we(c),recoveryId:i},S),S.fill(we(n),Iu.span),new Te({keys:[],programId:r.programId,data:S})}static createInstructionWithPrivateKey(e){let{privateKey:t,message:n,instructionIndex:s}=e;Ae(t.length===Yh,`Private key must be ${Yh} bytes but received ${t.length} bytes`);try{let i=we(t),o=av(i,!1).slice(1),c=ce.Buffer.from(mu(we(n))),[u,p]=ov(c,i);return this.createInstructionWithPublicKey({publicKey:o,message:n,signature:u,recoveryId:p,instructionIndex:s})}catch(i){throw new Error(`Error creating instruction; ${i}`)}}};Vu.programId=new ue("KeccakSecp256k11111111111111111111111111111");var mp,uv=new ue("StakeConfig11111111111111111111111111111111");var mi=class{constructor(e,t,n){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=e,this.epoch=t,this.custodian=n}};mp=mi;mi.default=new mp(0,0,ue.default);var hn=Object.freeze({Initialize:{index:0,layout:R.struct([R.u32("instruction"),SE(),xE()])},Authorize:{index:1,layout:R.struct([R.u32("instruction"),be("newAuthorized"),R.u32("stakeAuthorizationType")])},Delegate:{index:2,layout:R.struct([R.u32("instruction")])},Split:{index:3,layout:R.struct([R.u32("instruction"),R.ns64("lamports")])},Withdraw:{index:4,layout:R.struct([R.u32("instruction"),R.ns64("lamports")])},Deactivate:{index:5,layout:R.struct([R.u32("instruction")])},Merge:{index:7,layout:R.struct([R.u32("instruction")])},AuthorizeWithSeed:{index:8,layout:R.struct([R.u32("instruction"),be("newAuthorized"),R.u32("stakeAuthorizationType"),ks("authoritySeed"),be("authorityOwner")])}}),BI=Object.freeze({Staker:{index:0},Withdrawer:{index:1}}),ta=class{constructor(){}static initialize(e){let{stakePubkey:t,authorized:n,lockup:s}=e,i=s||mi.default,o=hn.Initialize,c=Ee(o,{authorized:{staker:we(n.staker.toBuffer()),withdrawer:we(n.withdrawer.toBuffer())},lockup:{unixTimestamp:i.unixTimestamp,epoch:i.epoch,custodian:we(i.custodian.toBuffer())}}),u={keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:di,isSigner:!1,isWritable:!1}],programId:this.programId,data:c};return new Te(u)}static createAccountWithSeed(e){let t=new Se;t.add(Ft.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:this.space,programId:this.programId}));let{stakePubkey:n,authorized:s,lockup:i}=e;return t.add(this.initialize({stakePubkey:n,authorized:s,lockup:i}))}static createAccount(e){let t=new Se;t.add(Ft.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,lamports:e.lamports,space:this.space,programId:this.programId}));let{stakePubkey:n,authorized:s,lockup:i}=e;return t.add(this.initialize({stakePubkey:n,authorized:s,lockup:i}))}static delegate(e){let{stakePubkey:t,authorizedPubkey:n,votePubkey:s}=e,i=hn.Delegate,o=Ee(i);return new Se().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!1},{pubkey:zr,isSigner:!1,isWritable:!1},{pubkey:Eu,isSigner:!1,isWritable:!1},{pubkey:uv,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:o})}static authorize(e){let{stakePubkey:t,authorizedPubkey:n,newAuthorizedPubkey:s,stakeAuthorizationType:i,custodianPubkey:o}=e,c=hn.Authorize,u=Ee(c,{newAuthorized:we(s.toBuffer()),stakeAuthorizationType:i.index}),p=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:zr,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}];return o&&p.push({pubkey:o,isSigner:!0,isWritable:!1}),new Se().add({keys:p,programId:this.programId,data:u})}static authorizeWithSeed(e){let{stakePubkey:t,authorityBase:n,authoritySeed:s,authorityOwner:i,newAuthorizedPubkey:o,stakeAuthorizationType:c,custodianPubkey:u}=e,p=hn.AuthorizeWithSeed,m=Ee(p,{newAuthorized:we(o.toBuffer()),stakeAuthorizationType:c.index,authoritySeed:s,authorityOwner:we(i.toBuffer())}),b=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1},{pubkey:zr,isSigner:!1,isWritable:!1}];return u&&b.push({pubkey:u,isSigner:!0,isWritable:!1}),new Se().add({keys:b,programId:this.programId,data:m})}static splitInstruction(e){let{stakePubkey:t,authorizedPubkey:n,splitStakePubkey:s,lamports:i}=e,o=hn.Split,c=Ee(o,{lamports:i});return new Te({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:c})}static split(e,t){let n=new Se;return n.add(Ft.createAccount({fromPubkey:e.authorizedPubkey,newAccountPubkey:e.splitStakePubkey,lamports:t,space:this.space,programId:this.programId})),n.add(this.splitInstruction(e))}static splitWithSeed(e,t){let{stakePubkey:n,authorizedPubkey:s,splitStakePubkey:i,basePubkey:o,seed:c,lamports:u}=e,p=new Se;return p.add(Ft.allocate({accountPubkey:i,basePubkey:o,seed:c,space:this.space,programId:this.programId})),t&&t>0&&p.add(Ft.transfer({fromPubkey:e.authorizedPubkey,toPubkey:i,lamports:t})),p.add(this.splitInstruction({stakePubkey:n,authorizedPubkey:s,splitStakePubkey:i,lamports:u}))}static merge(e){let{stakePubkey:t,sourceStakePubKey:n,authorizedPubkey:s}=e,i=hn.Merge,o=Ee(i);return new Se().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:zr,isSigner:!1,isWritable:!1},{pubkey:Eu,isSigner:!1,isWritable:!1},{pubkey:s,isSigner:!0,isWritable:!1}],programId:this.programId,data:o})}static withdraw(e){let{stakePubkey:t,authorizedPubkey:n,toPubkey:s,lamports:i,custodianPubkey:o}=e,c=hn.Withdraw,u=Ee(c,{lamports:i}),p=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:zr,isSigner:!1,isWritable:!1},{pubkey:Eu,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}];return o&&p.push({pubkey:o,isSigner:!0,isWritable:!1}),new Se().add({keys:p,programId:this.programId,data:u})}static deactivate(e){let{stakePubkey:t,authorizedPubkey:n}=e,s=hn.Deactivate,i=Ee(s);return new Se().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:zr,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:i})}};ta.programId=new ue("Stake11111111111111111111111111111111111111");ta.space=200;var li=Object.freeze({InitializeAccount:{index:0,layout:R.struct([R.u32("instruction"),AE()])},Authorize:{index:1,layout:R.struct([R.u32("instruction"),be("newAuthorized"),R.u32("voteAuthorizationType")])},Withdraw:{index:3,layout:R.struct([R.u32("instruction"),R.ns64("lamports")])},UpdateValidatorIdentity:{index:4,layout:R.struct([R.u32("instruction")])},AuthorizeWithSeed:{index:10,layout:R.struct([R.u32("instruction"),IE()])}}),CI=Object.freeze({Voter:{index:0},Withdrawer:{index:1}}),ra=class r{constructor(){}static initializeAccount(e){let{votePubkey:t,nodePubkey:n,voteInit:s}=e,i=li.InitializeAccount,o=Ee(i,{voteInit:{nodePubkey:we(s.nodePubkey.toBuffer()),authorizedVoter:we(s.authorizedVoter.toBuffer()),authorizedWithdrawer:we(s.authorizedWithdrawer.toBuffer()),commission:s.commission}}),c={keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:di,isSigner:!1,isWritable:!1},{pubkey:zr,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:o};return new Te(c)}static createAccount(e){let t=new Se;return t.add(Ft.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.votePubkey,lamports:e.lamports,space:this.space,programId:this.programId})),t.add(this.initializeAccount({votePubkey:e.votePubkey,nodePubkey:e.voteInit.nodePubkey,voteInit:e.voteInit}))}static authorize(e){let{votePubkey:t,authorizedPubkey:n,newAuthorizedPubkey:s,voteAuthorizationType:i}=e,o=li.Authorize,c=Ee(o,{newAuthorized:we(s.toBuffer()),voteAuthorizationType:i.index}),u=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:zr,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}];return new Se().add({keys:u,programId:this.programId,data:c})}static authorizeWithSeed(e){let{currentAuthorityDerivedKeyBasePubkey:t,currentAuthorityDerivedKeyOwnerPubkey:n,currentAuthorityDerivedKeySeed:s,newAuthorizedPubkey:i,voteAuthorizationType:o,votePubkey:c}=e,u=li.AuthorizeWithSeed,p=Ee(u,{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:we(n.toBuffer()),currentAuthorityDerivedKeySeed:s,newAuthorized:we(i.toBuffer()),voteAuthorizationType:o.index}}),m=[{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:zr,isSigner:!1,isWritable:!1},{pubkey:t,isSigner:!0,isWritable:!1}];return new Se().add({keys:m,programId:this.programId,data:p})}static withdraw(e){let{votePubkey:t,authorizedWithdrawerPubkey:n,lamports:s,toPubkey:i}=e,o=li.Withdraw,c=Ee(o,{lamports:s}),u=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}];return new Se().add({keys:u,programId:this.programId,data:c})}static safeWithdraw(e,t,n){if(e.lamports>t-n)throw new Error("Withdraw will leave vote account with insufficient funds.");return r.withdraw(e)}static updateValidatorIdentity(e){let{votePubkey:t,authorizedWithdrawerPubkey:n,nodePubkey:s}=e,i=li.UpdateValidatorIdentity,o=Ee(i),c=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!0,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}];return new Se().add({keys:c,programId:this.programId,data:o})}};ra.programId=new ue("Vote111111111111111111111111111111111111111");ra.space=3762;var PI=new ue("Va1idator1nfo111111111111111111111111111111"),MI=P({name:z(),website:ne(z()),details:ne(z()),iconUrl:ne(z()),keybaseUsername:ne(z())});var UI=new ue("Vote111111111111111111111111111111111111111"),DI=R.struct([be("nodePubkey"),be("authorizedWithdrawer"),R.u8("commission"),R.nu64(),R.seq(R.struct([R.nu64("slot"),R.u32("confirmationCount")]),R.offset(R.u32(),-8),"votes"),R.u8("rootSlotValid"),R.nu64("rootSlot"),R.nu64(),R.seq(R.struct([R.nu64("epoch"),be("authorizedVoter")]),R.offset(R.u32(),-8),"authorizedVoters"),R.struct([R.seq(R.struct([be("authorizedPubkey"),R.nu64("epochOfLastAuthorizedSwitch"),R.nu64("targetEpoch")]),32,"buf"),R.nu64("idx"),R.u8("isEmpty")],"priorVoters"),R.nu64(),R.seq(R.struct([R.nu64("epoch"),R.nu64("credits"),R.nu64("prevCredits")]),R.offset(R.u32(),-8),"epochCredits"),R.struct([R.nu64("slot"),R.nu64("timestamp")],"lastTimestamp")]);var Gu=r=>({request:r,signMessage:e=>r({method:"signMessage",params:{message:e}}),signTransaction:e=>r({method:"signTransaction",params:{transaction:e}}),signAndSendTransaction:e=>r({method:"signAndSendTransaction",params:e})});function Zu(r){return Buffer.from(r.serialize({verifySignatures:!1})).toString("base64")}function Yu(r){let e=Buffer.from(r,"base64");return na.deserializeMessageVersion(e)==="legacy"?Jo.deserialize(e):Se.from(e)}function fv(r){return async t=>{if(t.method==="connect")return await r(t);if(t.method==="signMessage")return await r(t);if(t.method==="signAndSendTransaction"){let{transaction:n,options:s}=t.params,i={transaction:Yu(n),options:s};return await r({method:"signAndSendTransaction",params:i})}if(t.method==="signTransaction"){let{transaction:n}=t.params,s={transaction:Yu(n)},{signedTransaction:i}=await r({method:"signTransaction",params:s});return{signedTransaction:Zu(i)}}}}function Ju(r){return async t=>{if(t.method==="connect")return await r(t);if(t.method==="signMessage")return await r(t);if(t.method==="signAndSendTransaction"){let{transaction:n}=t.params,s={transaction:Zu(n)};return await r({method:"signAndSendTransaction",params:s})}if(t.method==="signTransaction"){let{transaction:n}=t.params,s={transaction:Zu(n)},{signedTransaction:i}=await r({method:"signTransaction",params:s});return{signedTransaction:Yu(i)}}}}var gp=({miniAppHost:r,emitter:e})=>{let t,n=null;return{visible:!1,get onback(){return n},set onback(s){n&&e.removeListener("backNavigationTriggered",n),n=s,s&&e.addListener("backNavigationTriggered",s)},async show(){await r.updateBackState({visible:!0}),this.visible=!0},async hide(){await r.updateBackState({visible:!1}),this.visible=!1},async enableWebNavigation(){t=lv({back:this,emitter:e})},async disableWebNavigation(){t?.(),t=void 0}}};function lv({emitter:r,back:e}){let t=dv();if(t)return hv({emitter:r,back:e,navigation:t});if(typeof window<"u")return pv({emitter:r,back:e,window})}function dv(){if(typeof window<"u"&&window.navigation!==void 0)return window.navigation}function hv({emitter:r,back:e,navigation:t}){function n(){t.canGoBack?e.show():e.hide()}function s(){e.visible&&t.canGoBack&&t.back()}return t.addEventListener("navigatesuccess",n),r.addListener("backNavigationTriggered",s),()=>{t.removeEventListener("navigatesuccess",n),r.removeListener("backNavigationTriggered",s)}}function pv({emitter:r,back:e,window:t}){e.show();function n(){e.visible&&t.history.back()}return r.addListener("backNavigationTriggered",n),()=>{r.removeListener("backNavigationTriggered",n)}}var yp="0.1.1";function _p(){return yp}var oa=class r extends Error{constructor(e,t={}){let n=(()=>{if(t.cause instanceof r){if(t.cause.details)return t.cause.details;if(t.cause.shortMessage)return t.cause.shortMessage}return t.cause?.message?t.cause.message:t.details})(),s=t.cause instanceof r&&t.cause.docsPath||t.docsPath,o=`https://oxlib.sh${s??""}`,c=[e||"An error occurred.",...t.metaMessages?["",...t.metaMessages]:[],...n||s?["",n?`Details: ${n}`:void 0,s?`See: ${o}`:void 0]:[]].filter(u=>typeof u=="string").join(`
`);super(c,t.cause?{cause:t.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:`ox@${_p()}`}),this.cause=t.cause,this.details=n,this.docs=o,this.docsPath=s,this.shortMessage=e}walk(e){return bp(this,e)}};function bp(r,e){return e?.(r)?r:r&&typeof r=="object"&&"cause"in r&&r.cause?bp(r.cause,e):e?null:r}function aa(r,e={}){let{raw:t=!1}=e,n=r;if(t)return r;if(n.error){let{code:s}=n.error,i=s===es.code?es:s===gi.code?gi:s===xi.code?xi:s===vi.code?vi:s===Ei.code?Ei:s===Si.code?Si:s===wi.code?wi:s===Ai.code?Ai:s===yi.code?yi:s===_i.code?_i:s===bi.code?bi:s===Ri.code?Ri:At;throw new i(n.error)}return n.result}var At=class extends Error{constructor(e){let{code:t,message:n,data:s}=e;super(n),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.BaseError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=t,this.data=s}},gi=class r extends At{constructor(e={}){super({message:"Missing or invalid parameters.",...e,code:r.code}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.InvalidInputError"})}};Object.defineProperty(gi,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});var yi=class r extends At{constructor(e={}){super({message:"Requested resource not found.",...e,code:r.code}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.ResourceNotFoundError"})}};Object.defineProperty(yi,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});var _i=class r extends At{constructor(e={}){super({message:"Requested resource not available.",...e,code:r.code}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.ResourceUnavailableError"})}};Object.defineProperty(_i,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});var bi=class r extends At{constructor(e={}){super({message:"Transaction creation failed.",...e,code:r.code}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.TransactionRejectedError"})}};Object.defineProperty(bi,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});var wi=class r extends At{constructor(e={}){super({message:"Method is not implemented.",...e,code:r.code}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.MethodNotSupportedError"})}};Object.defineProperty(wi,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});var Ei=class r extends At{constructor(e={}){super({message:"Rate limit exceeded.",...e,code:r.code}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.LimitExceededError"})}};Object.defineProperty(Ei,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});var Ri=class r extends At{constructor(e={}){super({message:"JSON-RPC version not supported.",...e,code:r.code}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.VersionNotSupportedError"})}};Object.defineProperty(Ri,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});var vi=class r extends At{constructor(e={}){super({message:"Input is not a valid JSON-RPC request.",...e,code:r.code}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.InvalidRequestError"})}};Object.defineProperty(vi,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});var Si=class r extends At{constructor(e={}){super({message:"Method does not exist.",...e,code:r.code}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.MethodNotFoundError"})}};Object.defineProperty(Si,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});var xi=class r extends At{constructor(e={}){super({message:"Invalid method parameters.",...e,code:r.code}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.InvalidParamsError"})}};Object.defineProperty(xi,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});var es=class r extends At{constructor(e={}){super({message:"Internal JSON-RPC error.",...e,code:r.code}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.InternalErrorError"})}};Object.defineProperty(es,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});var Ai=class r extends At{constructor(e={}){super({message:"Failed to parse JSON-RPC response.",...e,code:r.code}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.ParseError"})}};Object.defineProperty(Ai,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});var vr=class extends Error{constructor(e,t){super(t),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ProviderRpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=e,this.details=t}},Ii=class extends vr{constructor({message:e="The user rejected the request."}={}){super(4001,e),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Provider.UserRejectedRequestError"})}};Object.defineProperty(Ii,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});var ki=class extends vr{constructor({message:e="The requested method and/or account has not been authorized by the user."}={}){super(4100,e),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Provider.UnauthorizedError"})}};Object.defineProperty(ki,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});var Oi=class extends vr{constructor({message:e="The provider does not support the requested method."}={}){super(4200,e),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Provider.UnsupportedMethodError"})}};Object.defineProperty(Oi,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});var Ti=class extends vr{constructor({message:e="The provider is disconnected from all chains."}={}){super(4900,e),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Provider.DisconnectedError"})}};Object.defineProperty(Ti,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});var Ni=class extends vr{constructor({message:e="The provider is not connected to the requested chain."}={}){super(4901,e),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Provider.ChainDisconnectedError"})}};Object.defineProperty(Ni,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});function Ep(){let r=new Gn.default;return{get eventNames(){return r.eventNames.bind(r)},get listenerCount(){return r.listenerCount.bind(r)},get listeners(){return r.listeners.bind(r)},addListener:r.addListener.bind(r),emit:r.emit.bind(r),off:r.off.bind(r),on:r.on.bind(r),once:r.once.bind(r),removeAllListeners:r.removeAllListeners.bind(r),removeListener:r.removeListener.bind(r)}}function Rp(r,e={}){let{includeEvents:t=!0}=e;if(!r)throw new Xu;return{...t?{on:r.on?.bind(r),removeListener:r.removeListener?.bind(r)}:{},async request(n){let s=await r.request(n);return s&&typeof s=="object"&&"jsonrpc"in s?aa(s):s}}}var Xu=class extends oa{constructor(){super("`provider` is undefined."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Provider.IsUndefinedError"})}};function vp(r={}){let e=r.id??0;return{prepare(t){return yv({id:e++,...t})},get id(){return e}}}function yv(r){return{...r,jsonrpc:"2.0"}}var xp=Symbol("Comlink.proxy"),bv=Symbol("Comlink.endpoint"),wv=Symbol("Comlink.releaseProxy"),Qu=Symbol("Comlink.finalizer"),ua=Symbol("Comlink.thrown"),Ap=r=>typeof r=="object"&&r!==null||typeof r=="function",Ev={canHandle:r=>Ap(r)&&r[xp],serialize(r){let{port1:e,port2:t}=new MessageChannel;return kp(r,e),[t,[t]]},deserialize(r){return r.start(),tf(r)}},Rv={canHandle:r=>Ap(r)&&ua in r,serialize({value:r}){let e;return r instanceof Error?e={isError:!0,value:{message:r.message,name:r.name,stack:r.stack}}:e={isError:!1,value:r},[e,[]]},deserialize(r){throw r.isError?Object.assign(new Error(r.value.message),r.value):r.value}},Ip=new Map([["proxy",Ev],["throw",Rv]]);function vv(r,e){for(let t of r)if(e===t||t==="*"||t instanceof RegExp&&t.test(e))return!0;return!1}function kp(r,e=globalThis,t=["*"]){e.addEventListener("message",function n(s){if(!s||!s.data)return;if(!vv(t,s.origin)){console.warn(`Invalid origin '${s.origin}' for comlink proxy`);return}let{id:i,type:o,path:c}=Object.assign({path:[]},s.data),u=(s.data.argumentList||[]).map(ts),p;try{let m=c.slice(0,-1).reduce((x,S)=>x[S],r),b=c.reduce((x,S)=>x[S],r);switch(o){case"GET":p=b;break;case"SET":m[c.slice(-1)[0]]=ts(s.data.value),p=!0;break;case"APPLY":p=b.apply(m,u);break;case"CONSTRUCT":{let x=new b(...u);p=Ov(x)}break;case"ENDPOINT":{let{port1:x,port2:S}=new MessageChannel;kp(r,S),p=kv(x,[x])}break;case"RELEASE":p=void 0;break;default:return}}catch(m){p={value:m,[ua]:0}}Promise.resolve(p).catch(m=>({value:m,[ua]:0})).then(m=>{let[b,x]=da(m);e.postMessage(Object.assign(Object.assign({},b),{id:i}),x),o==="RELEASE"&&(e.removeEventListener("message",n),Op(e),Qu in r&&typeof r[Qu]=="function"&&r[Qu]())}).catch(m=>{let[b,x]=da({value:new TypeError("Unserializable return value"),[ua]:0});e.postMessage(Object.assign(Object.assign({},b),{id:i}),x)})}),e.start&&e.start()}function Sv(r){return r.constructor.name==="MessagePort"}function Op(r){Sv(r)&&r.close()}function tf(r,e){let t=new Map;return r.addEventListener("message",function(s){let{data:i}=s;if(!i||!i.id)return;let o=t.get(i.id);if(o)try{o(i)}finally{t.delete(i.id)}}),ef(r,t,[],e)}function ca(r){if(r)throw new Error("Proxy has been released and is not useable")}function Tp(r){return Bs(r,new Map,{type:"RELEASE"}).then(()=>{Op(r)})}var fa=new WeakMap,la="FinalizationRegistry"in globalThis&&new FinalizationRegistry(r=>{let e=(fa.get(r)||0)-1;fa.set(r,e),e===0&&Tp(r)});function xv(r,e){let t=(fa.get(e)||0)+1;fa.set(e,t),la&&la.register(r,e,r)}function Av(r){la&&la.unregister(r)}function ef(r,e,t=[],n=function(){}){let s=!1,i=new Proxy(n,{get(o,c){if(ca(s),c===wv)return()=>{Av(i),Tp(r),e.clear(),s=!0};if(c==="then"){if(t.length===0)return{then:()=>i};let u=Bs(r,e,{type:"GET",path:t.map(p=>p.toString())}).then(ts);return u.then.bind(u)}return ef(r,e,[...t,c])},set(o,c,u){ca(s);let[p,m]=da(u);return Bs(r,e,{type:"SET",path:[...t,c].map(b=>b.toString()),value:p},m).then(ts)},apply(o,c,u){ca(s);let p=t[t.length-1];if(p===bv)return Bs(r,e,{type:"ENDPOINT"}).then(ts);if(p==="bind")return ef(r,e,t.slice(0,-1));let[m,b]=Sp(u);return Bs(r,e,{type:"APPLY",path:t.map(x=>x.toString()),argumentList:m},b).then(ts)},construct(o,c){ca(s);let[u,p]=Sp(c);return Bs(r,e,{type:"CONSTRUCT",path:t.map(m=>m.toString()),argumentList:u},p).then(ts)}});return xv(i,r),i}function Iv(r){return Array.prototype.concat.apply([],r)}function Sp(r){let e=r.map(da);return[e.map(t=>t[0]),Iv(e.map(t=>t[1]))]}var Np=new WeakMap;function kv(r,e){return Np.set(r,e),r}function Ov(r){return Object.assign(r,{[xp]:!0})}function Lp(r,e=globalThis,t="*"){return{postMessage:(n,s)=>r.postMessage(n,t,s),addEventListener:e.addEventListener.bind(e),removeEventListener:e.removeEventListener.bind(e)}}function da(r){for(let[e,t]of Ip)if(t.canHandle(r)){let[n,s]=t.serialize(r);return[{type:"HANDLER",name:e,value:n},s]}return[{type:"RAW",value:r},Np.get(r)||[]]}function ts(r){switch(r.type){case"HANDLER":return Ip.get(r.name).deserialize(r.value);case"RAW":return r.value}}function Bs(r,e,t,n){return new Promise(s=>{let i=Tv();e.set(i,s),r.start&&r.start(),r.postMessage(Object.assign({id:i},t),n)})}function Tv(){return new Array(4).fill(0).map(()=>Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(16)).join("-")}var Nv={postMessage(){},addEventListener:()=>{},removeEventListener:()=>{}},Lv={postMessage:r=>{window.ReactNativeWebView.postMessage(JSON.stringify(r))},addEventListener:(r,e,...t)=>{document.addEventListener("FarcasterFrameCallback",e,...t)},removeEventListener:(r,e)=>{document.removeEventListener("FarcasterFrameCallback",e)}},Bp=typeof window>"u"?Nv:window?.ReactNativeWebView?Lv:Lp(window?.parent??window);var ae=tf(Bp),Bv=ae;var rf=Ep(),Cv=vp();function Pv({code:r,details:e}){switch(r){case 4001:return new Ii;case 4100:return new ki;case 4200:return new Oi;case 4900:return new Ti;case 4901:return new Ni;default:return new vr(r,e??"Unknown provider RPC error")}}var Cs=Rp({...rf,async request(r){let e=Cv.prepare(r);try{let t=await ae.ethProviderRequestV2(e).then(n=>aa(n,{request:e,raw:!0}));if(t.error)throw Pv(t.error);return t.result}catch(t){if(t instanceof Error&&t.message.match(/cannot read property 'apply'/i))return await ae.ethProviderRequest(e);throw t instanceof vr||t instanceof At?t:new es({message:t instanceof Error?t.message:void 0})}}});async function Cp(){try{let r=await ae.getCapabilities();return!r.includes("wallet.getEthereumProvider")&&!r.includes("wallet.getEvmProvider")?void 0:Cs}catch{return Cs}}function Pp(r){let e=new CustomEvent("eip6963:announceProvider",{detail:Object.freeze(r)});window.dispatchEvent(e);let t=()=>window.dispatchEvent(e);return window.addEventListener("eip6963:requestProvider",t),()=>window.removeEventListener("eip6963:requestProvider",t)}typeof document<"u"&&(document.addEventListener("eip6963:requestProvider",()=>{ae.eip6963RequestProvider()}),document.addEventListener("FarcasterFrameEthProviderEvent",r=>{if(r instanceof MessageEvent){let e=r.data;rf.emit(e.event,...e.params)}}),document.addEventListener("FarcasterFrameEvent",r=>{if(r instanceof MessageEvent){let e=r.data;e.event==="eip6963:announceProvider"&&Pp({info:e.info,provider:Cs})}}));typeof window<"u"&&(window.addEventListener("eip6963:requestProvider",()=>{ae.eip6963RequestProvider()}),window.addEventListener("message",r=>{if(r instanceof MessageEvent&&r.data.type==="frameEthProviderEvent"){let e=r.data;rf.emit(e.event,...e.params)}}),window.addEventListener("message",r=>{if(r instanceof MessageEvent&&r.data.type==="frameEvent"){let e=r.data.event;e.event==="eip6963:announceProvider"&&Pp({info:e.info,provider:Cs})}}));var _f={};Qt(_f,{quickAuth:()=>Ms});var Mv=new TextEncoder,ha=new TextDecoder,dk=2**32;var Uv=r=>{let e=atob(r),t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t},Mp=r=>{let e=r;e instanceof Uint8Array&&(e=ha.decode(e)),e=e.replace(/-/g,"+").replace(/_/g,"/").replace(/\s/g,"");try{return Uv(e)}catch{throw new TypeError("The input to be decoded is not correctly encoded.")}};var Up=Mp;function zv(r){return typeof r=="object"&&r!==null}function nf(r){if(!zv(r)||Object.prototype.toString.call(r)!=="[object Object]")return!1;if(Object.getPrototypeOf(r)===null)return!0;let e=r;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(r)===e}var It=class extends Error{constructor(e,t){super(e,t),this.code="ERR_JOSE_GENERIC",this.name=this.constructor.name,Error.captureStackTrace?.(this,this.constructor)}};It.code="ERR_JOSE_GENERIC";var sf=class extends It{constructor(e,t,n="unspecified",s="unspecified"){super(e,{cause:{claim:n,reason:s,payload:t}}),this.code="ERR_JWT_CLAIM_VALIDATION_FAILED",this.claim=n,this.reason=s,this.payload=t}};sf.code="ERR_JWT_CLAIM_VALIDATION_FAILED";var of=class extends It{constructor(e,t,n="unspecified",s="unspecified"){super(e,{cause:{claim:n,reason:s,payload:t}}),this.code="ERR_JWT_EXPIRED",this.claim=n,this.reason=s,this.payload=t}};of.code="ERR_JWT_EXPIRED";var af=class extends It{constructor(){super(...arguments),this.code="ERR_JOSE_ALG_NOT_ALLOWED"}};af.code="ERR_JOSE_ALG_NOT_ALLOWED";var cf=class extends It{constructor(){super(...arguments),this.code="ERR_JOSE_NOT_SUPPORTED"}};cf.code="ERR_JOSE_NOT_SUPPORTED";var uf=class extends It{constructor(e="decryption operation failed",t){super(e,t),this.code="ERR_JWE_DECRYPTION_FAILED"}};uf.code="ERR_JWE_DECRYPTION_FAILED";var ff=class extends It{constructor(){super(...arguments),this.code="ERR_JWE_INVALID"}};ff.code="ERR_JWE_INVALID";var lf=class extends It{constructor(){super(...arguments),this.code="ERR_JWS_INVALID"}};lf.code="ERR_JWS_INVALID";var hr=class extends It{constructor(){super(...arguments),this.code="ERR_JWT_INVALID"}};hr.code="ERR_JWT_INVALID";var df=class extends It{constructor(){super(...arguments),this.code="ERR_JWK_INVALID"}};df.code="ERR_JWK_INVALID";var hf=class extends It{constructor(){super(...arguments),this.code="ERR_JWKS_INVALID"}};hf.code="ERR_JWKS_INVALID";var pf=class extends It{constructor(e="no applicable key found in the JSON Web Key Set",t){super(e,t),this.code="ERR_JWKS_NO_MATCHING_KEY"}};pf.code="ERR_JWKS_NO_MATCHING_KEY";var mf=class extends It{constructor(e="multiple matching keys found in the JSON Web Key Set",t){super(e,t),this.code="ERR_JWKS_MULTIPLE_MATCHING_KEYS"}};mf.code="ERR_JWKS_MULTIPLE_MATCHING_KEYS";var gf=class extends It{constructor(e="request timed out",t){super(e,t),this.code="ERR_JWKS_TIMEOUT"}};gf.code="ERR_JWKS_TIMEOUT";var yf=class extends It{constructor(e="signature verification failed",t){super(e,t),this.code="ERR_JWS_SIGNATURE_VERIFICATION_FAILED"}};yf.code="ERR_JWS_SIGNATURE_VERIFICATION_FAILED";function Dp(r){if(typeof r!="string")throw new hr("JWTs must use Compact JWS serialization, JWT must be a string");let{1:e,length:t}=r.split(".");if(t===5)throw new hr("Only JWTs using Compact JWS serialization can be decoded");if(t!==3)throw new hr("Invalid JWT");if(!e)throw new hr("JWTs must contain a payload");let n;try{n=Up(e)}catch{throw new hr("Failed to base64url decode the payload")}let s;try{s=JSON.parse(ha.decode(n))}catch{throw new hr("Failed to parse the decoded payload as JSON")}if(!nf(s))throw new hr("Invalid JWT Claims Set");return s}function zp(r){return Dp(r)}var pa=class r extends Error{constructor(e,t={}){let n=(()=>{if(t.cause instanceof r){if(t.cause.details)return t.cause.details;if(t.cause.shortMessage)return t.cause.shortMessage}return t.cause&&"details"in t.cause&&typeof t.cause.details=="string"?t.cause.details:t.cause?.message?t.cause.message:t.details})(),s=[e||"An error occurred.",...t.metaMessages?["",...t.metaMessages]:[],...n?["",n?`Details: ${n}`:void 0]:[]].filter(i=>typeof i=="string").join(`
`);super(s,t.cause?{cause:t.cause}:void 0),this.name="BaseError",this.cause=t.cause,this.details=n,this.shortMessage=e}},Ps=class extends pa{constructor({status:e}){super(`Request failed with status ${e}`),this.name="RequestFailedError"}},ma=class extends pa{constructor(e){super(e),this.name="InvalidToken"}};async function Fp({origin:r}){let e=await fetch(`${r}/nonce`,{method:"POST"});if(!e.ok)throw new Ps({status:e.status});return await e.json()}async function $p({origin:r},e){let t=await fetch(`${r}/verify-siwf`,{method:"POST",headers:new Headers({"Content-Type":"application/json"}),body:JSON.stringify(e)});if(!t.ok)throw new Ps({status:t.status});let n=await t.json();if(n.valid===!1)throw new ma(n.message??"unknown");return{token:n.token}}function Vp(r={}){return{origin:r.origin??"https://auth.farcaster.xyz"}}function Wp(r={}){let e=Vp(r);return{generateNonce:()=>Fp(e),verifySiwf:t=>$p(e,t)}}var Fv=/^(?:(?<scheme>[a-zA-Z][a-zA-Z0-9+-.]*):\/\/)?(?<domain>[a-zA-Z0-9+-.]*(?::[0-9]{1,5})?) (?:wants you to sign in with your Ethereum account:\n)(?<address>0x[a-fA-F0-9]{40})\n\n(?:(?<statement>.*)\n\n)?/,$v=/(?:URI: (?<uri>.+))\n(?:Version: (?<version>.+))\n(?:Chain ID: (?<chainId>\d+))\n(?:Nonce: (?<nonce>[a-zA-Z0-9]+))\n(?:Issued At: (?<issuedAt>.+))(?:\nExpiration Time: (?<expirationTime>.+))?(?:\nNot Before: (?<notBefore>.+))?(?:\nRequest ID: (?<requestId>.+))?/;function qp(r){let{scheme:e,statement:t,...n}=r.match(Fv)?.groups??{},{chainId:s,expirationTime:i,issuedAt:o,notBefore:c,requestId:u,...p}=r.match($v)?.groups??{},m=r.split("Resources:")[1]?.split(`
- `).slice(1);return{...n,...p,...s?{chainId:Number(s)}:{},...i?{expirationTime:new Date(i)}:{},...o?{issuedAt:new Date(o)}:{},...c?{notBefore:new Date(c)}:{},...u?{requestId:u}:{},...m?{resources:m}:{},...e?{scheme:e}:{},...t?{statement:t}:{}}}var Ms=(()=>{let r,e;async function t(n){let s=Wp({origin:n.quickAuthServerOrigin}),{nonce:i}=await s.generateNonce(),o=await ae.signIn({nonce:i,acceptAuthAddress:!0});if(o.result){let c=qp(o.result.message);if(!c.domain)throw new Error("Missing domain on SIWE message");let u=await s.verifySiwf({domain:c.domain,message:o.result.message,signature:o.result.signature});return r={token:u.token,payload:zp(u.token)},u}throw o.error.type==="rejected_by_user"?new gn.RejectedByUser:new Error("Unreachable")}return{get token(){if(r&&new Date(r.payload.exp*1e3)>new Date(Date.now()+15e3))return r.token},async getToken(n={}){let s=n.force??!1;return r&&!s&&new Date(r.payload.exp*1e3)>new Date(Date.now()+15e3)?{token:r.token}:(e||(e=t(n)),e.finally(()=>{e=void 0}),e)},async fetch(n,s){let{token:i}=await this.getToken(),o=new Headers(s?.headers);return o.set("Authorization",`Bearer ${i}`),fetch(n,{...s,headers:o})}}})();function Wv(){let r=new yh;return{get eventNames(){return r.eventNames.bind(r)},get listenerCount(){return r.listenerCount.bind(r)},get listeners(){return r.listeners.bind(r)},addListener:r.addListener.bind(r),emit:r.emit.bind(r),off:r.off.bind(r),on:r.on.bind(r),once:r.once.bind(r),removeAllListeners:r.removeAllListeners.bind(r),removeListener:r.removeListener.bind(r)}}var kt=Wv();var{solanaProviderRequest:jp}=ae,Kp;jp&&(Kp=Gu(Ju(jp)));async function bf(){let r;try{r=await ae.getCapabilities()}catch{}if(r?.includes("wallet.getSolanaProvider"))return Kp}var Hp=null;async function qv(r=1e3){if(Hp===!0)return!0;if(typeof window>"u"||!window.ReactNativeWebView&&window===window.parent)return!1;let e=await Promise.race([ae.context.then(t=>!!t),new Promise(t=>{setTimeout(()=>t(!1),r)})]).catch(()=>!1);return e&&(Hp=!0),e}var Gp=async()=>{let r=await ae.addFrame();if(r.result)return r.result;throw r.error.type==="invalid_domain_manifest"?new ss.InvalidDomainManifest:r.error.type==="rejected_by_user"?new ss.RejectedByUser:new Error("Unreachable")},wf={...kt,getCapabilities:ae.getCapabilities,getChains:ae.getChains,isInMiniApp:qv,context:ae.context,back:gp({miniAppHost:ae,emitter:kt}),quickAuth:Ms,actions:{setPrimaryButton:ae.setPrimaryButton.bind(ae),ready:async(r={})=>await ae.ready(r),close:ae.close.bind(ae),viewCast:ae.viewCast.bind(ae),viewProfile:ae.viewProfile.bind(ae),openMiniApp:ae.openMiniApp.bind(ae),signIn:async r=>{let e=await ae.signIn(r);if(e.result)return e.result;throw e.error.type==="rejected_by_user"?new gn.RejectedByUser:new Error("Unreachable")},openUrl:r=>{let e=typeof r=="string"?r:r.url;return ae.openUrl(e.trim())},addFrame:Gp,addMiniApp:Gp,composeCast(r={}){return ae.composeCast(r)},viewToken:ae.viewToken.bind(ae),sendToken:ae.sendToken.bind(ae),swapToken:ae.swapToken.bind(ae),requestCameraAndMicrophoneAccess:ae.requestCameraAndMicrophoneAccess.bind(ae)},experimental:{getSolanaProvider:bf,signManifest:async r=>{let e=await ae.signManifest(r);if(e.result)return e.result;throw e.error.type==="rejected_by_user"?new yn.RejectedByUser:e.error.type==="invalid_domain"?new yn.InvalidDomain:e.error.type==="generic_error"?new yn.GenericError(e.error.message):new Error("Unreachable")},quickAuth(r){return Ms.getToken(r)}},wallet:{ethProvider:Cs,getEthereumProvider:Cp,getSolanaProvider:bf},haptics:{impactOccurred:ae.impactOccurred.bind(ae),notificationOccurred:ae.notificationOccurred.bind(ae),selectionChanged:ae.selectionChanged.bind(ae)}};typeof document<"u"&&document.addEventListener("FarcasterFrameEvent",r=>{if(r instanceof MessageEvent){let e=r.data;e.event==="primary_button_clicked"?kt.emit("primaryButtonClicked"):e.event==="miniapp_added"?kt.emit("miniAppAdded",{notificationDetails:e.notificationDetails}):e.event==="miniapp_add_rejected"?kt.emit("miniAppAddRejected",{reason:e.reason}):e.event==="miniapp_removed"?kt.emit("miniAppRemoved"):e.event==="notifications_enabled"?kt.emit("notificationsEnabled",{notificationDetails:e.notificationDetails}):e.event==="notifications_disabled"?kt.emit("notificationsDisabled"):e.event==="back_navigation_triggered"&&kt.emit("backNavigationTriggered")}});typeof window<"u"&&window.addEventListener("message",r=>{if(r instanceof MessageEvent&&r.data.type==="frameEvent"){let e=r.data.event;e.event==="primary_button_clicked"?kt.emit("primaryButtonClicked"):e.event==="miniapp_added"?kt.emit("miniAppAdded",{notificationDetails:e.notificationDetails}):e.event==="miniapp_add_rejected"?kt.emit("miniAppAddRejected",{reason:e.reason}):e.event==="miniapp_removed"?kt.emit("miniAppRemoved"):e.event==="notifications_enabled"?kt.emit("notificationsEnabled",{notificationDetails:e.notificationDetails}):e.event==="notifications_disabled"?kt.emit("notificationsDisabled"):e.event==="back_navigation_triggered"&&kt.emit("backNavigationTriggered")}});var jv=wf;return Pa(Kv);})();
/*! Bundled license information:

ieee754/index.js:
  (*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> *)

buffer/index.js:
  (*!
   * The buffer module from node.js, for the browser.
   *
   * @author   Feross Aboukhadijeh <https://feross.org>
   * @license  MIT
   *)

safe-buffer/index.js:
  (*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *)

@solana/buffer-layout/lib/Layout.js:
  (**
   * Support for translating between Uint8Array instances and JavaScript
   * native types.
   *
   * {@link module:Layout~Layout|Layout} is the basis of a class
   * hierarchy that associates property names with sequences of encoded
   * bytes.
   *
   * Layouts are supported for these scalar (numeric) types:
   * * {@link module:Layout~UInt|Unsigned integers in little-endian
   *   format} with {@link module:Layout.u8|8-bit}, {@link
   *   module:Layout.u16|16-bit}, {@link module:Layout.u24|24-bit},
   *   {@link module:Layout.u32|32-bit}, {@link
   *   module:Layout.u40|40-bit}, and {@link module:Layout.u48|48-bit}
   *   representation ranges;
   * * {@link module:Layout~UIntBE|Unsigned integers in big-endian
   *   format} with {@link module:Layout.u16be|16-bit}, {@link
   *   module:Layout.u24be|24-bit}, {@link module:Layout.u32be|32-bit},
   *   {@link module:Layout.u40be|40-bit}, and {@link
   *   module:Layout.u48be|48-bit} representation ranges;
   * * {@link module:Layout~Int|Signed integers in little-endian
   *   format} with {@link module:Layout.s8|8-bit}, {@link
   *   module:Layout.s16|16-bit}, {@link module:Layout.s24|24-bit},
   *   {@link module:Layout.s32|32-bit}, {@link
   *   module:Layout.s40|40-bit}, and {@link module:Layout.s48|48-bit}
   *   representation ranges;
   * * {@link module:Layout~IntBE|Signed integers in big-endian format}
   *   with {@link module:Layout.s16be|16-bit}, {@link
   *   module:Layout.s24be|24-bit}, {@link module:Layout.s32be|32-bit},
   *   {@link module:Layout.s40be|40-bit}, and {@link
   *   module:Layout.s48be|48-bit} representation ranges;
   * * 64-bit integral values that decode to an exact (if magnitude is
   *   less than 2^53) or nearby integral Number in {@link
   *   module:Layout.nu64|unsigned little-endian}, {@link
   *   module:Layout.nu64be|unsigned big-endian}, {@link
   *   module:Layout.ns64|signed little-endian}, and {@link
   *   module:Layout.ns64be|unsigned big-endian} encodings;
   * * 32-bit floating point values with {@link
   *   module:Layout.f32|little-endian} and {@link
   *   module:Layout.f32be|big-endian} representations;
   * * 64-bit floating point values with {@link
   *   module:Layout.f64|little-endian} and {@link
   *   module:Layout.f64be|big-endian} representations;
   * * {@link module:Layout.const|Constants} that take no space in the
   *   encoded expression.
   *
   * and for these aggregate types:
   * * {@link module:Layout.seq|Sequence}s of instances of a {@link
   *   module:Layout~Layout|Layout}, with JavaScript representation as
   *   an Array and constant or data-dependent {@link
   *   module:Layout~Sequence#count|length};
   * * {@link module:Layout.struct|Structure}s that aggregate a
   *   heterogeneous sequence of {@link module:Layout~Layout|Layout}
   *   instances, with JavaScript representation as an Object;
   * * {@link module:Layout.union|Union}s that support multiple {@link
   *   module:Layout~VariantLayout|variant layouts} over a fixed
   *   (padded) or variable (not padded) span of bytes, using an
   *   unsigned integer at the start of the data or a separate {@link
   *   module:Layout.unionLayoutDiscriminator|layout element} to
   *   determine which layout to use when interpreting the buffer
   *   contents;
   * * {@link module:Layout.bits|BitStructure}s that contain a sequence
   *   of individual {@link
   *   module:Layout~BitStructure#addField|BitField}s packed into an 8,
   *   16, 24, or 32-bit unsigned integer starting at the least- or
   *   most-significant bit;
   * * {@link module:Layout.cstr|C strings} of varying length;
   * * {@link module:Layout.blob|Blobs} of fixed- or variable-{@link
   *   module:Layout~Blob#length|length} raw data.
   *
   * All {@link module:Layout~Layout|Layout} instances are immutable
   * after construction, to prevent internal state from becoming
   * inconsistent.
   *
   * @local Layout
   * @local ExternalLayout
   * @local GreedyCount
   * @local OffsetLayout
   * @local UInt
   * @local UIntBE
   * @local Int
   * @local IntBE
   * @local NearUInt64
   * @local NearUInt64BE
   * @local NearInt64
   * @local NearInt64BE
   * @local Float
   * @local FloatBE
   * @local Double
   * @local DoubleBE
   * @local Sequence
   * @local Structure
   * @local UnionDiscriminator
   * @local UnionLayoutDiscriminator
   * @local Union
   * @local VariantLayout
   * @local BitStructure
   * @local BitField
   * @local Boolean
   * @local Blob
   * @local CString
   * @local Constant
   * @local bindConstructorLayout
   * @module Layout
   * @license MIT
   * @author Peter A. Bigot
   * @see {@link https://github.com/pabigot/buffer-layout|buffer-layout on GitHub}
   *)

@noble/hashes/esm/utils.js:
  (*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/abstract/utils.js:
@noble/curves/esm/abstract/modular.js:
@noble/curves/esm/abstract/curve.js:
@noble/curves/esm/abstract/edwards.js:
@noble/curves/esm/ed25519.js:
@noble/curves/esm/abstract/weierstrass.js:
@noble/curves/esm/_shortw_utils.js:
@noble/curves/esm/secp256k1.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

comlink/dist/esm/comlink.mjs:
  (**
   * @license
   * Copyright 2019 Google LLC
   * SPDX-License-Identifier: Apache-2.0
   *)
*/
//# sourceMappingURL=index.min.js.map
